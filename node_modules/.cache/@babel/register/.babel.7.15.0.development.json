{
  "{\"assumptions\":{},\"sourceRoot\":\"D:\\\\copia\\\\server\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\copia\",\"filename\":\"D:\\\\copia\\\\server\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\copia\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.0": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "D:\\copia\\server\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\copia",
      "filename": "D:\\copia\\server\\index.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "D:\\copia",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\copia\\server\\index.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\copia\\server\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\copia\\server\\",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _expressFileupload = _interopRequireDefault(require(\"express-fileupload\"));\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _database = require(\"./database.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst app = (0, _express.default)();\napp.use(_express.default.urlencoded({\n  extended: true\n}));\napp.use(_express.default.json());\napp.use((0, _expressFileupload.default)());\n\n_mongoose.default.connect(_database.url, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}).then(db => console.log('db is conect')).catch(err => console.log(err));\n\napp.set('port', process.env.port || 3000);\napp.engine('html', require('ejs').renderFile);\napp.use('/', _express.default.static(_path.default.join(__dirname, '/public')));\napp.use(require(_path.default.join(__dirname, 'Router/index.js')));\napp.use('*', (req, res) => {\n  res.render(_path.default.join(__dirname, 'public/html/servis/error.html'));\n});\napp.listen(app.get('port'), () => {\n  console.log(`esta corriendo por el puesto ${app.get('port')} `);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImFwcCIsInVzZSIsImV4cHJlc3MiLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJqc29uIiwibW9uZ29vc2UiLCJjb25uZWN0IiwidXJsIiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwidGhlbiIsImRiIiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyIiwic2V0IiwicHJvY2VzcyIsImVudiIsInBvcnQiLCJlbmdpbmUiLCJyZXF1aXJlIiwicmVuZGVyRmlsZSIsInN0YXRpYyIsInBhdGgiLCJqb2luIiwiX19kaXJuYW1lIiwicmVxIiwicmVzIiwicmVuZGVyIiwibGlzdGVuIiwiZ2V0Il0sIm1hcHBpbmdzIjoiOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsR0FBRyxHQUFHLHVCQUFaO0FBRUFBLEdBQUcsQ0FBQ0MsR0FBSixDQUFRQyxpQkFBUUMsVUFBUixDQUFtQjtBQUFFQyxFQUFBQSxRQUFRLEVBQUU7QUFBWixDQUFuQixDQUFSO0FBQ0FKLEdBQUcsQ0FBQ0MsR0FBSixDQUFRQyxpQkFBUUcsSUFBUixFQUFSO0FBQ0FMLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLGlDQUFSOztBQUNBSyxrQkFBU0MsT0FBVCxDQUFpQkMsYUFBakIsRUFBc0I7QUFBRUMsRUFBQUEsZUFBZSxFQUFFLElBQW5CO0FBQXlCQyxFQUFBQSxrQkFBa0IsRUFBRTtBQUE3QyxDQUF0QixFQUNHQyxJQURILENBQ1FDLEVBQUUsSUFBSUMsT0FBTyxDQUFDQyxHQUFSLENBQVksY0FBWixDQURkLEVBRUdDLEtBRkgsQ0FFU0MsR0FBRyxJQUFJSCxPQUFPLENBQUNDLEdBQVIsQ0FBWUUsR0FBWixDQUZoQjs7QUFJQWhCLEdBQUcsQ0FBQ2lCLEdBQUosQ0FBUSxNQUFSLEVBQWdCQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsSUFBWixJQUFvQixJQUFwQztBQUNBcEIsR0FBRyxDQUFDcUIsTUFBSixDQUFXLE1BQVgsRUFBbUJDLE9BQU8sQ0FBQyxLQUFELENBQVAsQ0FBZUMsVUFBbEM7QUFDQXZCLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLEdBQVIsRUFBYUMsaUJBQVFzQixNQUFSLENBQWVDLGNBQUtDLElBQUwsQ0FBVUMsU0FBVixFQUFxQixTQUFyQixDQUFmLENBQWI7QUFDQTNCLEdBQUcsQ0FBQ0MsR0FBSixDQUFRcUIsT0FBTyxDQUFDRyxjQUFLQyxJQUFMLENBQVVDLFNBQVYsRUFBcUIsaUJBQXJCLENBQUQsQ0FBZjtBQUNBM0IsR0FBRyxDQUFDQyxHQUFKLENBQVEsR0FBUixFQUFhLENBQUMyQixHQUFELEVBQU1DLEdBQU4sS0FBYztBQUN6QkEsRUFBQUEsR0FBRyxDQUFDQyxNQUFKLENBQVdMLGNBQUtDLElBQUwsQ0FBVUMsU0FBVixFQUFxQiwrQkFBckIsQ0FBWDtBQUNELENBRkQ7QUFHQTNCLEdBQUcsQ0FBQytCLE1BQUosQ0FBVy9CLEdBQUcsQ0FBQ2dDLEdBQUosQ0FBUSxNQUFSLENBQVgsRUFBNEIsTUFBTTtBQUNoQ25CLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLGdDQUErQmQsR0FBRyxDQUFDZ0MsR0FBSixDQUFRLE1BQVIsQ0FBZ0IsR0FBNUQ7QUFDRCxDQUZEIiwic291cmNlUm9vdCI6IkQ6XFxjb3BpYVxcc2VydmVyXFwiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcydcclxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcclxuaW1wb3J0IGZpbGV1cGxvYWQgZnJvbSAnZXhwcmVzcy1maWxldXBsb2FkJ1xyXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnXHJcbmltcG9ydCB7IHVybCB9IGZyb20gJy4vZGF0YWJhc2UuanMnXHJcblxyXG5jb25zdCBhcHAgPSBleHByZXNzKClcclxuXHJcbmFwcC51c2UoZXhwcmVzcy51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpXHJcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpXHJcbmFwcC51c2UoZmlsZXVwbG9hZCgpKVxyXG5tb25nb29zZS5jb25uZWN0KHVybCwgeyB1c2VOZXdVcmxQYXJzZXI6IHRydWUsIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSB9KVxyXG4gIC50aGVuKGRiID0+IGNvbnNvbGUubG9nKCdkYiBpcyBjb25lY3QnKSlcclxuICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpXHJcblxyXG5hcHAuc2V0KCdwb3J0JywgcHJvY2Vzcy5lbnYucG9ydCB8fCAzMDAwKVxyXG5hcHAuZW5naW5lKCdodG1sJywgcmVxdWlyZSgnZWpzJykucmVuZGVyRmlsZSlcclxuYXBwLnVzZSgnLycsIGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsICcvcHVibGljJykpKVxyXG5hcHAudXNlKHJlcXVpcmUocGF0aC5qb2luKF9fZGlybmFtZSwgJ1JvdXRlci9pbmRleC5qcycpKSlcclxuYXBwLnVzZSgnKicsIChyZXEsIHJlcykgPT4ge1xyXG4gIHJlcy5yZW5kZXIocGF0aC5qb2luKF9fZGlybmFtZSwgJ3B1YmxpYy9odG1sL3NlcnZpcy9lcnJvci5odG1sJykpXHJcbn0pXHJcbmFwcC5saXN0ZW4oYXBwLmdldCgncG9ydCcpLCAoKSA9PiB7XHJcbiAgY29uc29sZS5sb2coYGVzdGEgY29ycmllbmRvIHBvciBlbCBwdWVzdG8gJHthcHAuZ2V0KCdwb3J0Jyl9IGApXHJcbn0pXHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "app",
        "use",
        "express",
        "urlencoded",
        "extended",
        "json",
        "mongoose",
        "connect",
        "url",
        "useNewUrlParser",
        "useUnifiedTopology",
        "then",
        "db",
        "console",
        "log",
        "catch",
        "err",
        "set",
        "process",
        "env",
        "port",
        "engine",
        "require",
        "renderFile",
        "static",
        "path",
        "join",
        "__dirname",
        "req",
        "res",
        "render",
        "listen",
        "get"
      ],
      "mappings": ";;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,GAAG,GAAG,uBAAZ;AAEAA,GAAG,CAACC,GAAJ,CAAQC,iBAAQC,UAAR,CAAmB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAnB,CAAR;AACAJ,GAAG,CAACC,GAAJ,CAAQC,iBAAQG,IAAR,EAAR;AACAL,GAAG,CAACC,GAAJ,CAAQ,iCAAR;;AACAK,kBAASC,OAAT,CAAiBC,aAAjB,EAAsB;AAAEC,EAAAA,eAAe,EAAE,IAAnB;AAAyBC,EAAAA,kBAAkB,EAAE;AAA7C,CAAtB,EACGC,IADH,CACQC,EAAE,IAAIC,OAAO,CAACC,GAAR,CAAY,cAAZ,CADd,EAEGC,KAFH,CAESC,GAAG,IAAIH,OAAO,CAACC,GAAR,CAAYE,GAAZ,CAFhB;;AAIAhB,GAAG,CAACiB,GAAJ,CAAQ,MAAR,EAAgBC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAApC;AACApB,GAAG,CAACqB,MAAJ,CAAW,MAAX,EAAmBC,OAAO,CAAC,KAAD,CAAP,CAAeC,UAAlC;AACAvB,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAaC,iBAAQsB,MAAR,CAAeC,cAAKC,IAAL,CAAUC,SAAV,EAAqB,SAArB,CAAf,CAAb;AACA3B,GAAG,CAACC,GAAJ,CAAQqB,OAAO,CAACG,cAAKC,IAAL,CAAUC,SAAV,EAAqB,iBAArB,CAAD,CAAf;AACA3B,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAa,CAAC2B,GAAD,EAAMC,GAAN,KAAc;AACzBA,EAAAA,GAAG,CAACC,MAAJ,CAAWL,cAAKC,IAAL,CAAUC,SAAV,EAAqB,+BAArB,CAAX;AACD,CAFD;AAGA3B,GAAG,CAAC+B,MAAJ,CAAW/B,GAAG,CAACgC,GAAJ,CAAQ,MAAR,CAAX,EAA4B,MAAM;AAChCnB,EAAAA,OAAO,CAACC,GAAR,CAAa,gCAA+Bd,GAAG,CAACgC,GAAJ,CAAQ,MAAR,CAAgB,GAA5D;AACD,CAFD",
      "sourceRoot": "D:\\copia\\server\\",
      "sourcesContent": [
        "\r\nimport express from 'express'\r\nimport path from 'path'\r\nimport fileupload from 'express-fileupload'\r\nimport mongoose from 'mongoose'\r\nimport { url } from './database.js'\r\n\r\nconst app = express()\r\n\r\napp.use(express.urlencoded({ extended: true }))\r\napp.use(express.json())\r\napp.use(fileupload())\r\nmongoose.connect(url, { useNewUrlParser: true, useUnifiedTopology: true })\r\n  .then(db => console.log('db is conect'))\r\n  .catch(err => console.log(err))\r\n\r\napp.set('port', process.env.port || 3000)\r\napp.engine('html', require('ejs').renderFile)\r\napp.use('/', express.static(path.join(__dirname, '/public')))\r\napp.use(require(path.join(__dirname, 'Router/index.js')))\r\napp.use('*', (req, res) => {\r\n  res.render(path.join(__dirname, 'public/html/servis/error.html'))\r\n})\r\napp.listen(app.get('port'), () => {\r\n  console.log(`esta corriendo por el puesto ${app.get('port')} `)\r\n})\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1630008380373
  },
  "{\"assumptions\":{},\"sourceRoot\":\"D:\\\\copia\\\\server\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\copia\",\"filename\":\"D:\\\\copia\\\\server\\\\database.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\copia\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.0": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "D:\\copia\\server\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\copia",
      "filename": "D:\\copia\\server\\database.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "D:\\copia",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\copia\\server\\database.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\copia\\server\\database.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\copia\\server\\",
        "sourceFileName": "database.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nmodule.exports = {\n  url: 'mongodb://localhost:27017/project'\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhdGFiYXNlLmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJ1cmwiXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUNmQyxFQUFBQSxHQUFHLEVBQUU7QUFEVSxDQUFqQiIsInNvdXJjZVJvb3QiOiJEOlxcY29waWFcXHNlcnZlclxcIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgdXJsOiAnbW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNy9wcm9qZWN0J1xyXG59XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "database.js"
      ],
      "names": [
        "module",
        "exports",
        "url"
      ],
      "mappings": ";;AAAAA,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,GAAG,EAAE;AADU,CAAjB",
      "sourceRoot": "D:\\copia\\server\\",
      "sourcesContent": [
        "module.exports = {\r\n  url: 'mongodb://localhost:27017/project'\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1629980450999
  },
  "{\"assumptions\":{},\"sourceRoot\":\"D:\\\\copia\\\\server\\\\Router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\copia\",\"filename\":\"D:\\\\copia\\\\server\\\\Router\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\copia\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.0": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "D:\\copia\\server\\Router\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\copia",
      "filename": "D:\\copia\\server\\Router\\index.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "D:\\copia",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\copia\\server\\Router\\index.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\copia\\server\\Router\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\copia\\server\\Router\\",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst path = require('path');\n\nconst Router = require('express').Router();\n\nconst {\n  v4: uuidv4\n} = require('uuid');\n\nconst fs = require('fs');\n\nconst jwt = require('jsonwebtoken');\n\nconst cookieNPM = require('cookie');\n\nconst ffmpegPath = require('@ffmpeg-installer/ffmpeg').path;\n\nconst ffmpeg = require('fluent-ffmpeg');\n\nconst bcrypt = require('bcrypt');\n\nconst youKnow = 'iLovePlayMinecraftForEver';\nconst pages = path.join(__dirname, '/../public/');\nconst baseHash = 10;\n\nconst ModelUser = require('../usariname.js');\n\nffmpeg.setFfmpegPath(ffmpegPath);\n\nfunction verificacion(cookie) {\n  const jsoncookie = cookieNPM.parse(cookie);\n\n  if (!jsoncookie.userName || jsoncookie.userName === 'undefined' || jsoncookie.userName.length === 0) {\n    return {\n      metodo: false\n    };\n  }\n\n  const token = jsoncookie.userName;\n  const decodedToken = jwt.verify(token, youKnow);\n\n  if (!decodedToken.id) {\n    return {\n      metodo: false\n    };\n  } else {\n    return {\n      metodo: true,\n      decodedToken\n    };\n  }\n}\n\nRouter.get('/', (req, res) => {\n  const cookie = req.headers.cookie;\n\n  if (!cookie) {\n    res.render(path.join(pages, 'html/pagina_principal/index.html'));\n    return;\n  }\n\n  const objetoVerificacion = verificacion(cookie);\n\n  if (!objetoVerificacion.metodo) {\n    res.render(path.join(pages, 'html/pagina_principal/index.html'));\n    return;\n  }\n\n  res.render(path.join(pages, 'html/cuentas/sujeridos.ejs'), {\n    name: objetoVerificacion.decodedToken.usuariname,\n    icon: objetoVerificacion.decodedToken.icon\n  });\n});\nRouter.get('/register', (req, res) => res.render(path.join(pages, 'html/register/registro.html')));\nRouter.get('/:id', async (req, res) => {\n  const cookie = req.headers.cookie;\n\n  if (!cookie) {\n    res.status(401).render(pages + 'html/servis/401NoAutorizacion.html');\n    return;\n  }\n\n  const nombreUrl = req.params.id.replaceAll('%20', ' ');\n  const user = await ModelUser.findOne({\n    usuari: nombreUrl\n  });\n\n  if (!user) {\n    res.render(pages + 'html/servis/error.html');\n  } else {\n    const objetoVerificacion = verificacion(cookie);\n\n    if (!objetoVerificacion.metodo) {\n      res.status(401).render('html/servis/401NoAutorizacion.html');\n      return;\n    }\n\n    const decodedToken = objetoVerificacion.decodedToken;\n    const arrayBackground = user.background.split('.');\n    let extencion = arrayBackground[arrayBackground.length - 1];\n    extencion === 'mp4' || extencion === 'avi' ? extencion = `<video id=\"responsive_cuentas.js-la_entidad_de_la_imagen_para_poder_comparar_su_tamaño-background\" class=\"background-content-responsive-video\" src=\"${user.background}\" controls></video>` : extencion = `<img id=\"responsive_cuentas.js-la_entidad_de_la_imagen_para_poder_comparar_su_tamaño-background\" class=\"background-content-responsive-imagen\" src=\"${user.background}\" alt=\"\">`;\n    const difbackground = `<img class=\"imageDifumida\" src=\"${user.backgroundDifumidado}\" alt=\"\">`;\n    const userToken = await ModelUser.findOne({\n      _id: decodedToken.id\n    });\n    let amigo = false;\n    userToken.amigos.forEach(el => {\n      if (el === `${user._id}`) {\n        amigo = true;\n      }\n    });\n\n    if (`${user._id}` === `${decodedToken.id}`) {\n      res.render(pages + 'html/cuentas/cuentas.ejs', {\n        extencion: extencion,\n        user: userToken.usuari,\n        name: user.usuari,\n        backgroundDifuminado: difbackground,\n        icon: user.icon,\n        perfil: userToken.icon\n      });\n    } else {\n      res.render(pages + 'html/cuentas/anotherCuenta.ejs', {\n        extencion: extencion,\n        user: user.usuari,\n        name: userToken.usuari,\n        backgroundDifuminado: difbackground,\n        icon: userToken.icon,\n        perfil: user.icon,\n        amigo\n      });\n    }\n  }\n});\nRouter.post('/', async (req, res) => {\n  const op = req.body;\n\n  if (!op.uss || !op.contra) {\n    res.status(400).json({\n      mensaje: 'porque modificas mi codigo'\n    });\n    return;\n  }\n\n  const primer = new ModelUser({\n    usuari: op.uss,\n    password: op.contra\n  });\n  const user = await ModelUser.findOne({\n    usuari: primer.usuari\n  });\n\n  if (user) {\n    if (await bcrypt.compare(primer.password, user.password)) {\n      const token = jwt.sign({\n        id: user._id,\n        usuariname: user.usuari,\n        icon: user.icon\n      }, youKnow);\n      res.json({\n        metodo: true,\n        token: token\n      });\n      return;\n    }\n  }\n\n  res.status(203).json({\n    metodo: false,\n    mensaje: 'su contraseña o usuario esta mal'\n  });\n});\nRouter.post('/ultimaBusqueda', async (req, res) => {\n  const cookie = req.headers.cookie;\n\n  if (!cookie) {\n    res.status(401).render(pages + '/html/401NoAutorizacion.html');\n    return;\n  }\n\n  const objetoVerificacion = verificacion(cookie);\n\n  if (!objetoVerificacion.metodo) {\n    res.status(404).send('no se ah encontrado el usuario');\n    return;\n  }\n\n  const user = await ModelUser.findOne({\n    _id: objetoVerificacion.decodedToken.id\n  });\n  res.send(JSON.stringify(user.ultimasBusquedas));\n  res.end();\n});\nRouter.post('/register', async (req, res) => {\n  const op = req.body;\n\n  if (!op.uss || !op.contra) {\n    res.status(400).send('que haces cambiando mi codigo?');\n    return;\n  }\n\n  const user = await ModelUser.findOne({\n    usuari: op.uss\n  });\n\n  if (user) {\n    res.send({\n      metodo: false,\n      mensage: 'Este usuario ya existe'\n    });\n  }\n\n  const salt = bcrypt.genSaltSync(baseHash);\n  const passHash = bcrypt.hashSync(op.contra, salt);\n  const primer = new ModelUser({\n    usuari: op.uss,\n    password: passHash\n  });\n  const userNew = await primer.save();\n  const token = await jwt.sign({\n    id: userNew._id,\n    usuariname: userNew.usuari,\n    icon: userNew.icon\n  }, youKnow);\n  res.send({\n    metodo: true,\n    mensage: 'se ha guardado su usuario',\n    nombre: userNew.usuari,\n    token: token\n  });\n});\nRouter.post('/cuentas/:id', async (req, res) => {\n  const op = req.body;\n  const user = await ModelUser.findOne({\n    usuari: req.params.id\n  });\n\n  if (!user || req.params.id === '') {\n    return res.status(404).send(pages + '/html/error.html');\n  }\n\n  const arrayPost = user.post.slice(op.cont, op.cont + 3);\n\n  if (arrayPost == null) {\n    res.send(JSON.stringify({\n      post: null\n    }));\n    return;\n  }\n\n  const primer = {\n    content: arrayPost\n  };\n  res.send(JSON.stringify(primer));\n  res.end();\n});\nRouter.post('/imagenes/:id', async (req, res) => {\n  const cookie = req.headers.cookie;\n\n  if (!cookie) {\n    res.status(401).render(pages + '/html/401NoAutorizacion.html');\n    return;\n  }\n\n  const objetoVerificacion = verificacion(cookie);\n\n  if (!objetoVerificacion.metodo) {\n    res.status(404).send('no se ah encontrado el usuario');\n    return;\n  }\n\n  if (!req.files || Object.keys(req.files).length === 0 || !req.files.image) {\n    res.status(400).send('No files were uploaded.' + req.file);\n    return;\n  }\n\n  const imagen = req.files.image;\n  const user = await ModelUser.findOne({\n    usuari: req.params.id\n  });\n\n  if (user._id !== objetoVerificacion.decodedToken.id) {\n    res.status(400).json({\n      mesage: 'usted no tiene permitido cambiar ni agregar nada a esta cuenta'\n    });\n    return;\n  }\n\n  if (!user) {\n    res.status(404).send('no se ah encontrado el usuario');\n    return;\n  }\n\n  const desc = Date() + '█ ' + req.body.description;\n  const nombreimagen = uuidv4() + imagen.name;\n  const postImg = 'temp/' + nombreimagen;\n  imagen.name = nombreimagen;\n  imagen.mv(path.join(pages, postImg), err => {\n    if (err) {\n      return res.status(402);\n    }\n  });\n  await ModelUser.updateOne({\n    usuari: user.usuari\n  }, {\n    $push: {\n      post: {\n        $each: [{\n          postImg,\n          desc\n        }],\n        $position: 0\n      }\n    }\n  });\n  res.status(200).send('all great');\n});\nRouter.post('/perfilIcon/:id', async (req, res) => {\n  if (!req.files || Object.keys(req.files).length === 0 || !req.files.image) {\n    res.status(400).json({\n      mensage: 'No files were uploaded.'\n    });\n    return;\n  }\n\n  const cookie = req.headers.cookie;\n\n  if (!cookie) {\n    res.status(401).render(pages + 'html/servis/401NoAutorizacion.html');\n    return;\n  }\n\n  const objetoVerificacion = verificacion(cookie);\n\n  if (!objetoVerificacion.metodo) {\n    res.status(404).send('no se ah encontrado el usuario');\n    return;\n  }\n\n  const user = await ModelUser.findOne({\n    usuari: req.params.id\n  });\n\n  if (!user || user._id !== objetoVerificacion.decodedToken.id) {\n    res.status(404).send('no se ah encontrado el usuario');\n    return;\n  }\n\n  const jsoncookie = cookieNPM.parse(cookie);\n  const token = jsoncookie.userName;\n  const decodedToken = jwt.verify(token, youKnow);\n\n  if (user._id !== decodedToken.id) {\n    res.status(400).json({\n      mesage: 'usted no tiene permitido cambiar ni agregar nada a esta cuenta'\n    });\n    return;\n  }\n\n  const imagen = req.files.image;\n  let nombreimagen = uuidv4() + imagen.name;\n  nombreimagen = nombreimagen.replace('\"', '');\n  const postImg = 'iconos/' + nombreimagen;\n  imagen.name = nombreimagen;\n  imagen.mv(path.join(pages, postImg), err => {\n    if (err) {\n      return res.status(402);\n    }\n  });\n  await ModelUser.updateOne({\n    usuari: user.usuari\n  }, {\n    icon: '/' + postImg\n  });\n  res.status(200).send('all great');\n});\nRouter.post('/background/:id', async (req, res) => {\n  const cookie = req.headers.cookie;\n\n  if (!cookie) {\n    res.status(401).render(pages + 'html/servis/401NoAutorizacion.html');\n    return;\n  }\n\n  const objetoVerificacion = verificacion(cookie);\n\n  if (!objetoVerificacion.metodo) {\n    res.status(404).send('no se ah encontrado el usuario');\n    return;\n  }\n\n  if (!req.files || Object.keys(req.files).length === 0 || !req.files.image) {\n    res.status(400).json({\n      mensage: 'No files were uploaded.'\n    });\n    return;\n  }\n\n  const user = await ModelUser.findOne({\n    usuari: req.params.id\n  });\n\n  if (!user) {\n    res.status(404).send('no se ah encontrado el usuario');\n    return;\n  }\n\n  if (user._id !== objetoVerificacion.decodedToken.id) {\n    res.status(400).json({\n      mesage: 'usted no tiene permitido cambiar ni agregar nada a esta cuenta'\n    });\n    return;\n  }\n\n  const imagen = req.files.image;\n  let nombreimagen = uuidv4() + imagen.name;\n  nombreimagen = nombreimagen.replace('\"', '');\n  const postImg = 'backgrounds/' + nombreimagen;\n  const arrayBackground = nombreimagen.split('.');\n  let nombreSinExtencion = '';\n\n  if (arrayBackground.length.length > 2) {\n    for (let index = 0; index < arrayBackground.length - 2; index++) {\n      nombreSinExtencion += arrayBackground.length[index];\n    }\n  } else {\n    nombreSinExtencion = arrayBackground[0];\n  }\n\n  const extencion = arrayBackground[arrayBackground.length - 1];\n  imagen.name = nombreimagen;\n  imagen.mv(path.join(pages, postImg), err => {\n    if (err) {\n      return res.status(402);\n    }\n  });\n  const difuminado = `backgroundDifuminado/${nombreSinExtencion}.jpg`;\n\n  if (extencion === 'mp4' || extencion === 'avi') {\n    ffmpeg({\n      source: path.join(pages, postImg)\n    }).takeScreenshots({\n      filename: `${nombreSinExtencion}.jpg`,\n      timemarks: [0]\n    }, pages + '/backgroundDifuminado');\n    await ModelUser.updateOne({\n      usuari: user.usuari\n    }, {\n      background: '/' + postImg\n    });\n    await ModelUser.updateOne({\n      usuari: user.usuari\n    }, {\n      backgroundDifumidado: '/' + difuminado\n    });\n  } else {\n    await ModelUser.updateOne({\n      usuari: user.usuari\n    }, {\n      background: '/' + postImg\n    });\n    await ModelUser.updateOne({\n      usuari: user.usuari\n    }, {\n      backgroundDifumidado: '/' + postImg\n    });\n  }\n\n  res.status(200).send('all great');\n});\nRouter.post('/buscar', async (req, res) => {\n  const op = req.body;\n  const cookie = req.headers.cookie;\n\n  if (!cookie) {\n    res.status(401).render(pages + 'html/servis/401NoAutorizacion.html');\n    return;\n  }\n\n  const objetoVerificacion = verificacion(cookie);\n\n  if (!objetoVerificacion.metodo) {\n    res.status(404).send('no se ah encontrado el usuario');\n    return;\n  }\n\n  if (!op.usuarios) {\n    res.status(404).send('no se ah encontrado el usuario');\n    return;\n  }\n\n  const userPerfil = await ModelUser.findOne({\n    usuari: op.usuarios\n  });\n\n  if (!userPerfil) {\n    res.status(404).send('no se ah encontrado el usuario');\n    return;\n  }\n\n  const user = await ModelUser.findOne({\n    _id: objetoVerificacion.decodedToken.id\n  });\n\n  if (user.usuari === op.usuarios) {\n    res.json({\n      pagina: '/' + user.usuari\n    });\n    return;\n  }\n\n  const maxUltimosBuscados = 5;\n  let arrayConservador = [];\n  user.ultimasBusquedas.forEach((elemet, indice) => {\n    if (elemet !== op.usuarios) {\n      if (indice < maxUltimosBuscados) {\n        arrayConservador = [...arrayConservador, elemet];\n      }\n    }\n  });\n  await ModelUser.updateMany({\n    _id: objetoVerificacion.decodedToken.id\n  }, {\n    ultimasBusquedas: [op.usuarios, ...arrayConservador]\n  });\n  res.json({\n    pagina: '/' + userPerfil.usuari\n  });\n});\nRouter.post('/miSitio', async (req, res) => {\n  const cookie = req.headers.cookie;\n\n  if (!cookie) {\n    res.status(401).render(pages + 'html/servis/401NoAutorizacion.html');\n    return;\n  }\n\n  const objetoVerificacion = verificacion(cookie);\n\n  if (!objetoVerificacion.metodo) {\n    res.status(404).send('no se ah encontrado el usuario');\n    return;\n  }\n\n  const user = await ModelUser.findOne({\n    _id: objetoVerificacion.decodedToken.id\n  });\n\n  if (!user) {\n    res.status(404).send('no se ah encontrado el usuario');\n    return;\n  }\n\n  res.json({\n    pagina: '/' + user.usuari\n  });\n});\nRouter.post('/deleteimagen/:id', async (req, res) => {\n  const op = req.body;\n  const cookie = req.headers.cookie;\n\n  if (!cookie) {\n    res.status(401).render(pages + 'html/servis/401NoAutorizacion.html');\n    return;\n  }\n\n  const objetoVerificacion = verificacion(cookie);\n\n  if (!objetoVerificacion.metodo) {\n    res.status(404).send('no se ah encontrado el usuario');\n    return;\n  }\n\n  const user = await ModelUser.findOne({\n    usuari: req.params.id\n  });\n\n  if (!user || user._id !== objetoVerificacion.decodedToken.id) {\n    res.status(404).send('no se ah encontrado el usuario');\n    return;\n  }\n\n  fs.unlinkSync(path.join(pages, op.parametros));\n  await ModelUser.updateMany({\n    usuari: user.usuari\n  }, {\n    $pull: {\n      post: {\n        postImg: op.parametros\n      }\n    }\n  });\n  res.status(200).send('all great');\n});\nRouter.post('/recomendacion', async (req, res) => {\n  const op = req.body;\n  const users = await ModelUser.find({\n    usuari: {\n      $regex: `${op.usuarios}`\n    }\n  }, {\n    usuari: 1,\n    _id: 0\n  }).limit(4);\n  const arrayUsers = [];\n  users.forEach(element => {\n    arrayUsers.push(element.usuari);\n  });\n  res.status(200).json({\n    nombres: arrayUsers\n  });\n});\nRouter.post('/UltimosPost', async (req, res) => {\n  const op = req.body;\n  const cookie = req.headers.cookie;\n\n  if (!cookie) {\n    res.status(401).render(pages + 'html/servis/401NoAutorizacion.html');\n    return;\n  }\n\n  const objetoVerificacion = verificacion(cookie);\n\n  if (!objetoVerificacion.metodo) {\n    res.status(404).send('no se ah encontrado el usuario');\n    return;\n  }\n\n  const user = await ModelUser.findOne({\n    _id: objetoVerificacion.decodedToken.id\n  });\n\n  if (!user) {\n    res.status(404).send('no se ah encontrado el usuario');\n    return;\n  }\n\n  if (!op.amigosVisitados) {\n    res.status(404).send('deja de meterte con mi codigo');\n    return;\n  }\n\n  let numeroPost = 15;\n  let postMandar = [];\n  let arrayAmigos = op.amigosVisitados;\n  let nuevoAmigosVisitados = [];\n\n  for (let i = 0; i <= user.ultimasBusquedas.length - 1 && numeroPost > 0; i++) {\n    const userAmigo = await ModelUser.findOne({\n      usuari: user.ultimasBusquedas[i]\n    });\n    let existeAmigo = false;\n    arrayAmigos.forEach(el => {\n      if (el.nombre === userAmigo.usuari) {\n        existeAmigo = true;\n      }\n    });\n\n    if (userAmigo) {\n      if (!existeAmigo) {\n        nuevoAmigosVisitados = [...nuevoAmigosVisitados, userAmigo.usuari];\n        arrayAmigos = [...arrayAmigos, {\n          nombre: userAmigo.usuari,\n          contador: 0\n        }];\n      }\n\n      arrayAmigos.forEach((el, index) => {\n        if (el.nombre === userAmigo.usuari) {\n          if (userAmigo.post[el.contador]) {\n            postMandar = [...postMandar, {\n              nombre: userAmigo.usuari,\n              post: userAmigo.post[el.contador],\n              icon: userAmigo.icon\n            }];\n            arrayAmigos[index].contador = arrayAmigos[index].contador + 1;\n          }\n        }\n      });\n    }\n\n    numeroPost--;\n  }\n\n  for (let i = numeroPost; i > 0; i--) {\n    const random = Math.round(Math.random() * (user.amigos.length - 1));\n    const userAmigo = await ModelUser.findOne({\n      _id: user.amigos[random]\n    });\n    let existeAmigo = false;\n    arrayAmigos.forEach(el => {\n      if (el.nombre === userAmigo.usuari) {\n        existeAmigo = true;\n      }\n    });\n\n    if (userAmigo) {\n      if (!existeAmigo) {\n        nuevoAmigosVisitados = [...nuevoAmigosVisitados, userAmigo.usuari];\n        arrayAmigos = [...arrayAmigos, {\n          nombre: userAmigo.usuari,\n          contador: 0\n        }];\n      }\n\n      arrayAmigos.forEach((el, index) => {\n        if (el.nombre === userAmigo.usuari) {\n          if (userAmigo.post[el.contador]) {\n            postMandar = [...postMandar, {\n              nombre: userAmigo.usuari,\n              post: userAmigo.post[el.contador],\n              icon: userAmigo.icon\n            }];\n            arrayAmigos[index].contador = arrayAmigos[index].contador + 1;\n          }\n        }\n      });\n    }\n  }\n\n  res.status(200).json({\n    amigos: postMandar,\n    nuevoAmigosVisitados,\n    arrayAmigos\n  });\n});\nRouter.post('/:id', async (req, res) => {\n  const cookie = req.headers.cookie;\n\n  if (!cookie) {\n    res.render(path.join(pages, 'html/pagina_principal/index.html'));\n    return;\n  }\n\n  const objetoVerificacion = verificacion(cookie);\n\n  if (!objetoVerificacion.metodo) {\n    res.render(path.join(pages, 'html/pagina_principal/index.html'));\n    return;\n  }\n\n  const nombreAmigo = req.params.id.replaceAll('%20', ' ');\n  const user = await ModelUser.findOne({\n    usuari: objetoVerificacion.decodedToken.usuariname\n  });\n  const userAmigo = await ModelUser.findOne({\n    usuari: nombreAmigo\n  });\n\n  if (!userAmigo) {\n    res.status(400).send('que shinga me mandaste?');\n    return;\n  }\n\n  let amigo = false;\n  user.amigos.forEach(el => {\n    if (el === `${userAmigo._id}`) {\n      amigo = true;\n    }\n  });\n\n  if (amigo) {\n    await ModelUser.updateMany({\n      usuari: user.usuari\n    }, {\n      $pullAll: {\n        amigos: [userAmigo._id]\n      }\n    });\n  } else {\n    await ModelUser.updateOne({\n      usuari: user.usuari\n    }, {\n      $push: {\n        amigos: {\n          $each: [userAmigo._id],\n          $position: 0\n        }\n      }\n    });\n  }\n\n  res.json(objetoVerificacion);\n});\nmodule.exports = Router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInBhdGgiLCJyZXF1aXJlIiwiUm91dGVyIiwidjQiLCJ1dWlkdjQiLCJmcyIsImp3dCIsImNvb2tpZU5QTSIsImZmbXBlZ1BhdGgiLCJmZm1wZWciLCJiY3J5cHQiLCJ5b3VLbm93IiwicGFnZXMiLCJqb2luIiwiX19kaXJuYW1lIiwiYmFzZUhhc2giLCJNb2RlbFVzZXIiLCJzZXRGZm1wZWdQYXRoIiwidmVyaWZpY2FjaW9uIiwiY29va2llIiwianNvbmNvb2tpZSIsInBhcnNlIiwidXNlck5hbWUiLCJsZW5ndGgiLCJtZXRvZG8iLCJ0b2tlbiIsImRlY29kZWRUb2tlbiIsInZlcmlmeSIsImlkIiwiZ2V0IiwicmVxIiwicmVzIiwiaGVhZGVycyIsInJlbmRlciIsIm9iamV0b1ZlcmlmaWNhY2lvbiIsIm5hbWUiLCJ1c3VhcmluYW1lIiwiaWNvbiIsInN0YXR1cyIsIm5vbWJyZVVybCIsInBhcmFtcyIsInJlcGxhY2VBbGwiLCJ1c2VyIiwiZmluZE9uZSIsInVzdWFyaSIsImFycmF5QmFja2dyb3VuZCIsImJhY2tncm91bmQiLCJzcGxpdCIsImV4dGVuY2lvbiIsImRpZmJhY2tncm91bmQiLCJiYWNrZ3JvdW5kRGlmdW1pZGFkbyIsInVzZXJUb2tlbiIsIl9pZCIsImFtaWdvIiwiYW1pZ29zIiwiZm9yRWFjaCIsImVsIiwiYmFja2dyb3VuZERpZnVtaW5hZG8iLCJwZXJmaWwiLCJwb3N0Iiwib3AiLCJib2R5IiwidXNzIiwiY29udHJhIiwianNvbiIsIm1lbnNhamUiLCJwcmltZXIiLCJwYXNzd29yZCIsImNvbXBhcmUiLCJzaWduIiwic2VuZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJ1bHRpbWFzQnVzcXVlZGFzIiwiZW5kIiwibWVuc2FnZSIsInNhbHQiLCJnZW5TYWx0U3luYyIsInBhc3NIYXNoIiwiaGFzaFN5bmMiLCJ1c2VyTmV3Iiwic2F2ZSIsIm5vbWJyZSIsImFycmF5UG9zdCIsInNsaWNlIiwiY29udCIsImNvbnRlbnQiLCJmaWxlcyIsIk9iamVjdCIsImtleXMiLCJpbWFnZSIsImZpbGUiLCJpbWFnZW4iLCJtZXNhZ2UiLCJkZXNjIiwiRGF0ZSIsImRlc2NyaXB0aW9uIiwibm9tYnJlaW1hZ2VuIiwicG9zdEltZyIsIm12IiwiZXJyIiwidXBkYXRlT25lIiwiJHB1c2giLCIkZWFjaCIsIiRwb3NpdGlvbiIsInJlcGxhY2UiLCJub21icmVTaW5FeHRlbmNpb24iLCJpbmRleCIsImRpZnVtaW5hZG8iLCJzb3VyY2UiLCJ0YWtlU2NyZWVuc2hvdHMiLCJmaWxlbmFtZSIsInRpbWVtYXJrcyIsInVzdWFyaW9zIiwidXNlclBlcmZpbCIsInBhZ2luYSIsIm1heFVsdGltb3NCdXNjYWRvcyIsImFycmF5Q29uc2VydmFkb3IiLCJlbGVtZXQiLCJpbmRpY2UiLCJ1cGRhdGVNYW55IiwidW5saW5rU3luYyIsInBhcmFtZXRyb3MiLCIkcHVsbCIsInVzZXJzIiwiZmluZCIsIiRyZWdleCIsImxpbWl0IiwiYXJyYXlVc2VycyIsImVsZW1lbnQiLCJwdXNoIiwibm9tYnJlcyIsImFtaWdvc1Zpc2l0YWRvcyIsIm51bWVyb1Bvc3QiLCJwb3N0TWFuZGFyIiwiYXJyYXlBbWlnb3MiLCJudWV2b0FtaWdvc1Zpc2l0YWRvcyIsImkiLCJ1c2VyQW1pZ28iLCJleGlzdGVBbWlnbyIsImNvbnRhZG9yIiwicmFuZG9tIiwiTWF0aCIsInJvdW5kIiwibm9tYnJlQW1pZ28iLCIkcHVsbEFsbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsTUFBRCxDQUFwQjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxTQUFELENBQVAsQ0FBbUJDLE1BQW5CLEVBQWY7O0FBQ0EsTUFBTTtBQUFFQyxFQUFBQSxFQUFFLEVBQUVDO0FBQU4sSUFBaUJILE9BQU8sQ0FBQyxNQUFELENBQTlCOztBQUNBLE1BQU1JLEVBQUUsR0FBR0osT0FBTyxDQUFDLElBQUQsQ0FBbEI7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XHNlcnZlclxcUm91dGVyXFwiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpXHJcbmNvbnN0IFJvdXRlciA9IHJlcXVpcmUoJ2V4cHJlc3MnKS5Sb3V0ZXIoKVxyXG5jb25zdCB7IHY0OiB1dWlkdjQgfSA9IHJlcXVpcmUoJ3V1aWQnKVxyXG5jb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJylcclxuY29uc3Qgand0ID0gcmVxdWlyZSgnanNvbndlYnRva2VuJylcclxuY29uc3QgY29va2llTlBNID0gcmVxdWlyZSgnY29va2llJylcclxuY29uc3QgZmZtcGVnUGF0aCA9IHJlcXVpcmUoJ0BmZm1wZWctaW5zdGFsbGVyL2ZmbXBlZycpLnBhdGhcclxuY29uc3QgZmZtcGVnID0gcmVxdWlyZSgnZmx1ZW50LWZmbXBlZycpXHJcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoJ2JjcnlwdCcpXHJcbmNvbnN0IHlvdUtub3cgPSAnaUxvdmVQbGF5TWluZWNyYWZ0Rm9yRXZlcidcclxuY29uc3QgcGFnZXMgPSBwYXRoLmpvaW4oX19kaXJuYW1lLCAnLy4uL3B1YmxpYy8nKVxyXG5jb25zdCBiYXNlSGFzaCA9IDEwXHJcbmNvbnN0IE1vZGVsVXNlciA9IHJlcXVpcmUoJy4uL3VzYXJpbmFtZS5qcycpXHJcbmZmbXBlZy5zZXRGZm1wZWdQYXRoKGZmbXBlZ1BhdGgpXHJcblxyXG5mdW5jdGlvbiB2ZXJpZmljYWNpb24gKGNvb2tpZSkge1xyXG4gIGNvbnN0IGpzb25jb29raWUgPSBjb29raWVOUE0ucGFyc2UoY29va2llKVxyXG4gIGlmICghanNvbmNvb2tpZS51c2VyTmFtZSB8fCBqc29uY29va2llLnVzZXJOYW1lID09PSAndW5kZWZpbmVkJyB8fCBqc29uY29va2llLnVzZXJOYW1lLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgcmV0dXJuIHsgbWV0b2RvOiBmYWxzZSB9XHJcbiAgfVxyXG4gIGNvbnN0IHRva2VuID0ganNvbmNvb2tpZS51c2VyTmFtZVxyXG4gIGNvbnN0IGRlY29kZWRUb2tlbiA9IGp3dC52ZXJpZnkodG9rZW4sIHlvdUtub3cpXHJcbiAgaWYgKCFkZWNvZGVkVG9rZW4uaWQpIHtcclxuICAgIHJldHVybiB7IG1ldG9kbzogZmFsc2UgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4geyBtZXRvZG86IHRydWUsIGRlY29kZWRUb2tlbiB9XHJcbiAgfVxyXG59XHJcblJvdXRlci5nZXQoJy8nLCAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBjb29raWUgPSByZXEuaGVhZGVycy5jb29raWVcclxuICBpZiAoIWNvb2tpZSkge1xyXG4gICAgcmVzLnJlbmRlcihwYXRoLmpvaW4ocGFnZXMsICdodG1sL3BhZ2luYV9wcmluY2lwYWwvaW5kZXguaHRtbCcpKVxyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG4gIGNvbnN0IG9iamV0b1ZlcmlmaWNhY2lvbiA9IHZlcmlmaWNhY2lvbihjb29raWUpXHJcbiAgaWYgKCFvYmpldG9WZXJpZmljYWNpb24ubWV0b2RvKSB7XHJcbiAgICByZXMucmVuZGVyKHBhdGguam9pbihwYWdlcywgJ2h0bWwvcGFnaW5hX3ByaW5jaXBhbC9pbmRleC5odG1sJykpXHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgcmVzLnJlbmRlcihwYXRoLmpvaW4ocGFnZXMsICdodG1sL2N1ZW50YXMvc3VqZXJpZG9zLmVqcycpLCB7XHJcbiAgICBuYW1lOiBvYmpldG9WZXJpZmljYWNpb24uZGVjb2RlZFRva2VuLnVzdWFyaW5hbWUsXHJcbiAgICBpY29uOiBvYmpldG9WZXJpZmljYWNpb24uZGVjb2RlZFRva2VuLmljb25cclxuICB9KVxyXG59KVxyXG5Sb3V0ZXIuZ2V0KCcvcmVnaXN0ZXInLCAocmVxLCByZXMpID0+IHJlcy5yZW5kZXIocGF0aC5qb2luKHBhZ2VzLCAnaHRtbC9yZWdpc3Rlci9yZWdpc3Ryby5odG1sJykpKVxyXG5Sb3V0ZXIuZ2V0KCcvOmlkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgY29va2llID0gcmVxLmhlYWRlcnMuY29va2llXHJcbiAgaWYgKCFjb29raWUpIHtcclxuICAgIHJlcy5zdGF0dXMoNDAxKS5yZW5kZXIocGFnZXMgKyAnaHRtbC9zZXJ2aXMvNDAxTm9BdXRvcml6YWNpb24uaHRtbCcpXHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgY29uc3Qgbm9tYnJlVXJsID0gcmVxLnBhcmFtcy5pZC5yZXBsYWNlQWxsKCclMjAnLCAnICcpXHJcbiAgY29uc3QgdXNlciA9IGF3YWl0IE1vZGVsVXNlci5maW5kT25lKHsgdXN1YXJpOiBub21icmVVcmwgfSlcclxuXHJcbiAgaWYgKCF1c2VyKSB7XHJcbiAgICByZXMucmVuZGVyKHBhZ2VzICsgJ2h0bWwvc2VydmlzL2Vycm9yLmh0bWwnKVxyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zdCBvYmpldG9WZXJpZmljYWNpb24gPSB2ZXJpZmljYWNpb24oY29va2llKVxyXG4gICAgaWYgKCFvYmpldG9WZXJpZmljYWNpb24ubWV0b2RvKSB7XHJcbiAgICAgIHJlcy5zdGF0dXMoNDAxKS5yZW5kZXIoJ2h0bWwvc2VydmlzLzQwMU5vQXV0b3JpemFjaW9uLmh0bWwnKVxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIGNvbnN0IGRlY29kZWRUb2tlbiA9IG9iamV0b1ZlcmlmaWNhY2lvbi5kZWNvZGVkVG9rZW5cclxuICAgIGNvbnN0IGFycmF5QmFja2dyb3VuZCA9IHVzZXIuYmFja2dyb3VuZC5zcGxpdCgnLicpXHJcbiAgICBsZXQgZXh0ZW5jaW9uID0gYXJyYXlCYWNrZ3JvdW5kW2FycmF5QmFja2dyb3VuZC5sZW5ndGggLSAxXVxyXG5cclxuICAgIGV4dGVuY2lvbiA9PT0gJ21wNCcgfHwgZXh0ZW5jaW9uID09PSAnYXZpJ1xyXG4gICAgICA/IGV4dGVuY2lvbiA9IGA8dmlkZW8gaWQ9XCJyZXNwb25zaXZlX2N1ZW50YXMuanMtbGFfZW50aWRhZF9kZV9sYV9pbWFnZW5fcGFyYV9wb2Rlcl9jb21wYXJhcl9zdV90YW1hw7FvLWJhY2tncm91bmRcIiBjbGFzcz1cImJhY2tncm91bmQtY29udGVudC1yZXNwb25zaXZlLXZpZGVvXCIgc3JjPVwiJHt1c2VyLmJhY2tncm91bmR9XCIgY29udHJvbHM+PC92aWRlbz5gXHJcbiAgICAgIDogZXh0ZW5jaW9uID0gYDxpbWcgaWQ9XCJyZXNwb25zaXZlX2N1ZW50YXMuanMtbGFfZW50aWRhZF9kZV9sYV9pbWFnZW5fcGFyYV9wb2Rlcl9jb21wYXJhcl9zdV90YW1hw7FvLWJhY2tncm91bmRcIiBjbGFzcz1cImJhY2tncm91bmQtY29udGVudC1yZXNwb25zaXZlLWltYWdlblwiIHNyYz1cIiR7dXNlci5iYWNrZ3JvdW5kfVwiIGFsdD1cIlwiPmBcclxuXHJcbiAgICBjb25zdCBkaWZiYWNrZ3JvdW5kID0gYDxpbWcgY2xhc3M9XCJpbWFnZURpZnVtaWRhXCIgc3JjPVwiJHt1c2VyLmJhY2tncm91bmREaWZ1bWlkYWRvfVwiIGFsdD1cIlwiPmBcclxuXHJcbiAgICBjb25zdCB1c2VyVG9rZW4gPSBhd2FpdCBNb2RlbFVzZXIuZmluZE9uZSh7IF9pZDogZGVjb2RlZFRva2VuLmlkIH0pXHJcbiAgICBsZXQgYW1pZ28gPSBmYWxzZVxyXG4gICAgdXNlclRva2VuLmFtaWdvcy5mb3JFYWNoKGVsID0+IHtcclxuICAgICAgaWYgKGVsID09PSBgJHt1c2VyLl9pZH1gKSB7XHJcbiAgICAgICAgYW1pZ28gPSB0cnVlXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICBpZiAoYCR7dXNlci5faWR9YCA9PT0gYCR7ZGVjb2RlZFRva2VuLmlkfWApIHtcclxuICAgICAgcmVzLnJlbmRlcihwYWdlcyArICdodG1sL2N1ZW50YXMvY3VlbnRhcy5lanMnLCB7XHJcbiAgICAgICAgZXh0ZW5jaW9uOiBleHRlbmNpb24sXHJcbiAgICAgICAgdXNlcjogdXNlclRva2VuLnVzdWFyaSxcclxuICAgICAgICBuYW1lOiB1c2VyLnVzdWFyaSxcclxuICAgICAgICBiYWNrZ3JvdW5kRGlmdW1pbmFkbzogZGlmYmFja2dyb3VuZCxcclxuICAgICAgICBpY29uOiB1c2VyLmljb24sXHJcbiAgICAgICAgcGVyZmlsOiB1c2VyVG9rZW4uaWNvblxyXG4gICAgICB9KVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVzLnJlbmRlcihwYWdlcyArICdodG1sL2N1ZW50YXMvYW5vdGhlckN1ZW50YS5lanMnLCB7XHJcbiAgICAgICAgZXh0ZW5jaW9uOiBleHRlbmNpb24sXHJcbiAgICAgICAgdXNlcjogdXNlci51c3VhcmksXHJcbiAgICAgICAgbmFtZTogdXNlclRva2VuLnVzdWFyaSxcclxuICAgICAgICBiYWNrZ3JvdW5kRGlmdW1pbmFkbzogZGlmYmFja2dyb3VuZCxcclxuICAgICAgICBpY29uOiB1c2VyVG9rZW4uaWNvbixcclxuICAgICAgICBwZXJmaWw6IHVzZXIuaWNvbixcclxuICAgICAgICBhbWlnb1xyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxufSlcclxuUm91dGVyLnBvc3QoJy8nLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBvcCA9IHJlcS5ib2R5XHJcbiAgaWYgKCFvcC51c3MgfHwgIW9wLmNvbnRyYSkge1xyXG4gICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZW5zYWplOiAncG9ycXVlIG1vZGlmaWNhcyBtaSBjb2RpZ28nIH0pXHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgY29uc3QgcHJpbWVyID0gbmV3IE1vZGVsVXNlcih7XHJcbiAgICB1c3Vhcmk6IG9wLnVzcyxcclxuICAgIHBhc3N3b3JkOiBvcC5jb250cmFcclxuICB9KVxyXG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBNb2RlbFVzZXIuZmluZE9uZSh7IHVzdWFyaTogcHJpbWVyLnVzdWFyaSB9KVxyXG4gIGlmICh1c2VyKSB7XHJcbiAgICBpZiAoYXdhaXQgYmNyeXB0LmNvbXBhcmUocHJpbWVyLnBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKSkge1xyXG4gICAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHtcclxuICAgICAgICBpZDogdXNlci5faWQsXHJcbiAgICAgICAgdXN1YXJpbmFtZTogdXNlci51c3VhcmksXHJcbiAgICAgICAgaWNvbjogdXNlci5pY29uXHJcbiAgICAgIH0sIHlvdUtub3cpXHJcbiAgICAgIHJlcy5qc29uKHsgbWV0b2RvOiB0cnVlLCB0b2tlbjogdG9rZW4gfSlcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgfVxyXG4gIHJlcy5zdGF0dXMoMjAzKS5qc29uKHsgbWV0b2RvOiBmYWxzZSwgbWVuc2FqZTogJ3N1IGNvbnRyYXNlw7FhIG8gdXN1YXJpbyBlc3RhIG1hbCcgfSlcclxufSlcclxuUm91dGVyLnBvc3QoJy91bHRpbWFCdXNxdWVkYScsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IGNvb2tpZSA9IHJlcS5oZWFkZXJzLmNvb2tpZVxyXG4gIGlmICghY29va2llKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMSkucmVuZGVyKHBhZ2VzICsgJy9odG1sLzQwMU5vQXV0b3JpemFjaW9uLmh0bWwnKVxyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG4gIGNvbnN0IG9iamV0b1ZlcmlmaWNhY2lvbiA9IHZlcmlmaWNhY2lvbihjb29raWUpXHJcbiAgaWYgKCFvYmpldG9WZXJpZmljYWNpb24ubWV0b2RvKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnbm8gc2UgYWggZW5jb250cmFkbyBlbCB1c3VhcmlvJylcclxuICAgIHJldHVyblxyXG4gIH1cclxuXHJcbiAgY29uc3QgdXNlciA9IGF3YWl0IE1vZGVsVXNlci5maW5kT25lKHsgX2lkOiBvYmpldG9WZXJpZmljYWNpb24uZGVjb2RlZFRva2VuLmlkIH0pXHJcbiAgcmVzLnNlbmQoSlNPTi5zdHJpbmdpZnkodXNlci51bHRpbWFzQnVzcXVlZGFzKSlcclxuICByZXMuZW5kKClcclxufSlcclxuUm91dGVyLnBvc3QoJy9yZWdpc3RlcicsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IG9wID0gcmVxLmJvZHlcclxuICBpZiAoIW9wLnVzcyB8fCAhb3AuY29udHJhKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMCkuc2VuZCgncXVlIGhhY2VzIGNhbWJpYW5kbyBtaSBjb2RpZ28/JylcclxuICAgIHJldHVyblxyXG4gIH1cclxuICBjb25zdCB1c2VyID0gYXdhaXQgTW9kZWxVc2VyLmZpbmRPbmUoeyB1c3Vhcmk6IG9wLnVzcyB9KVxyXG4gIGlmICh1c2VyKSB7XHJcbiAgICByZXMuc2VuZCh7IG1ldG9kbzogZmFsc2UsIG1lbnNhZ2U6ICdFc3RlIHVzdWFyaW8geWEgZXhpc3RlJyB9KVxyXG4gIH1cclxuICBjb25zdCBzYWx0ID0gYmNyeXB0LmdlblNhbHRTeW5jKGJhc2VIYXNoKVxyXG4gIGNvbnN0IHBhc3NIYXNoID0gYmNyeXB0Lmhhc2hTeW5jKG9wLmNvbnRyYSwgc2FsdClcclxuICBjb25zdCBwcmltZXIgPSBuZXcgTW9kZWxVc2VyKHtcclxuICAgIHVzdWFyaTogb3AudXNzLFxyXG4gICAgcGFzc3dvcmQ6IHBhc3NIYXNoXHJcbiAgfSlcclxuICBjb25zdCB1c2VyTmV3ID0gYXdhaXQgcHJpbWVyLnNhdmUoKVxyXG4gIGNvbnN0IHRva2VuID0gYXdhaXQgand0LnNpZ24oeyBpZDogdXNlck5ldy5faWQsIHVzdWFyaW5hbWU6IHVzZXJOZXcudXN1YXJpLCBpY29uOiB1c2VyTmV3Lmljb24gfSwgeW91S25vdylcclxuICByZXMuc2VuZCh7XHJcbiAgICBtZXRvZG86IHRydWUsXHJcbiAgICBtZW5zYWdlOiAnc2UgaGEgZ3VhcmRhZG8gc3UgdXN1YXJpbycsXHJcbiAgICBub21icmU6IHVzZXJOZXcudXN1YXJpLFxyXG4gICAgdG9rZW46IHRva2VuXHJcbiAgfSlcclxufSlcclxuUm91dGVyLnBvc3QoJy9jdWVudGFzLzppZCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IG9wID0gcmVxLmJvZHlcclxuICBjb25zdCB1c2VyID0gYXdhaXQgTW9kZWxVc2VyLmZpbmRPbmUoeyB1c3Vhcmk6IHJlcS5wYXJhbXMuaWQgfSlcclxuICBpZiAoIXVzZXIgfHwgcmVxLnBhcmFtcy5pZCA9PT0gJycpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuc2VuZChwYWdlcyArICcvaHRtbC9lcnJvci5odG1sJylcclxuICB9XHJcbiAgY29uc3QgYXJyYXlQb3N0ID0gdXNlci5wb3N0LnNsaWNlKG9wLmNvbnQsIG9wLmNvbnQgKyAzKVxyXG4gIGlmIChhcnJheVBvc3QgPT0gbnVsbCkge1xyXG4gICAgcmVzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyBwb3N0OiBudWxsIH0pKVxyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG4gIGNvbnN0IHByaW1lciA9IHtcclxuICAgIGNvbnRlbnQ6IGFycmF5UG9zdFxyXG4gIH1cclxuICByZXMuc2VuZChKU09OLnN0cmluZ2lmeShwcmltZXIpKVxyXG4gIHJlcy5lbmQoKVxyXG59KVxyXG5Sb3V0ZXIucG9zdCgnL2ltYWdlbmVzLzppZCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IGNvb2tpZSA9IHJlcS5oZWFkZXJzLmNvb2tpZVxyXG4gIGlmICghY29va2llKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMSkucmVuZGVyKHBhZ2VzICsgJy9odG1sLzQwMU5vQXV0b3JpemFjaW9uLmh0bWwnKVxyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG4gIGNvbnN0IG9iamV0b1ZlcmlmaWNhY2lvbiA9IHZlcmlmaWNhY2lvbihjb29raWUpXHJcbiAgaWYgKCFvYmpldG9WZXJpZmljYWNpb24ubWV0b2RvKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnbm8gc2UgYWggZW5jb250cmFkbyBlbCB1c3VhcmlvJylcclxuICAgIHJldHVyblxyXG4gIH1cclxuICBpZiAoIXJlcS5maWxlcyB8fCBPYmplY3Qua2V5cyhyZXEuZmlsZXMpLmxlbmd0aCA9PT0gMCB8fCAhcmVxLmZpbGVzLmltYWdlKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMCkuc2VuZCgnTm8gZmlsZXMgd2VyZSB1cGxvYWRlZC4nICsgcmVxLmZpbGUpXHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgY29uc3QgaW1hZ2VuID0gcmVxLmZpbGVzLmltYWdlXHJcbiAgY29uc3QgdXNlciA9IGF3YWl0IE1vZGVsVXNlci5maW5kT25lKHsgdXN1YXJpOiByZXEucGFyYW1zLmlkIH0pXHJcbiAgaWYgKHVzZXIuX2lkICE9PSBvYmpldG9WZXJpZmljYWNpb24uZGVjb2RlZFRva2VuLmlkKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc2FnZTogJ3VzdGVkIG5vIHRpZW5lIHBlcm1pdGlkbyBjYW1iaWFyIG5pIGFncmVnYXIgbmFkYSBhIGVzdGEgY3VlbnRhJyB9KVxyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG4gIGlmICghdXNlcikge1xyXG4gICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJ25vIHNlIGFoIGVuY29udHJhZG8gZWwgdXN1YXJpbycpXHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgY29uc3QgZGVzYyA9IERhdGUoKSArICfiloggJyArIHJlcS5ib2R5LmRlc2NyaXB0aW9uXHJcbiAgY29uc3Qgbm9tYnJlaW1hZ2VuID0gdXVpZHY0KCkgKyBpbWFnZW4ubmFtZVxyXG4gIGNvbnN0IHBvc3RJbWcgPSAndGVtcC8nICsgbm9tYnJlaW1hZ2VuXHJcbiAgaW1hZ2VuLm5hbWUgPSBub21icmVpbWFnZW5cclxuICBpbWFnZW4ubXYocGF0aC5qb2luKHBhZ2VzLCBwb3N0SW1nKSwgZXJyID0+IHtcclxuICAgIGlmIChlcnIpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAyKVxyXG4gICAgfVxyXG4gIH0pXHJcbiAgYXdhaXQgTW9kZWxVc2VyLnVwZGF0ZU9uZSh7IHVzdWFyaTogdXNlci51c3VhcmkgfSwgeyAkcHVzaDogeyBwb3N0OiB7ICRlYWNoOiBbeyBwb3N0SW1nLCBkZXNjIH1dLCAkcG9zaXRpb246IDAgfSB9IH0pXHJcbiAgcmVzLnN0YXR1cygyMDApLnNlbmQoJ2FsbCBncmVhdCcpXHJcbn0pXHJcblJvdXRlci5wb3N0KCcvcGVyZmlsSWNvbi86aWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBpZiAoIXJlcS5maWxlcyB8fCBPYmplY3Qua2V5cyhyZXEuZmlsZXMpLmxlbmd0aCA9PT0gMCB8fCAhcmVxLmZpbGVzLmltYWdlKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lbnNhZ2U6ICdObyBmaWxlcyB3ZXJlIHVwbG9hZGVkLicgfSlcclxuICAgIHJldHVyblxyXG4gIH1cclxuICBjb25zdCBjb29raWUgPSByZXEuaGVhZGVycy5jb29raWVcclxuICBpZiAoIWNvb2tpZSkge1xyXG4gICAgcmVzLnN0YXR1cyg0MDEpLnJlbmRlcihwYWdlcyArICdodG1sL3NlcnZpcy80MDFOb0F1dG9yaXphY2lvbi5odG1sJylcclxuICAgIHJldHVyblxyXG4gIH1cclxuICBjb25zdCBvYmpldG9WZXJpZmljYWNpb24gPSB2ZXJpZmljYWNpb24oY29va2llKVxyXG4gIGlmICghb2JqZXRvVmVyaWZpY2FjaW9uLm1ldG9kbykge1xyXG4gICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJ25vIHNlIGFoIGVuY29udHJhZG8gZWwgdXN1YXJpbycpXHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgY29uc3QgdXNlciA9IGF3YWl0IE1vZGVsVXNlci5maW5kT25lKHsgdXN1YXJpOiByZXEucGFyYW1zLmlkIH0pXHJcbiAgaWYgKCF1c2VyIHx8IHVzZXIuX2lkICE9PSBvYmpldG9WZXJpZmljYWNpb24uZGVjb2RlZFRva2VuLmlkKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnbm8gc2UgYWggZW5jb250cmFkbyBlbCB1c3VhcmlvJylcclxuICAgIHJldHVyblxyXG4gIH1cclxuICBjb25zdCBqc29uY29va2llID0gY29va2llTlBNLnBhcnNlKGNvb2tpZSlcclxuICBjb25zdCB0b2tlbiA9IGpzb25jb29raWUudXNlck5hbWVcclxuICBjb25zdCBkZWNvZGVkVG9rZW4gPSBqd3QudmVyaWZ5KHRva2VuLCB5b3VLbm93KVxyXG4gIGlmICh1c2VyLl9pZCAhPT0gZGVjb2RlZFRva2VuLmlkKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc2FnZTogJ3VzdGVkIG5vIHRpZW5lIHBlcm1pdGlkbyBjYW1iaWFyIG5pIGFncmVnYXIgbmFkYSBhIGVzdGEgY3VlbnRhJyB9KVxyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG4gIGNvbnN0IGltYWdlbiA9IHJlcS5maWxlcy5pbWFnZVxyXG4gIGxldCBub21icmVpbWFnZW4gPSB1dWlkdjQoKSArIGltYWdlbi5uYW1lXHJcbiAgbm9tYnJlaW1hZ2VuID0gbm9tYnJlaW1hZ2VuLnJlcGxhY2UoJ1wiJywgJycpXHJcbiAgY29uc3QgcG9zdEltZyA9ICdpY29ub3MvJyArIG5vbWJyZWltYWdlblxyXG4gIGltYWdlbi5uYW1lID0gbm9tYnJlaW1hZ2VuXHJcbiAgaW1hZ2VuLm12KHBhdGguam9pbihwYWdlcywgcG9zdEltZyksIGVyciA9PiB7XHJcbiAgICBpZiAoZXJyKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMilcclxuICAgIH1cclxuICB9KVxyXG4gIGF3YWl0IE1vZGVsVXNlci51cGRhdGVPbmUoeyB1c3Vhcmk6IHVzZXIudXN1YXJpIH0sIHsgaWNvbjogJy8nICsgcG9zdEltZyB9KVxyXG4gIHJlcy5zdGF0dXMoMjAwKS5zZW5kKCdhbGwgZ3JlYXQnKVxyXG59KVxyXG5Sb3V0ZXIucG9zdCgnL2JhY2tncm91bmQvOmlkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgY29va2llID0gcmVxLmhlYWRlcnMuY29va2llXHJcbiAgaWYgKCFjb29raWUpIHtcclxuICAgIHJlcy5zdGF0dXMoNDAxKS5yZW5kZXIocGFnZXMgKyAnaHRtbC9zZXJ2aXMvNDAxTm9BdXRvcml6YWNpb24uaHRtbCcpXHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgY29uc3Qgb2JqZXRvVmVyaWZpY2FjaW9uID0gdmVyaWZpY2FjaW9uKGNvb2tpZSlcclxuICBpZiAoIW9iamV0b1ZlcmlmaWNhY2lvbi5tZXRvZG8pIHtcclxuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCdubyBzZSBhaCBlbmNvbnRyYWRvIGVsIHVzdWFyaW8nKVxyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG4gIGlmICghcmVxLmZpbGVzIHx8IE9iamVjdC5rZXlzKHJlcS5maWxlcykubGVuZ3RoID09PSAwIHx8ICFyZXEuZmlsZXMuaW1hZ2UpIHtcclxuICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVuc2FnZTogJ05vIGZpbGVzIHdlcmUgdXBsb2FkZWQuJyB9KVxyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBNb2RlbFVzZXIuZmluZE9uZSh7IHVzdWFyaTogcmVxLnBhcmFtcy5pZCB9KVxyXG4gIGlmICghdXNlcikge1xyXG4gICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJ25vIHNlIGFoIGVuY29udHJhZG8gZWwgdXN1YXJpbycpXHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgaWYgKHVzZXIuX2lkICE9PSBvYmpldG9WZXJpZmljYWNpb24uZGVjb2RlZFRva2VuLmlkKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc2FnZTogJ3VzdGVkIG5vIHRpZW5lIHBlcm1pdGlkbyBjYW1iaWFyIG5pIGFncmVnYXIgbmFkYSBhIGVzdGEgY3VlbnRhJyB9KVxyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG4gIGNvbnN0IGltYWdlbiA9IHJlcS5maWxlcy5pbWFnZVxyXG4gIGxldCBub21icmVpbWFnZW4gPSB1dWlkdjQoKSArIGltYWdlbi5uYW1lXHJcbiAgbm9tYnJlaW1hZ2VuID0gbm9tYnJlaW1hZ2VuLnJlcGxhY2UoJ1wiJywgJycpXHJcbiAgY29uc3QgcG9zdEltZyA9ICdiYWNrZ3JvdW5kcy8nICsgbm9tYnJlaW1hZ2VuXHJcbiAgY29uc3QgYXJyYXlCYWNrZ3JvdW5kID0gbm9tYnJlaW1hZ2VuLnNwbGl0KCcuJylcclxuICBsZXQgbm9tYnJlU2luRXh0ZW5jaW9uID0gJydcclxuICBpZiAoYXJyYXlCYWNrZ3JvdW5kLmxlbmd0aC5sZW5ndGggPiAyKSB7XHJcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYXJyYXlCYWNrZ3JvdW5kLmxlbmd0aCAtIDI7IGluZGV4KyspIHtcclxuICAgICAgbm9tYnJlU2luRXh0ZW5jaW9uICs9IGFycmF5QmFja2dyb3VuZC5sZW5ndGhbaW5kZXhdXHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIG5vbWJyZVNpbkV4dGVuY2lvbiA9IGFycmF5QmFja2dyb3VuZFswXVxyXG4gIH1cclxuICBjb25zdCBleHRlbmNpb24gPSBhcnJheUJhY2tncm91bmRbYXJyYXlCYWNrZ3JvdW5kLmxlbmd0aCAtIDFdXHJcbiAgaW1hZ2VuLm5hbWUgPSBub21icmVpbWFnZW5cclxuICBpbWFnZW4ubXYocGF0aC5qb2luKHBhZ2VzLCBwb3N0SW1nKSwgZXJyID0+IHtcclxuICAgIGlmIChlcnIpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAyKVxyXG4gICAgfVxyXG4gIH0pXHJcbiAgY29uc3QgZGlmdW1pbmFkbyA9IGBiYWNrZ3JvdW5kRGlmdW1pbmFkby8ke25vbWJyZVNpbkV4dGVuY2lvbn0uanBnYFxyXG4gIGlmIChleHRlbmNpb24gPT09ICdtcDQnIHx8IGV4dGVuY2lvbiA9PT0gJ2F2aScpIHtcclxuICAgIGZmbXBlZyh7IHNvdXJjZTogcGF0aC5qb2luKHBhZ2VzLCBwb3N0SW1nKSB9KVxyXG4gICAgICAudGFrZVNjcmVlbnNob3RzKHsgZmlsZW5hbWU6IGAke25vbWJyZVNpbkV4dGVuY2lvbn0uanBnYCwgdGltZW1hcmtzOiBbMF0gfSwgcGFnZXMgKyAnL2JhY2tncm91bmREaWZ1bWluYWRvJylcclxuICAgIGF3YWl0IE1vZGVsVXNlci51cGRhdGVPbmUoeyB1c3Vhcmk6IHVzZXIudXN1YXJpIH0sIHsgYmFja2dyb3VuZDogJy8nICsgcG9zdEltZyB9KVxyXG4gICAgYXdhaXQgTW9kZWxVc2VyLnVwZGF0ZU9uZSh7IHVzdWFyaTogdXNlci51c3VhcmkgfSwgeyBiYWNrZ3JvdW5kRGlmdW1pZGFkbzogJy8nICsgZGlmdW1pbmFkbyB9KVxyXG4gIH0gZWxzZSB7XHJcbiAgICBhd2FpdCBNb2RlbFVzZXIudXBkYXRlT25lKHsgdXN1YXJpOiB1c2VyLnVzdWFyaSB9LCB7IGJhY2tncm91bmQ6ICcvJyArIHBvc3RJbWcgfSlcclxuICAgIGF3YWl0IE1vZGVsVXNlci51cGRhdGVPbmUoeyB1c3Vhcmk6IHVzZXIudXN1YXJpIH0sIHsgYmFja2dyb3VuZERpZnVtaWRhZG86ICcvJyArIHBvc3RJbWcgfSlcclxuICB9XHJcbiAgcmVzLnN0YXR1cygyMDApLnNlbmQoJ2FsbCBncmVhdCcpXHJcbn0pXHJcblJvdXRlci5wb3N0KCcvYnVzY2FyJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3Qgb3AgPSByZXEuYm9keVxyXG4gIGNvbnN0IGNvb2tpZSA9IHJlcS5oZWFkZXJzLmNvb2tpZVxyXG4gIGlmICghY29va2llKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMSkucmVuZGVyKHBhZ2VzICsgJ2h0bWwvc2VydmlzLzQwMU5vQXV0b3JpemFjaW9uLmh0bWwnKVxyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG4gIGNvbnN0IG9iamV0b1ZlcmlmaWNhY2lvbiA9IHZlcmlmaWNhY2lvbihjb29raWUpXHJcbiAgaWYgKCFvYmpldG9WZXJpZmljYWNpb24ubWV0b2RvKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnbm8gc2UgYWggZW5jb250cmFkbyBlbCB1c3VhcmlvJylcclxuICAgIHJldHVyblxyXG4gIH1cclxuICBpZiAoIW9wLnVzdWFyaW9zKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnbm8gc2UgYWggZW5jb250cmFkbyBlbCB1c3VhcmlvJylcclxuICAgIHJldHVyblxyXG4gIH1cclxuXHJcbiAgY29uc3QgdXNlclBlcmZpbCA9IGF3YWl0IE1vZGVsVXNlci5maW5kT25lKHsgdXN1YXJpOiBvcC51c3VhcmlvcyB9KVxyXG4gIGlmICghdXNlclBlcmZpbCkge1xyXG4gICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJ25vIHNlIGFoIGVuY29udHJhZG8gZWwgdXN1YXJpbycpXHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgY29uc3QgdXNlciA9IGF3YWl0IE1vZGVsVXNlci5maW5kT25lKHsgX2lkOiBvYmpldG9WZXJpZmljYWNpb24uZGVjb2RlZFRva2VuLmlkIH0pXHJcblxyXG4gIGlmICh1c2VyLnVzdWFyaSA9PT0gb3AudXN1YXJpb3MpIHtcclxuICAgIHJlcy5qc29uKHsgcGFnaW5hOiAnLycgKyB1c2VyLnVzdWFyaSB9KVxyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG4gIGNvbnN0IG1heFVsdGltb3NCdXNjYWRvcyA9IDVcclxuICBsZXQgYXJyYXlDb25zZXJ2YWRvciA9IFtdXHJcbiAgdXNlci51bHRpbWFzQnVzcXVlZGFzLmZvckVhY2goKGVsZW1ldCwgaW5kaWNlKSA9PiB7XHJcbiAgICBpZiAoZWxlbWV0ICE9PSBvcC51c3Vhcmlvcykge1xyXG4gICAgICBpZiAoaW5kaWNlIDwgbWF4VWx0aW1vc0J1c2NhZG9zKSB7XHJcbiAgICAgICAgYXJyYXlDb25zZXJ2YWRvciA9IFsuLi5hcnJheUNvbnNlcnZhZG9yLCBlbGVtZXRdXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KVxyXG5cclxuICBhd2FpdCBNb2RlbFVzZXIudXBkYXRlTWFueSh7IF9pZDogb2JqZXRvVmVyaWZpY2FjaW9uLmRlY29kZWRUb2tlbi5pZCB9LCB7XHJcbiAgICB1bHRpbWFzQnVzcXVlZGFzOiBbb3AudXN1YXJpb3MsIC4uLmFycmF5Q29uc2VydmFkb3JdXHJcbiAgfSlcclxuXHJcbiAgcmVzLmpzb24oeyBwYWdpbmE6ICcvJyArIHVzZXJQZXJmaWwudXN1YXJpIH0pXHJcbn0pXHJcblJvdXRlci5wb3N0KCcvbWlTaXRpbycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IGNvb2tpZSA9IHJlcS5oZWFkZXJzLmNvb2tpZVxyXG4gIGlmICghY29va2llKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMSkucmVuZGVyKHBhZ2VzICsgJ2h0bWwvc2VydmlzLzQwMU5vQXV0b3JpemFjaW9uLmh0bWwnKVxyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG4gIGNvbnN0IG9iamV0b1ZlcmlmaWNhY2lvbiA9IHZlcmlmaWNhY2lvbihjb29raWUpXHJcbiAgaWYgKCFvYmpldG9WZXJpZmljYWNpb24ubWV0b2RvKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnbm8gc2UgYWggZW5jb250cmFkbyBlbCB1c3VhcmlvJylcclxuICAgIHJldHVyblxyXG4gIH1cclxuICBjb25zdCB1c2VyID0gYXdhaXQgTW9kZWxVc2VyLmZpbmRPbmUoeyBfaWQ6IG9iamV0b1ZlcmlmaWNhY2lvbi5kZWNvZGVkVG9rZW4uaWQgfSlcclxuICBpZiAoIXVzZXIpIHtcclxuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCdubyBzZSBhaCBlbmNvbnRyYWRvIGVsIHVzdWFyaW8nKVxyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG4gIHJlcy5qc29uKHsgcGFnaW5hOiAnLycgKyB1c2VyLnVzdWFyaSB9KVxyXG59KVxyXG5Sb3V0ZXIucG9zdCgnL2RlbGV0ZWltYWdlbi86aWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBvcCA9IHJlcS5ib2R5XHJcbiAgY29uc3QgY29va2llID0gcmVxLmhlYWRlcnMuY29va2llXHJcbiAgaWYgKCFjb29raWUpIHtcclxuICAgIHJlcy5zdGF0dXMoNDAxKS5yZW5kZXIocGFnZXMgKyAnaHRtbC9zZXJ2aXMvNDAxTm9BdXRvcml6YWNpb24uaHRtbCcpXHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgY29uc3Qgb2JqZXRvVmVyaWZpY2FjaW9uID0gdmVyaWZpY2FjaW9uKGNvb2tpZSlcclxuICBpZiAoIW9iamV0b1ZlcmlmaWNhY2lvbi5tZXRvZG8pIHtcclxuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCdubyBzZSBhaCBlbmNvbnRyYWRvIGVsIHVzdWFyaW8nKVxyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBNb2RlbFVzZXIuZmluZE9uZSh7IHVzdWFyaTogcmVxLnBhcmFtcy5pZCB9KVxyXG4gIGlmICghdXNlciB8fCB1c2VyLl9pZCAhPT0gb2JqZXRvVmVyaWZpY2FjaW9uLmRlY29kZWRUb2tlbi5pZCkge1xyXG4gICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJ25vIHNlIGFoIGVuY29udHJhZG8gZWwgdXN1YXJpbycpXHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIGZzLnVubGlua1N5bmMocGF0aC5qb2luKHBhZ2VzLCBvcC5wYXJhbWV0cm9zKSlcclxuICBhd2FpdCBNb2RlbFVzZXIudXBkYXRlTWFueSh7IHVzdWFyaTogdXNlci51c3VhcmkgfSwgeyAkcHVsbDogeyBwb3N0OiB7IHBvc3RJbWc6IG9wLnBhcmFtZXRyb3MgfSB9IH0pXHJcbiAgcmVzLnN0YXR1cygyMDApLnNlbmQoJ2FsbCBncmVhdCcpXHJcbn0pXHJcblJvdXRlci5wb3N0KCcvcmVjb21lbmRhY2lvbicsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IG9wID0gcmVxLmJvZHlcclxuICBjb25zdCB1c2VycyA9IGF3YWl0IE1vZGVsVXNlci5maW5kKHsgdXN1YXJpOiB7ICRyZWdleDogYCR7b3AudXN1YXJpb3N9YCB9IH0sIHsgdXN1YXJpOiAxLCBfaWQ6IDAgfSkubGltaXQoNClcclxuICBjb25zdCBhcnJheVVzZXJzID0gW11cclxuICB1c2Vycy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgYXJyYXlVc2Vycy5wdXNoKGVsZW1lbnQudXN1YXJpKVxyXG4gIH0pXHJcbiAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBub21icmVzOiBhcnJheVVzZXJzIH0pXHJcbn0pXHJcblJvdXRlci5wb3N0KCcvVWx0aW1vc1Bvc3QnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBvcCA9IHJlcS5ib2R5XHJcbiAgY29uc3QgY29va2llID0gcmVxLmhlYWRlcnMuY29va2llXHJcbiAgaWYgKCFjb29raWUpIHtcclxuICAgIHJlcy5zdGF0dXMoNDAxKS5yZW5kZXIocGFnZXMgKyAnaHRtbC9zZXJ2aXMvNDAxTm9BdXRvcml6YWNpb24uaHRtbCcpXHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgY29uc3Qgb2JqZXRvVmVyaWZpY2FjaW9uID0gdmVyaWZpY2FjaW9uKGNvb2tpZSlcclxuICBpZiAoIW9iamV0b1ZlcmlmaWNhY2lvbi5tZXRvZG8pIHtcclxuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCdubyBzZSBhaCBlbmNvbnRyYWRvIGVsIHVzdWFyaW8nKVxyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBNb2RlbFVzZXIuZmluZE9uZSh7IF9pZDogb2JqZXRvVmVyaWZpY2FjaW9uLmRlY29kZWRUb2tlbi5pZCB9KVxyXG4gIGlmICghdXNlcikge1xyXG4gICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJ25vIHNlIGFoIGVuY29udHJhZG8gZWwgdXN1YXJpbycpXHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgaWYgKCFvcC5hbWlnb3NWaXNpdGFkb3MpIHtcclxuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCdkZWphIGRlIG1ldGVydGUgY29uIG1pIGNvZGlnbycpXHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIGxldCBudW1lcm9Qb3N0ID0gMTVcclxuICBsZXQgcG9zdE1hbmRhciA9IFtdXHJcbiAgbGV0IGFycmF5QW1pZ29zID0gb3AuYW1pZ29zVmlzaXRhZG9zXHJcbiAgbGV0IG51ZXZvQW1pZ29zVmlzaXRhZG9zID0gW11cclxuICBmb3IgKGxldCBpID0gMDsgaSA8PSB1c2VyLnVsdGltYXNCdXNxdWVkYXMubGVuZ3RoIC0gMSAmJiBudW1lcm9Qb3N0ID4gMDsgaSsrKSB7XHJcbiAgICBjb25zdCB1c2VyQW1pZ28gPSBhd2FpdCBNb2RlbFVzZXIuZmluZE9uZSh7IHVzdWFyaTogdXNlci51bHRpbWFzQnVzcXVlZGFzW2ldIH0pXHJcbiAgICBsZXQgZXhpc3RlQW1pZ28gPSBmYWxzZVxyXG4gICAgYXJyYXlBbWlnb3MuZm9yRWFjaChlbCA9PiB7XHJcbiAgICAgIGlmIChlbC5ub21icmUgPT09IHVzZXJBbWlnby51c3VhcmkpIHtcclxuICAgICAgICBleGlzdGVBbWlnbyA9IHRydWVcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBpZiAodXNlckFtaWdvKSB7XHJcbiAgICAgIGlmICghZXhpc3RlQW1pZ28pIHtcclxuICAgICAgICBudWV2b0FtaWdvc1Zpc2l0YWRvcyA9IFsuLi5udWV2b0FtaWdvc1Zpc2l0YWRvcywgdXNlckFtaWdvLnVzdWFyaV1cclxuICAgICAgICBhcnJheUFtaWdvcyA9IFsuLi5hcnJheUFtaWdvcywgeyBub21icmU6IHVzZXJBbWlnby51c3VhcmksIGNvbnRhZG9yOiAwIH1dXHJcbiAgICAgIH1cclxuICAgICAgYXJyYXlBbWlnb3MuZm9yRWFjaCgoZWwsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgaWYgKGVsLm5vbWJyZSA9PT0gdXNlckFtaWdvLnVzdWFyaSkge1xyXG4gICAgICAgICAgaWYgKHVzZXJBbWlnby5wb3N0W2VsLmNvbnRhZG9yXSkge1xyXG4gICAgICAgICAgICBwb3N0TWFuZGFyID0gWy4uLnBvc3RNYW5kYXIsIHtcclxuICAgICAgICAgICAgICBub21icmU6IHVzZXJBbWlnby51c3VhcmksXHJcbiAgICAgICAgICAgICAgcG9zdDogdXNlckFtaWdvLnBvc3RbZWwuY29udGFkb3JdLFxyXG4gICAgICAgICAgICAgIGljb246IHVzZXJBbWlnby5pY29uXHJcbiAgICAgICAgICAgIH1dXHJcbiAgICAgICAgICAgIGFycmF5QW1pZ29zW2luZGV4XS5jb250YWRvciA9IGFycmF5QW1pZ29zW2luZGV4XS5jb250YWRvciArIDFcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBudW1lcm9Qb3N0LS1cclxuICB9XHJcbiAgZm9yIChsZXQgaSA9IG51bWVyb1Bvc3Q7IGkgPiAwOyBpLS0pIHtcclxuICAgIGNvbnN0IHJhbmRvbSA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqICh1c2VyLmFtaWdvcy5sZW5ndGggLSAxKSlcclxuICAgIGNvbnN0IHVzZXJBbWlnbyA9IGF3YWl0IE1vZGVsVXNlci5maW5kT25lKHsgX2lkOiB1c2VyLmFtaWdvc1tyYW5kb21dIH0pXHJcbiAgICBsZXQgZXhpc3RlQW1pZ28gPSBmYWxzZVxyXG4gICAgYXJyYXlBbWlnb3MuZm9yRWFjaChlbCA9PiB7XHJcbiAgICAgIGlmIChlbC5ub21icmUgPT09IHVzZXJBbWlnby51c3VhcmkpIHtcclxuICAgICAgICBleGlzdGVBbWlnbyA9IHRydWVcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIGlmICh1c2VyQW1pZ28pIHtcclxuICAgICAgaWYgKCFleGlzdGVBbWlnbykge1xyXG4gICAgICAgIG51ZXZvQW1pZ29zVmlzaXRhZG9zID0gWy4uLm51ZXZvQW1pZ29zVmlzaXRhZG9zLCB1c2VyQW1pZ28udXN1YXJpXVxyXG4gICAgICAgIGFycmF5QW1pZ29zID0gWy4uLmFycmF5QW1pZ29zLCB7IG5vbWJyZTogdXNlckFtaWdvLnVzdWFyaSwgY29udGFkb3I6IDAgfV1cclxuICAgICAgfVxyXG4gICAgICBhcnJheUFtaWdvcy5mb3JFYWNoKChlbCwgaW5kZXgpID0+IHtcclxuICAgICAgICBpZiAoZWwubm9tYnJlID09PSB1c2VyQW1pZ28udXN1YXJpKSB7XHJcbiAgICAgICAgICBpZiAodXNlckFtaWdvLnBvc3RbZWwuY29udGFkb3JdKSB7XHJcbiAgICAgICAgICAgIHBvc3RNYW5kYXIgPSBbLi4ucG9zdE1hbmRhciwge1xyXG4gICAgICAgICAgICAgIG5vbWJyZTogdXNlckFtaWdvLnVzdWFyaSxcclxuICAgICAgICAgICAgICBwb3N0OiB1c2VyQW1pZ28ucG9zdFtlbC5jb250YWRvcl0sXHJcbiAgICAgICAgICAgICAgaWNvbjogdXNlckFtaWdvLmljb25cclxuICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgYXJyYXlBbWlnb3NbaW5kZXhdLmNvbnRhZG9yID0gYXJyYXlBbWlnb3NbaW5kZXhdLmNvbnRhZG9yICsgMVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcbiAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBhbWlnb3M6IHBvc3RNYW5kYXIsIG51ZXZvQW1pZ29zVmlzaXRhZG9zLCBhcnJheUFtaWdvcyB9KVxyXG59KVxyXG5Sb3V0ZXIucG9zdCgnLzppZCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IGNvb2tpZSA9IHJlcS5oZWFkZXJzLmNvb2tpZVxyXG4gIGlmICghY29va2llKSB7XHJcbiAgICByZXMucmVuZGVyKHBhdGguam9pbihwYWdlcywgJ2h0bWwvcGFnaW5hX3ByaW5jaXBhbC9pbmRleC5odG1sJykpXHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgY29uc3Qgb2JqZXRvVmVyaWZpY2FjaW9uID0gdmVyaWZpY2FjaW9uKGNvb2tpZSlcclxuICBpZiAoIW9iamV0b1ZlcmlmaWNhY2lvbi5tZXRvZG8pIHtcclxuICAgIHJlcy5yZW5kZXIocGF0aC5qb2luKHBhZ2VzLCAnaHRtbC9wYWdpbmFfcHJpbmNpcGFsL2luZGV4Lmh0bWwnKSlcclxuICAgIHJldHVyblxyXG4gIH1cclxuICBjb25zdCBub21icmVBbWlnbyA9IHJlcS5wYXJhbXMuaWQucmVwbGFjZUFsbCgnJTIwJywgJyAnKVxyXG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBNb2RlbFVzZXIuZmluZE9uZSh7IHVzdWFyaTogb2JqZXRvVmVyaWZpY2FjaW9uLmRlY29kZWRUb2tlbi51c3VhcmluYW1lIH0pXHJcbiAgY29uc3QgdXNlckFtaWdvID0gYXdhaXQgTW9kZWxVc2VyLmZpbmRPbmUoeyB1c3Vhcmk6IG5vbWJyZUFtaWdvIH0pXHJcbiAgaWYgKCF1c2VyQW1pZ28pIHtcclxuICAgIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdxdWUgc2hpbmdhIG1lIG1hbmRhc3RlPycpXHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgbGV0IGFtaWdvID0gZmFsc2VcclxuICB1c2VyLmFtaWdvcy5mb3JFYWNoKGVsID0+IHtcclxuICAgIGlmIChlbCA9PT0gYCR7dXNlckFtaWdvLl9pZH1gKSB7XHJcbiAgICAgIGFtaWdvID0gdHJ1ZVxyXG4gICAgfVxyXG4gIH0pXHJcbiAgaWYgKGFtaWdvKSB7XHJcbiAgICBhd2FpdCBNb2RlbFVzZXIudXBkYXRlTWFueSh7IHVzdWFyaTogdXNlci51c3VhcmkgfSwgeyAkcHVsbEFsbDogeyBhbWlnb3M6IFt1c2VyQW1pZ28uX2lkXSB9IH0pXHJcbiAgfSBlbHNlIHtcclxuICAgIGF3YWl0IE1vZGVsVXNlci51cGRhdGVPbmUoeyB1c3Vhcmk6IHVzZXIudXN1YXJpIH0sIHsgJHB1c2g6IHsgYW1pZ29zOiB7ICRlYWNoOiBbdXNlckFtaWdvLl9pZF0sICRwb3NpdGlvbjogMCB9IH0gfSlcclxuICB9XHJcbiAgcmVzLmpzb24ob2JqZXRvVmVyaWZpY2FjaW9uKVxyXG59KVxyXG5tb2R1bGUuZXhwb3J0cyA9IFJvdXRlclxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "path",
        "require",
        "Router",
        "v4",
        "uuidv4",
        "fs",
        "jwt",
        "cookieNPM",
        "ffmpegPath",
        "ffmpeg",
        "bcrypt",
        "youKnow",
        "pages",
        "join",
        "__dirname",
        "baseHash",
        "ModelUser",
        "setFfmpegPath",
        "verificacion",
        "cookie",
        "jsoncookie",
        "parse",
        "userName",
        "length",
        "metodo",
        "token",
        "decodedToken",
        "verify",
        "id",
        "get",
        "req",
        "res",
        "headers",
        "render",
        "objetoVerificacion",
        "name",
        "usuariname",
        "icon",
        "status",
        "nombreUrl",
        "params",
        "replaceAll",
        "user",
        "findOne",
        "usuari",
        "arrayBackground",
        "background",
        "split",
        "extencion",
        "difbackground",
        "backgroundDifumidado",
        "userToken",
        "_id",
        "amigo",
        "amigos",
        "forEach",
        "el",
        "backgroundDifuminado",
        "perfil",
        "post",
        "op",
        "body",
        "uss",
        "contra",
        "json",
        "mensaje",
        "primer",
        "password",
        "compare",
        "sign",
        "send",
        "JSON",
        "stringify",
        "ultimasBusquedas",
        "end",
        "mensage",
        "salt",
        "genSaltSync",
        "passHash",
        "hashSync",
        "userNew",
        "save",
        "nombre",
        "arrayPost",
        "slice",
        "cont",
        "content",
        "files",
        "Object",
        "keys",
        "image",
        "file",
        "imagen",
        "mesage",
        "desc",
        "Date",
        "description",
        "nombreimagen",
        "postImg",
        "mv",
        "err",
        "updateOne",
        "$push",
        "$each",
        "$position",
        "replace",
        "nombreSinExtencion",
        "index",
        "difuminado",
        "source",
        "takeScreenshots",
        "filename",
        "timemarks",
        "usuarios",
        "userPerfil",
        "pagina",
        "maxUltimosBuscados",
        "arrayConservador",
        "elemet",
        "indice",
        "updateMany",
        "unlinkSync",
        "parametros",
        "$pull",
        "users",
        "find",
        "$regex",
        "limit",
        "arrayUsers",
        "element",
        "push",
        "nombres",
        "amigosVisitados",
        "numeroPost",
        "postMandar",
        "arrayAmigos",
        "nuevoAmigosVisitados",
        "i",
        "userAmigo",
        "existeAmigo",
        "contador",
        "random",
        "Math",
        "round",
        "nombreAmigo",
        "$pullAll",
        "module",
        "exports"
      ],
      "mappings": "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",
      "sourceRoot": "D:\\copia\\server\\Router\\",
      "sourcesContent": [
        "const path = require('path')\r\nconst Router = require('express').Router()\r\nconst { v4: uuidv4 } = require('uuid')\r\nconst fs = require('fs')\r\nconst jwt = require('jsonwebtoken')\r\nconst cookieNPM = require('cookie')\r\nconst ffmpegPath = require('@ffmpeg-installer/ffmpeg').path\r\nconst ffmpeg = require('fluent-ffmpeg')\r\nconst bcrypt = require('bcrypt')\r\nconst youKnow = 'iLovePlayMinecraftForEver'\r\nconst pages = path.join(__dirname, '/../public/')\r\nconst baseHash = 10\r\nconst ModelUser = require('../usariname.js')\r\nffmpeg.setFfmpegPath(ffmpegPath)\r\n\r\nfunction verificacion (cookie) {\r\n  const jsoncookie = cookieNPM.parse(cookie)\r\n  if (!jsoncookie.userName || jsoncookie.userName === 'undefined' || jsoncookie.userName.length === 0) {\r\n    return { metodo: false }\r\n  }\r\n  const token = jsoncookie.userName\r\n  const decodedToken = jwt.verify(token, youKnow)\r\n  if (!decodedToken.id) {\r\n    return { metodo: false }\r\n  } else {\r\n    return { metodo: true, decodedToken }\r\n  }\r\n}\r\nRouter.get('/', (req, res) => {\r\n  const cookie = req.headers.cookie\r\n  if (!cookie) {\r\n    res.render(path.join(pages, 'html/pagina_principal/index.html'))\r\n    return\r\n  }\r\n  const objetoVerificacion = verificacion(cookie)\r\n  if (!objetoVerificacion.metodo) {\r\n    res.render(path.join(pages, 'html/pagina_principal/index.html'))\r\n    return\r\n  }\r\n  res.render(path.join(pages, 'html/cuentas/sujeridos.ejs'), {\r\n    name: objetoVerificacion.decodedToken.usuariname,\r\n    icon: objetoVerificacion.decodedToken.icon\r\n  })\r\n})\r\nRouter.get('/register', (req, res) => res.render(path.join(pages, 'html/register/registro.html')))\r\nRouter.get('/:id', async (req, res) => {\r\n  const cookie = req.headers.cookie\r\n  if (!cookie) {\r\n    res.status(401).render(pages + 'html/servis/401NoAutorizacion.html')\r\n    return\r\n  }\r\n  const nombreUrl = req.params.id.replaceAll('%20', ' ')\r\n  const user = await ModelUser.findOne({ usuari: nombreUrl })\r\n\r\n  if (!user) {\r\n    res.render(pages + 'html/servis/error.html')\r\n  } else {\r\n    const objetoVerificacion = verificacion(cookie)\r\n    if (!objetoVerificacion.metodo) {\r\n      res.status(401).render('html/servis/401NoAutorizacion.html')\r\n      return\r\n    }\r\n    const decodedToken = objetoVerificacion.decodedToken\r\n    const arrayBackground = user.background.split('.')\r\n    let extencion = arrayBackground[arrayBackground.length - 1]\r\n\r\n    extencion === 'mp4' || extencion === 'avi'\r\n      ? extencion = `<video id=\"responsive_cuentas.js-la_entidad_de_la_imagen_para_poder_comparar_su_tamaño-background\" class=\"background-content-responsive-video\" src=\"${user.background}\" controls></video>`\r\n      : extencion = `<img id=\"responsive_cuentas.js-la_entidad_de_la_imagen_para_poder_comparar_su_tamaño-background\" class=\"background-content-responsive-imagen\" src=\"${user.background}\" alt=\"\">`\r\n\r\n    const difbackground = `<img class=\"imageDifumida\" src=\"${user.backgroundDifumidado}\" alt=\"\">`\r\n\r\n    const userToken = await ModelUser.findOne({ _id: decodedToken.id })\r\n    let amigo = false\r\n    userToken.amigos.forEach(el => {\r\n      if (el === `${user._id}`) {\r\n        amigo = true\r\n      }\r\n    })\r\n    if (`${user._id}` === `${decodedToken.id}`) {\r\n      res.render(pages + 'html/cuentas/cuentas.ejs', {\r\n        extencion: extencion,\r\n        user: userToken.usuari,\r\n        name: user.usuari,\r\n        backgroundDifuminado: difbackground,\r\n        icon: user.icon,\r\n        perfil: userToken.icon\r\n      })\r\n    } else {\r\n      res.render(pages + 'html/cuentas/anotherCuenta.ejs', {\r\n        extencion: extencion,\r\n        user: user.usuari,\r\n        name: userToken.usuari,\r\n        backgroundDifuminado: difbackground,\r\n        icon: userToken.icon,\r\n        perfil: user.icon,\r\n        amigo\r\n      })\r\n    }\r\n  }\r\n})\r\nRouter.post('/', async (req, res) => {\r\n  const op = req.body\r\n  if (!op.uss || !op.contra) {\r\n    res.status(400).json({ mensaje: 'porque modificas mi codigo' })\r\n    return\r\n  }\r\n  const primer = new ModelUser({\r\n    usuari: op.uss,\r\n    password: op.contra\r\n  })\r\n  const user = await ModelUser.findOne({ usuari: primer.usuari })\r\n  if (user) {\r\n    if (await bcrypt.compare(primer.password, user.password)) {\r\n      const token = jwt.sign({\r\n        id: user._id,\r\n        usuariname: user.usuari,\r\n        icon: user.icon\r\n      }, youKnow)\r\n      res.json({ metodo: true, token: token })\r\n      return\r\n    }\r\n  }\r\n  res.status(203).json({ metodo: false, mensaje: 'su contraseña o usuario esta mal' })\r\n})\r\nRouter.post('/ultimaBusqueda', async (req, res) => {\r\n  const cookie = req.headers.cookie\r\n  if (!cookie) {\r\n    res.status(401).render(pages + '/html/401NoAutorizacion.html')\r\n    return\r\n  }\r\n  const objetoVerificacion = verificacion(cookie)\r\n  if (!objetoVerificacion.metodo) {\r\n    res.status(404).send('no se ah encontrado el usuario')\r\n    return\r\n  }\r\n\r\n  const user = await ModelUser.findOne({ _id: objetoVerificacion.decodedToken.id })\r\n  res.send(JSON.stringify(user.ultimasBusquedas))\r\n  res.end()\r\n})\r\nRouter.post('/register', async (req, res) => {\r\n  const op = req.body\r\n  if (!op.uss || !op.contra) {\r\n    res.status(400).send('que haces cambiando mi codigo?')\r\n    return\r\n  }\r\n  const user = await ModelUser.findOne({ usuari: op.uss })\r\n  if (user) {\r\n    res.send({ metodo: false, mensage: 'Este usuario ya existe' })\r\n  }\r\n  const salt = bcrypt.genSaltSync(baseHash)\r\n  const passHash = bcrypt.hashSync(op.contra, salt)\r\n  const primer = new ModelUser({\r\n    usuari: op.uss,\r\n    password: passHash\r\n  })\r\n  const userNew = await primer.save()\r\n  const token = await jwt.sign({ id: userNew._id, usuariname: userNew.usuari, icon: userNew.icon }, youKnow)\r\n  res.send({\r\n    metodo: true,\r\n    mensage: 'se ha guardado su usuario',\r\n    nombre: userNew.usuari,\r\n    token: token\r\n  })\r\n})\r\nRouter.post('/cuentas/:id', async (req, res) => {\r\n  const op = req.body\r\n  const user = await ModelUser.findOne({ usuari: req.params.id })\r\n  if (!user || req.params.id === '') {\r\n    return res.status(404).send(pages + '/html/error.html')\r\n  }\r\n  const arrayPost = user.post.slice(op.cont, op.cont + 3)\r\n  if (arrayPost == null) {\r\n    res.send(JSON.stringify({ post: null }))\r\n    return\r\n  }\r\n  const primer = {\r\n    content: arrayPost\r\n  }\r\n  res.send(JSON.stringify(primer))\r\n  res.end()\r\n})\r\nRouter.post('/imagenes/:id', async (req, res) => {\r\n  const cookie = req.headers.cookie\r\n  if (!cookie) {\r\n    res.status(401).render(pages + '/html/401NoAutorizacion.html')\r\n    return\r\n  }\r\n  const objetoVerificacion = verificacion(cookie)\r\n  if (!objetoVerificacion.metodo) {\r\n    res.status(404).send('no se ah encontrado el usuario')\r\n    return\r\n  }\r\n  if (!req.files || Object.keys(req.files).length === 0 || !req.files.image) {\r\n    res.status(400).send('No files were uploaded.' + req.file)\r\n    return\r\n  }\r\n  const imagen = req.files.image\r\n  const user = await ModelUser.findOne({ usuari: req.params.id })\r\n  if (user._id !== objetoVerificacion.decodedToken.id) {\r\n    res.status(400).json({ mesage: 'usted no tiene permitido cambiar ni agregar nada a esta cuenta' })\r\n    return\r\n  }\r\n  if (!user) {\r\n    res.status(404).send('no se ah encontrado el usuario')\r\n    return\r\n  }\r\n  const desc = Date() + '█ ' + req.body.description\r\n  const nombreimagen = uuidv4() + imagen.name\r\n  const postImg = 'temp/' + nombreimagen\r\n  imagen.name = nombreimagen\r\n  imagen.mv(path.join(pages, postImg), err => {\r\n    if (err) {\r\n      return res.status(402)\r\n    }\r\n  })\r\n  await ModelUser.updateOne({ usuari: user.usuari }, { $push: { post: { $each: [{ postImg, desc }], $position: 0 } } })\r\n  res.status(200).send('all great')\r\n})\r\nRouter.post('/perfilIcon/:id', async (req, res) => {\r\n  if (!req.files || Object.keys(req.files).length === 0 || !req.files.image) {\r\n    res.status(400).json({ mensage: 'No files were uploaded.' })\r\n    return\r\n  }\r\n  const cookie = req.headers.cookie\r\n  if (!cookie) {\r\n    res.status(401).render(pages + 'html/servis/401NoAutorizacion.html')\r\n    return\r\n  }\r\n  const objetoVerificacion = verificacion(cookie)\r\n  if (!objetoVerificacion.metodo) {\r\n    res.status(404).send('no se ah encontrado el usuario')\r\n    return\r\n  }\r\n  const user = await ModelUser.findOne({ usuari: req.params.id })\r\n  if (!user || user._id !== objetoVerificacion.decodedToken.id) {\r\n    res.status(404).send('no se ah encontrado el usuario')\r\n    return\r\n  }\r\n  const jsoncookie = cookieNPM.parse(cookie)\r\n  const token = jsoncookie.userName\r\n  const decodedToken = jwt.verify(token, youKnow)\r\n  if (user._id !== decodedToken.id) {\r\n    res.status(400).json({ mesage: 'usted no tiene permitido cambiar ni agregar nada a esta cuenta' })\r\n    return\r\n  }\r\n  const imagen = req.files.image\r\n  let nombreimagen = uuidv4() + imagen.name\r\n  nombreimagen = nombreimagen.replace('\"', '')\r\n  const postImg = 'iconos/' + nombreimagen\r\n  imagen.name = nombreimagen\r\n  imagen.mv(path.join(pages, postImg), err => {\r\n    if (err) {\r\n      return res.status(402)\r\n    }\r\n  })\r\n  await ModelUser.updateOne({ usuari: user.usuari }, { icon: '/' + postImg })\r\n  res.status(200).send('all great')\r\n})\r\nRouter.post('/background/:id', async (req, res) => {\r\n  const cookie = req.headers.cookie\r\n  if (!cookie) {\r\n    res.status(401).render(pages + 'html/servis/401NoAutorizacion.html')\r\n    return\r\n  }\r\n  const objetoVerificacion = verificacion(cookie)\r\n  if (!objetoVerificacion.metodo) {\r\n    res.status(404).send('no se ah encontrado el usuario')\r\n    return\r\n  }\r\n  if (!req.files || Object.keys(req.files).length === 0 || !req.files.image) {\r\n    res.status(400).json({ mensage: 'No files were uploaded.' })\r\n    return\r\n  }\r\n  const user = await ModelUser.findOne({ usuari: req.params.id })\r\n  if (!user) {\r\n    res.status(404).send('no se ah encontrado el usuario')\r\n    return\r\n  }\r\n  if (user._id !== objetoVerificacion.decodedToken.id) {\r\n    res.status(400).json({ mesage: 'usted no tiene permitido cambiar ni agregar nada a esta cuenta' })\r\n    return\r\n  }\r\n  const imagen = req.files.image\r\n  let nombreimagen = uuidv4() + imagen.name\r\n  nombreimagen = nombreimagen.replace('\"', '')\r\n  const postImg = 'backgrounds/' + nombreimagen\r\n  const arrayBackground = nombreimagen.split('.')\r\n  let nombreSinExtencion = ''\r\n  if (arrayBackground.length.length > 2) {\r\n    for (let index = 0; index < arrayBackground.length - 2; index++) {\r\n      nombreSinExtencion += arrayBackground.length[index]\r\n    }\r\n  } else {\r\n    nombreSinExtencion = arrayBackground[0]\r\n  }\r\n  const extencion = arrayBackground[arrayBackground.length - 1]\r\n  imagen.name = nombreimagen\r\n  imagen.mv(path.join(pages, postImg), err => {\r\n    if (err) {\r\n      return res.status(402)\r\n    }\r\n  })\r\n  const difuminado = `backgroundDifuminado/${nombreSinExtencion}.jpg`\r\n  if (extencion === 'mp4' || extencion === 'avi') {\r\n    ffmpeg({ source: path.join(pages, postImg) })\r\n      .takeScreenshots({ filename: `${nombreSinExtencion}.jpg`, timemarks: [0] }, pages + '/backgroundDifuminado')\r\n    await ModelUser.updateOne({ usuari: user.usuari }, { background: '/' + postImg })\r\n    await ModelUser.updateOne({ usuari: user.usuari }, { backgroundDifumidado: '/' + difuminado })\r\n  } else {\r\n    await ModelUser.updateOne({ usuari: user.usuari }, { background: '/' + postImg })\r\n    await ModelUser.updateOne({ usuari: user.usuari }, { backgroundDifumidado: '/' + postImg })\r\n  }\r\n  res.status(200).send('all great')\r\n})\r\nRouter.post('/buscar', async (req, res) => {\r\n  const op = req.body\r\n  const cookie = req.headers.cookie\r\n  if (!cookie) {\r\n    res.status(401).render(pages + 'html/servis/401NoAutorizacion.html')\r\n    return\r\n  }\r\n  const objetoVerificacion = verificacion(cookie)\r\n  if (!objetoVerificacion.metodo) {\r\n    res.status(404).send('no se ah encontrado el usuario')\r\n    return\r\n  }\r\n  if (!op.usuarios) {\r\n    res.status(404).send('no se ah encontrado el usuario')\r\n    return\r\n  }\r\n\r\n  const userPerfil = await ModelUser.findOne({ usuari: op.usuarios })\r\n  if (!userPerfil) {\r\n    res.status(404).send('no se ah encontrado el usuario')\r\n    return\r\n  }\r\n  const user = await ModelUser.findOne({ _id: objetoVerificacion.decodedToken.id })\r\n\r\n  if (user.usuari === op.usuarios) {\r\n    res.json({ pagina: '/' + user.usuari })\r\n    return\r\n  }\r\n  const maxUltimosBuscados = 5\r\n  let arrayConservador = []\r\n  user.ultimasBusquedas.forEach((elemet, indice) => {\r\n    if (elemet !== op.usuarios) {\r\n      if (indice < maxUltimosBuscados) {\r\n        arrayConservador = [...arrayConservador, elemet]\r\n      }\r\n    }\r\n  })\r\n\r\n  await ModelUser.updateMany({ _id: objetoVerificacion.decodedToken.id }, {\r\n    ultimasBusquedas: [op.usuarios, ...arrayConservador]\r\n  })\r\n\r\n  res.json({ pagina: '/' + userPerfil.usuari })\r\n})\r\nRouter.post('/miSitio', async (req, res) => {\r\n  const cookie = req.headers.cookie\r\n  if (!cookie) {\r\n    res.status(401).render(pages + 'html/servis/401NoAutorizacion.html')\r\n    return\r\n  }\r\n  const objetoVerificacion = verificacion(cookie)\r\n  if (!objetoVerificacion.metodo) {\r\n    res.status(404).send('no se ah encontrado el usuario')\r\n    return\r\n  }\r\n  const user = await ModelUser.findOne({ _id: objetoVerificacion.decodedToken.id })\r\n  if (!user) {\r\n    res.status(404).send('no se ah encontrado el usuario')\r\n    return\r\n  }\r\n  res.json({ pagina: '/' + user.usuari })\r\n})\r\nRouter.post('/deleteimagen/:id', async (req, res) => {\r\n  const op = req.body\r\n  const cookie = req.headers.cookie\r\n  if (!cookie) {\r\n    res.status(401).render(pages + 'html/servis/401NoAutorizacion.html')\r\n    return\r\n  }\r\n  const objetoVerificacion = verificacion(cookie)\r\n  if (!objetoVerificacion.metodo) {\r\n    res.status(404).send('no se ah encontrado el usuario')\r\n    return\r\n  }\r\n  const user = await ModelUser.findOne({ usuari: req.params.id })\r\n  if (!user || user._id !== objetoVerificacion.decodedToken.id) {\r\n    res.status(404).send('no se ah encontrado el usuario')\r\n    return\r\n  }\r\n\r\n  fs.unlinkSync(path.join(pages, op.parametros))\r\n  await ModelUser.updateMany({ usuari: user.usuari }, { $pull: { post: { postImg: op.parametros } } })\r\n  res.status(200).send('all great')\r\n})\r\nRouter.post('/recomendacion', async (req, res) => {\r\n  const op = req.body\r\n  const users = await ModelUser.find({ usuari: { $regex: `${op.usuarios}` } }, { usuari: 1, _id: 0 }).limit(4)\r\n  const arrayUsers = []\r\n  users.forEach(element => {\r\n    arrayUsers.push(element.usuari)\r\n  })\r\n  res.status(200).json({ nombres: arrayUsers })\r\n})\r\nRouter.post('/UltimosPost', async (req, res) => {\r\n  const op = req.body\r\n  const cookie = req.headers.cookie\r\n  if (!cookie) {\r\n    res.status(401).render(pages + 'html/servis/401NoAutorizacion.html')\r\n    return\r\n  }\r\n  const objetoVerificacion = verificacion(cookie)\r\n  if (!objetoVerificacion.metodo) {\r\n    res.status(404).send('no se ah encontrado el usuario')\r\n    return\r\n  }\r\n  const user = await ModelUser.findOne({ _id: objetoVerificacion.decodedToken.id })\r\n  if (!user) {\r\n    res.status(404).send('no se ah encontrado el usuario')\r\n    return\r\n  }\r\n  if (!op.amigosVisitados) {\r\n    res.status(404).send('deja de meterte con mi codigo')\r\n    return\r\n  }\r\n\r\n  let numeroPost = 15\r\n  let postMandar = []\r\n  let arrayAmigos = op.amigosVisitados\r\n  let nuevoAmigosVisitados = []\r\n  for (let i = 0; i <= user.ultimasBusquedas.length - 1 && numeroPost > 0; i++) {\r\n    const userAmigo = await ModelUser.findOne({ usuari: user.ultimasBusquedas[i] })\r\n    let existeAmigo = false\r\n    arrayAmigos.forEach(el => {\r\n      if (el.nombre === userAmigo.usuari) {\r\n        existeAmigo = true\r\n      }\r\n    })\r\n\r\n    if (userAmigo) {\r\n      if (!existeAmigo) {\r\n        nuevoAmigosVisitados = [...nuevoAmigosVisitados, userAmigo.usuari]\r\n        arrayAmigos = [...arrayAmigos, { nombre: userAmigo.usuari, contador: 0 }]\r\n      }\r\n      arrayAmigos.forEach((el, index) => {\r\n        if (el.nombre === userAmigo.usuari) {\r\n          if (userAmigo.post[el.contador]) {\r\n            postMandar = [...postMandar, {\r\n              nombre: userAmigo.usuari,\r\n              post: userAmigo.post[el.contador],\r\n              icon: userAmigo.icon\r\n            }]\r\n            arrayAmigos[index].contador = arrayAmigos[index].contador + 1\r\n          }\r\n        }\r\n      })\r\n    }\r\n    numeroPost--\r\n  }\r\n  for (let i = numeroPost; i > 0; i--) {\r\n    const random = Math.round(Math.random() * (user.amigos.length - 1))\r\n    const userAmigo = await ModelUser.findOne({ _id: user.amigos[random] })\r\n    let existeAmigo = false\r\n    arrayAmigos.forEach(el => {\r\n      if (el.nombre === userAmigo.usuari) {\r\n        existeAmigo = true\r\n      }\r\n    })\r\n    if (userAmigo) {\r\n      if (!existeAmigo) {\r\n        nuevoAmigosVisitados = [...nuevoAmigosVisitados, userAmigo.usuari]\r\n        arrayAmigos = [...arrayAmigos, { nombre: userAmigo.usuari, contador: 0 }]\r\n      }\r\n      arrayAmigos.forEach((el, index) => {\r\n        if (el.nombre === userAmigo.usuari) {\r\n          if (userAmigo.post[el.contador]) {\r\n            postMandar = [...postMandar, {\r\n              nombre: userAmigo.usuari,\r\n              post: userAmigo.post[el.contador],\r\n              icon: userAmigo.icon\r\n            }]\r\n            arrayAmigos[index].contador = arrayAmigos[index].contador + 1\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n  res.status(200).json({ amigos: postMandar, nuevoAmigosVisitados, arrayAmigos })\r\n})\r\nRouter.post('/:id', async (req, res) => {\r\n  const cookie = req.headers.cookie\r\n  if (!cookie) {\r\n    res.render(path.join(pages, 'html/pagina_principal/index.html'))\r\n    return\r\n  }\r\n  const objetoVerificacion = verificacion(cookie)\r\n  if (!objetoVerificacion.metodo) {\r\n    res.render(path.join(pages, 'html/pagina_principal/index.html'))\r\n    return\r\n  }\r\n  const nombreAmigo = req.params.id.replaceAll('%20', ' ')\r\n  const user = await ModelUser.findOne({ usuari: objetoVerificacion.decodedToken.usuariname })\r\n  const userAmigo = await ModelUser.findOne({ usuari: nombreAmigo })\r\n  if (!userAmigo) {\r\n    res.status(400).send('que shinga me mandaste?')\r\n    return\r\n  }\r\n  let amigo = false\r\n  user.amigos.forEach(el => {\r\n    if (el === `${userAmigo._id}`) {\r\n      amigo = true\r\n    }\r\n  })\r\n  if (amigo) {\r\n    await ModelUser.updateMany({ usuari: user.usuari }, { $pullAll: { amigos: [userAmigo._id] } })\r\n  } else {\r\n    await ModelUser.updateOne({ usuari: user.usuari }, { $push: { amigos: { $each: [userAmigo._id], $position: 0 } } })\r\n  }\r\n  res.json(objetoVerificacion)\r\n})\r\nmodule.exports = Router\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1630008159370
  },
  "{\"assumptions\":{},\"sourceRoot\":\"D:\\\\copia\\\\server\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\copia\",\"filename\":\"D:\\\\copia\\\\server\\\\usariname.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\copia\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.0": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "D:\\copia\\server\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\copia",
      "filename": "D:\\copia\\server\\usariname.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "D:\\copia",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\copia\\server\\usariname.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\copia\\server\\usariname.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\copia\\server\\",
        "sourceFileName": "usariname.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst {\n  Schema,\n  model\n} = require('mongoose');\n\nconst usuari = new Schema({\n  usuari: {\n    type: String,\n    required: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  date: {\n    type: Date,\n    default: new Date()\n  },\n  background: {\n    type: String,\n    default: 'images/background.jpg'\n  },\n  backgroundDifumidado: {\n    type: String,\n    default: 'images/background.jpg'\n  },\n  icon: {\n    type: String,\n    default: 'images/camille-300x300.png'\n  },\n  amigos: {\n    type: [],\n    default: []\n  },\n  ultimasBusquedas: {\n    type: [],\n    default: []\n  },\n  post: []\n});\nmodule.exports = model('usuarios', usuari);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzYXJpbmFtZS5qcyJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb2RlbCIsInJlcXVpcmUiLCJ1c3VhcmkiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJwYXNzd29yZCIsImRhdGUiLCJEYXRlIiwiZGVmYXVsdCIsImJhY2tncm91bmQiLCJiYWNrZ3JvdW5kRGlmdW1pZGFkbyIsImljb24iLCJhbWlnb3MiLCJ1bHRpbWFzQnVzcXVlZGFzIiwicG9zdCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTTtBQUFFQSxFQUFBQSxNQUFGO0FBQVVDLEVBQUFBO0FBQVYsSUFBb0JDLE9BQU8sQ0FBQyxVQUFELENBQWpDOztBQUNBLE1BQU1DLE1BQU0sR0FBRyxJQUFJSCxNQUFKLENBQVc7QUFDeEJHLEVBQUFBLE1BQU0sRUFBRTtBQUFFQyxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQURnQjtBQUV4QkMsRUFBQUEsUUFBUSxFQUFFO0FBQUVILElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBRmM7QUFHeEJFLEVBQUFBLElBQUksRUFBRTtBQUFFSixJQUFBQSxJQUFJLEVBQUVLLElBQVI7QUFBY0MsSUFBQUEsT0FBTyxFQUFFLElBQUlELElBQUo7QUFBdkIsR0FIa0I7QUFJeEJFLEVBQUFBLFVBQVUsRUFBRTtBQUFFUCxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JLLElBQUFBLE9BQU8sRUFBRTtBQUF6QixHQUpZO0FBS3hCRSxFQUFBQSxvQkFBb0IsRUFBRTtBQUFFUixJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JLLElBQUFBLE9BQU8sRUFBRTtBQUF6QixHQUxFO0FBTXhCRyxFQUFBQSxJQUFJLEVBQUU7QUFBRVQsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCSyxJQUFBQSxPQUFPLEVBQUU7QUFBekIsR0FOa0I7QUFPeEJJLEVBQUFBLE1BQU0sRUFBRTtBQUFFVixJQUFBQSxJQUFJLEVBQUUsRUFBUjtBQUFZTSxJQUFBQSxPQUFPLEVBQUU7QUFBckIsR0FQZ0I7QUFReEJLLEVBQUFBLGdCQUFnQixFQUFFO0FBQUVYLElBQUFBLElBQUksRUFBRSxFQUFSO0FBQVlNLElBQUFBLE9BQU8sRUFBRTtBQUFyQixHQVJNO0FBU3hCTSxFQUFBQSxJQUFJLEVBQUU7QUFUa0IsQ0FBWCxDQUFmO0FBV0FDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmpCLEtBQUssQ0FBQyxVQUFELEVBQWFFLE1BQWIsQ0FBdEIiLCJzb3VyY2VSb290IjoiRDpcXGNvcGlhXFxzZXJ2ZXJcXCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgU2NoZW1hLCBtb2RlbCB9ID0gcmVxdWlyZSgnbW9uZ29vc2UnKVxyXG5jb25zdCB1c3VhcmkgPSBuZXcgU2NoZW1hKHtcclxuICB1c3Vhcmk6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIHBhc3N3b3JkOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBkYXRlOiB7IHR5cGU6IERhdGUsIGRlZmF1bHQ6IG5ldyBEYXRlKCkgfSxcclxuICBiYWNrZ3JvdW5kOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJ2ltYWdlcy9iYWNrZ3JvdW5kLmpwZycgfSxcclxuICBiYWNrZ3JvdW5kRGlmdW1pZGFkbzogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICdpbWFnZXMvYmFja2dyb3VuZC5qcGcnIH0sXHJcbiAgaWNvbjogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICdpbWFnZXMvY2FtaWxsZS0zMDB4MzAwLnBuZycgfSxcclxuICBhbWlnb3M6IHsgdHlwZTogW10sIGRlZmF1bHQ6IFtdIH0sXHJcbiAgdWx0aW1hc0J1c3F1ZWRhczogeyB0eXBlOiBbXSwgZGVmYXVsdDogW10gfSxcclxuICBwb3N0OiBbXVxyXG59KVxyXG5tb2R1bGUuZXhwb3J0cyA9IG1vZGVsKCd1c3VhcmlvcycsIHVzdWFyaSlcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "usariname.js"
      ],
      "names": [
        "Schema",
        "model",
        "require",
        "usuari",
        "type",
        "String",
        "required",
        "password",
        "date",
        "Date",
        "default",
        "background",
        "backgroundDifumidado",
        "icon",
        "amigos",
        "ultimasBusquedas",
        "post",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAM;AAAEA,EAAAA,MAAF;AAAUC,EAAAA;AAAV,IAAoBC,OAAO,CAAC,UAAD,CAAjC;;AACA,MAAMC,MAAM,GAAG,IAAIH,MAAJ,CAAW;AACxBG,EAAAA,MAAM,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADgB;AAExBC,EAAAA,QAAQ,EAAE;AAAEH,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAFc;AAGxBE,EAAAA,IAAI,EAAE;AAAEJ,IAAAA,IAAI,EAAEK,IAAR;AAAcC,IAAAA,OAAO,EAAE,IAAID,IAAJ;AAAvB,GAHkB;AAIxBE,EAAAA,UAAU,EAAE;AAAEP,IAAAA,IAAI,EAAEC,MAAR;AAAgBK,IAAAA,OAAO,EAAE;AAAzB,GAJY;AAKxBE,EAAAA,oBAAoB,EAAE;AAAER,IAAAA,IAAI,EAAEC,MAAR;AAAgBK,IAAAA,OAAO,EAAE;AAAzB,GALE;AAMxBG,EAAAA,IAAI,EAAE;AAAET,IAAAA,IAAI,EAAEC,MAAR;AAAgBK,IAAAA,OAAO,EAAE;AAAzB,GANkB;AAOxBI,EAAAA,MAAM,EAAE;AAAEV,IAAAA,IAAI,EAAE,EAAR;AAAYM,IAAAA,OAAO,EAAE;AAArB,GAPgB;AAQxBK,EAAAA,gBAAgB,EAAE;AAAEX,IAAAA,IAAI,EAAE,EAAR;AAAYM,IAAAA,OAAO,EAAE;AAArB,GARM;AASxBM,EAAAA,IAAI,EAAE;AATkB,CAAX,CAAf;AAWAC,MAAM,CAACC,OAAP,GAAiBjB,KAAK,CAAC,UAAD,EAAaE,MAAb,CAAtB",
      "sourceRoot": "D:\\copia\\server\\",
      "sourcesContent": [
        "const { Schema, model } = require('mongoose')\r\nconst usuari = new Schema({\r\n  usuari: { type: String, required: true },\r\n  password: { type: String, required: true },\r\n  date: { type: Date, default: new Date() },\r\n  background: { type: String, default: 'images/background.jpg' },\r\n  backgroundDifumidado: { type: String, default: 'images/background.jpg' },\r\n  icon: { type: String, default: 'images/camille-300x300.png' },\r\n  amigos: { type: [], default: [] },\r\n  ultimasBusquedas: { type: [], default: [] },\r\n  post: []\r\n})\r\nmodule.exports = model('usuarios', usuari)\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1629980441925
  },
  "{\"assumptions\":{},\"sourceRoot\":\"D:\\\\copia\\\\server\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\copia\",\"filename\":\"D:\\\\copia\\\\server\\\\database.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\copia\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.0": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "D:\\copia\\server\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\copia",
      "filename": "D:\\copia\\server\\database.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "D:\\copia",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\copia\\server\\database.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\copia\\server\\database.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\copia\\server\\",
        "sourceFileName": "database.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nmodule.exports = {\n  url: 'mongodb://localhost:27017/project'\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhdGFiYXNlLmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJ1cmwiXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUNmQyxFQUFBQSxHQUFHLEVBQUU7QUFEVSxDQUFqQiIsInNvdXJjZVJvb3QiOiJEOlxcY29waWFcXHNlcnZlclxcIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgdXJsOiAnbW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNy9wcm9qZWN0J1xyXG59XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "database.js"
      ],
      "names": [
        "module",
        "exports",
        "url"
      ],
      "mappings": ";;AAAAA,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,GAAG,EAAE;AADU,CAAjB",
      "sourceRoot": "D:\\copia\\server\\",
      "sourcesContent": [
        "module.exports = {\r\n  url: 'mongodb://localhost:27017/project'\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1629980450999
  },
  "{\"assumptions\":{},\"sourceRoot\":\"D:\\\\copia\\\\server\\\\Router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\copia\",\"filename\":\"D:\\\\copia\\\\server\\\\Router\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\copia\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.0": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "D:\\copia\\server\\Router\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\copia",
      "filename": "D:\\copia\\server\\Router\\index.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "D:\\copia",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\copia\\server\\Router\\index.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\copia\\server\\Router\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\copia\\server\\Router\\",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst path = require('path');\n\nconst Router = require('express').Router();\n\nconst {\n  v4: uuidv4\n} = require('uuid');\n\nconst fs = require('fs');\n\nconst jwt = require('jsonwebtoken');\n\nconst cookieNPM = require('cookie');\n\nconst ffmpegPath = require('@ffmpeg-installer/ffmpeg').path;\n\nconst ffmpeg = require('fluent-ffmpeg');\n\nconst bcrypt = require('bcrypt');\n\nconst youKnow = 'iLovePlayMinecraftForEver';\nconst pages = path.join(__dirname, '/../public/');\nconst baseHash = 10;\n\nconst ModelUser = require('../usariname.js');\n\nffmpeg.setFfmpegPath(ffmpegPath);\n\nfunction verificacion(cookie) {\n  const jsoncookie = cookieNPM.parse(cookie);\n\n  if (!jsoncookie.userName || jsoncookie.userName === 'undefined' || jsoncookie.userName.length === 0) {\n    return {\n      metodo: false\n    };\n  }\n\n  const token = jsoncookie.userName;\n  const decodedToken = jwt.verify(token, youKnow);\n\n  if (!decodedToken.id) {\n    return {\n      metodo: false\n    };\n  } else {\n    return {\n      metodo: true,\n      decodedToken\n    };\n  }\n}\n\nfunction compararID(userID, cookieID) {\n  if (`${userID}` !== `${cookieID}`) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nRouter.get('/', (req, res) => {\n  const cookie = req.headers.cookie;\n\n  if (!cookie) {\n    res.render(path.join(pages, 'html/pagina_principal/index.html'));\n    return;\n  }\n\n  const objetoVerificacion = verificacion(cookie);\n\n  if (!objetoVerificacion.metodo) {\n    res.render(path.join(pages, 'html/pagina_principal/index.html'));\n    return;\n  }\n\n  res.render(path.join(pages, 'html/cuentas/sujeridos.ejs'), {\n    name: objetoVerificacion.decodedToken.usuariname,\n    icon: objetoVerificacion.decodedToken.icon\n  });\n});\nRouter.get('/register', (req, res) => res.render(path.join(pages, 'html/register/registro.html')));\nRouter.get('/:id', async (req, res) => {\n  const cookie = req.headers.cookie;\n\n  if (!cookie) {\n    res.status(401).render(pages + 'html/servis/401NoAutorizacion.html');\n    return;\n  }\n\n  const nombreUrl = req.params.id.replaceAll('%20', ' ');\n  const user = await ModelUser.findOne({\n    usuari: nombreUrl\n  });\n\n  if (!user) {\n    res.render(pages + 'html/servis/error.html');\n  } else {\n    const objetoVerificacion = verificacion(cookie);\n\n    if (!objetoVerificacion.metodo) {\n      res.status(401).render('html/servis/401NoAutorizacion.html');\n      return;\n    }\n\n    const decodedToken = objetoVerificacion.decodedToken;\n    const arrayBackground = user.background.split('.');\n    let extencion = arrayBackground[arrayBackground.length - 1];\n    extencion === 'mp4' || extencion === 'avi' ? extencion = `<video id=\"Mains.js-la_entidad_de_la_imagen_para_poder_comparar_su_tamaño-background\" class=\"background-content-responsive-video\" src=\"${user.background}\" controls></video>` : extencion = `<img id=\"Mains.js-la_entidad_de_la_imagen_para_poder_comparar_su_tamaño-background\" class=\"background-content-responsive-imagen\" src=\"${user.background}\" alt=\"\">`;\n    const difbackground = `<img class=\"imageDifumida\" src=\"${user.backgroundDifumidado}\" alt=\"\">`;\n    const userToken = await ModelUser.findOne({\n      _id: decodedToken.id\n    });\n    let amigo = false;\n    userToken.amigos.forEach(el => {\n      if (el === `${user._id}`) {\n        amigo = true;\n      }\n    });\n\n    if (`${user._id}` === `${decodedToken.id}`) {\n      res.render(pages + 'html/cuentas/cuentas.ejs', {\n        extencion: extencion,\n        user: userToken.usuari,\n        name: user.usuari,\n        backgroundDifuminado: difbackground,\n        icon: user.icon,\n        perfil: userToken.icon\n      });\n    } else {\n      res.render(pages + 'html/cuentas/anotherCuenta.ejs', {\n        extencion: extencion,\n        user: user.usuari,\n        name: userToken.usuari,\n        backgroundDifuminado: difbackground,\n        icon: userToken.icon,\n        perfil: user.icon,\n        amigo\n      });\n    }\n  }\n});\nRouter.post('/', async (req, res) => {\n  const op = req.body;\n\n  if (!op.uss || !op.contra) {\n    res.status(400).json({\n      mensaje: 'porque modificas mi codigo'\n    });\n    return;\n  }\n\n  const primer = new ModelUser({\n    usuari: op.uss,\n    password: op.contra\n  });\n  const user = await ModelUser.findOne({\n    usuari: primer.usuari\n  });\n\n  if (user) {\n    if (await bcrypt.compare(primer.password, user.password)) {\n      const token = jwt.sign({\n        id: user._id,\n        usuariname: user.usuari,\n        icon: user.icon\n      }, youKnow);\n      res.json({\n        metodo: true,\n        token: token\n      });\n      return;\n    }\n  }\n\n  res.status(203).json({\n    metodo: false,\n    mensaje: 'su contraseña o usuario esta mal'\n  });\n});\nRouter.post('/ultimaBusqueda', async (req, res) => {\n  const cookie = req.headers.cookie;\n\n  if (!cookie) {\n    res.status(401).render(pages + '/html/401NoAutorizacion.html');\n    return;\n  }\n\n  const objetoVerificacion = verificacion(cookie);\n\n  if (!objetoVerificacion.metodo) {\n    res.status(404).send('no se ah encontrado el usuario');\n    return;\n  }\n\n  const user = await ModelUser.findOne({\n    _id: objetoVerificacion.decodedToken.id\n  });\n  res.send(JSON.stringify(user.ultimasBusquedas));\n  res.end();\n});\nRouter.post('/register', async (req, res) => {\n  const op = req.body;\n\n  if (!op.uss || !op.contra) {\n    res.status(400).send('que haces cambiando mi codigo?');\n    return;\n  }\n\n  const user = await ModelUser.findOne({\n    usuari: op.uss\n  });\n\n  if (user) {\n    res.send({\n      metodo: false,\n      mensage: 'Este usuario ya existe'\n    });\n  }\n\n  const salt = bcrypt.genSaltSync(baseHash);\n  const passHash = bcrypt.hashSync(op.contra, salt);\n  const primer = new ModelUser({\n    usuari: op.uss,\n    password: passHash\n  });\n  const userNew = await primer.save();\n  const token = await jwt.sign({\n    id: userNew._id,\n    usuariname: userNew.usuari,\n    icon: userNew.icon\n  }, youKnow);\n  res.send({\n    metodo: true,\n    mensage: 'se ha guardado su usuario',\n    nombre: userNew.usuari,\n    token: token\n  });\n});\nRouter.post('/cuentas/:id', async (req, res) => {\n  const op = req.body;\n  const user = await ModelUser.findOne({\n    usuari: req.params.id\n  });\n\n  if (!user || req.params.id === '') {\n    return res.status(404).send(pages + '/html/error.html');\n  }\n\n  const arrayPost = user.post.slice(op.cont, op.cont + 3);\n\n  if (arrayPost == null) {\n    res.send(JSON.stringify({\n      post: null\n    }));\n    return;\n  }\n\n  const primer = {\n    content: arrayPost\n  };\n  res.send(JSON.stringify(primer));\n  res.end();\n});\nRouter.post('/imagenes/:id', async (req, res) => {\n  const cookie = req.headers.cookie;\n\n  if (!cookie) {\n    res.status(401).render(pages + '/html/401NoAutorizacion.html');\n    return;\n  }\n\n  const objetoVerificacion = verificacion(cookie);\n\n  if (!objetoVerificacion.metodo) {\n    res.status(404).send('no se ah encontrado el usuario');\n    return;\n  }\n\n  if (!req.files || Object.keys(req.files).length === 0 || !req.files.image) {\n    res.status(400).send('No files were uploaded.' + req.file);\n    return;\n  }\n\n  const imagen = req.files.image;\n  const user = await ModelUser.findOne({\n    usuari: req.params.id\n  });\n\n  if (!user) {\n    res.status(404).send('no se ah encontrado el usuario');\n    return;\n  }\n\n  if (compararID(user._id, objetoVerificacion.decodedToken.id)) {\n    res.status(401).json({\n      mesage: 'usted no tiene permitido cambiar ni agregar nada a esta cuenta'\n    });\n    return;\n  }\n\n  const desc = Date() + '█ ' + req.body.description;\n  const nombreimagen = uuidv4() + imagen.name;\n  const postImg = 'temp/' + nombreimagen;\n  imagen.name = nombreimagen;\n  imagen.mv(path.join(pages, postImg), err => {\n    if (err) {\n      return res.status(402);\n    }\n  });\n  await ModelUser.updateOne({\n    usuari: user.usuari\n  }, {\n    $push: {\n      post: {\n        $each: [{\n          postImg,\n          desc\n        }],\n        $position: 0\n      }\n    }\n  });\n  res.status(200).send('all great');\n});\nRouter.post('/perfilIcon/:id', async (req, res) => {\n  if (!req.files || Object.keys(req.files).length === 0 || !req.files.image) {\n    res.status(400).json({\n      mensage: 'No files were uploaded.'\n    });\n    return;\n  }\n\n  const cookie = req.headers.cookie;\n\n  if (!cookie) {\n    res.status(401).render(pages + 'html/servis/401NoAutorizacion.html');\n    return;\n  }\n\n  const objetoVerificacion = verificacion(cookie);\n\n  if (!objetoVerificacion.metodo) {\n    res.status(404).send('no se ah encontrado el usuario');\n    return;\n  }\n\n  const user = await ModelUser.findOne({\n    usuari: req.params.id\n  });\n\n  if (compararID(user._id, objetoVerificacion.decodedToken.id)) {\n    res.status(401).json({\n      mesage: 'usted no tiene permitido cambiar ni agregar nada a esta cuenta'\n    });\n    return;\n  }\n\n  const imagen = req.files.image;\n  let nombreimagen = uuidv4() + imagen.name;\n  nombreimagen = nombreimagen.replace('\"', '');\n  const postImg = 'iconos/' + nombreimagen;\n  imagen.name = nombreimagen;\n  imagen.mv(path.join(pages, postImg), err => {\n    if (err) {\n      return res.status(402);\n    }\n  });\n  await ModelUser.updateOne({\n    usuari: user.usuari\n  }, {\n    icon: '/' + postImg\n  });\n  res.status(200).send('all great');\n});\nRouter.post('/background/:id', async (req, res) => {\n  const cookie = req.headers.cookie;\n\n  if (!cookie) {\n    res.status(401).render(pages + 'html/servis/401NoAutorizacion.html');\n    return;\n  }\n\n  const objetoVerificacion = verificacion(cookie);\n\n  if (!objetoVerificacion.metodo) {\n    res.status(404).send('no se ah encontrado el usuario');\n    return;\n  }\n\n  if (!req.files || Object.keys(req.files).length === 0 || !req.files.image) {\n    res.status(400).json({\n      mensage: 'No files were uploaded.'\n    });\n    return;\n  }\n\n  const user = await ModelUser.findOne({\n    usuari: req.params.id\n  });\n\n  if (!user) {\n    res.status(404).send('no se ah encontrado el usuario');\n    return;\n  }\n\n  if (compararID(user._id, objetoVerificacion.decodedToken.id)) {\n    res.status(401).json({\n      mesage: 'usted no tiene permitido cambiar ni agregar nada a esta cuenta'\n    });\n    return;\n  }\n\n  const imagen = req.files.image;\n  let nombreimagen = uuidv4() + imagen.name;\n  nombreimagen = nombreimagen.replace('\"', '');\n  const postImg = 'backgrounds/' + nombreimagen;\n  const arrayBackground = nombreimagen.split('.');\n  let nombreSinExtencion = '';\n\n  if (arrayBackground.length.length > 2) {\n    for (let index = 0; index < arrayBackground.length - 2; index++) {\n      nombreSinExtencion += arrayBackground.length[index];\n    }\n  } else {\n    nombreSinExtencion = arrayBackground[0];\n  }\n\n  const extencion = arrayBackground[arrayBackground.length - 1];\n  imagen.name = nombreimagen;\n  imagen.mv(path.join(pages, postImg), err => {\n    if (err) {\n      return res.status(402);\n    }\n  });\n  const difuminado = `backgroundDifuminado/${nombreSinExtencion}.jpg`;\n\n  if (extencion === 'mp4' || extencion === 'avi') {\n    ffmpeg({\n      source: path.join(pages, postImg)\n    }).takeScreenshots({\n      filename: `${nombreSinExtencion}.jpg`,\n      timemarks: [0]\n    }, pages + '/backgroundDifuminado');\n    await ModelUser.updateOne({\n      usuari: user.usuari\n    }, {\n      background: '/' + postImg\n    });\n    await ModelUser.updateOne({\n      usuari: user.usuari\n    }, {\n      backgroundDifumidado: '/' + difuminado\n    });\n  } else {\n    await ModelUser.updateOne({\n      usuari: user.usuari\n    }, {\n      background: '/' + postImg\n    });\n    await ModelUser.updateOne({\n      usuari: user.usuari\n    }, {\n      backgroundDifumidado: '/' + postImg\n    });\n  }\n\n  res.status(200).send('all great');\n});\nRouter.post('/buscar', async (req, res) => {\n  const op = req.body;\n  const cookie = req.headers.cookie;\n\n  if (!cookie) {\n    res.status(401).render(pages + 'html/servis/401NoAutorizacion.html');\n    return;\n  }\n\n  const objetoVerificacion = verificacion(cookie);\n\n  if (!objetoVerificacion.metodo) {\n    res.status(404).send('no se ah encontrado el usuario');\n    return;\n  }\n\n  if (!op.usuarios) {\n    res.status(404).send('no se ah encontrado el usuario');\n    return;\n  }\n\n  const userPerfil = await ModelUser.findOne({\n    usuari: op.usuarios\n  });\n\n  if (!userPerfil) {\n    res.status(404).send('no se ah encontrado el usuario');\n    return;\n  }\n\n  const user = await ModelUser.findOne({\n    _id: objetoVerificacion.decodedToken.id\n  });\n\n  if (user.usuari === op.usuarios) {\n    res.json({\n      pagina: '/' + user.usuari\n    });\n    return;\n  }\n\n  const maxUltimosBuscados = 5;\n  let arrayConservador = [];\n  user.ultimasBusquedas.forEach((elemet, indice) => {\n    if (elemet !== op.usuarios) {\n      if (indice < maxUltimosBuscados) {\n        arrayConservador = [...arrayConservador, elemet];\n      }\n    }\n  });\n  await ModelUser.updateMany({\n    _id: objetoVerificacion.decodedToken.id\n  }, {\n    ultimasBusquedas: [op.usuarios, ...arrayConservador]\n  });\n  res.json({\n    pagina: '/' + userPerfil.usuari\n  });\n});\nRouter.post('/miSitio', async (req, res) => {\n  const cookie = req.headers.cookie;\n\n  if (!cookie) {\n    res.status(401).render(pages + 'html/servis/401NoAutorizacion.html');\n    return;\n  }\n\n  const objetoVerificacion = verificacion(cookie);\n\n  if (!objetoVerificacion.metodo) {\n    res.status(404).send('no se ah encontrado el usuario');\n    return;\n  }\n\n  const user = await ModelUser.findOne({\n    _id: objetoVerificacion.decodedToken.id\n  });\n\n  if (!user) {\n    res.status(404).send('no se ah encontrado el usuario');\n    return;\n  }\n\n  res.json({\n    pagina: '/' + user.usuari\n  });\n});\nRouter.post('/deleteimagen/:id', async (req, res) => {\n  const op = req.body;\n  const cookie = req.headers.cookie;\n\n  if (!cookie) {\n    res.status(401).render(pages + 'html/servis/401NoAutorizacion.html');\n    return;\n  }\n\n  const objetoVerificacion = verificacion(cookie);\n\n  if (!objetoVerificacion.metodo) {\n    res.status(401).send('no se ah encontrado el usuario');\n    return;\n  }\n\n  const user = await ModelUser.findOne({\n    usuari: req.params.id\n  });\n\n  if (compararID(user._id, objetoVerificacion.decodedToken.id)) {\n    res.status(401).json({\n      mesage: 'usted no tiene permitido cambiar ni agregar nada a esta cuenta'\n    });\n    return;\n  }\n\n  fs.unlinkSync(path.join(pages, op.parametros));\n  await ModelUser.updateMany({\n    usuari: user.usuari\n  }, {\n    $pull: {\n      post: {\n        postImg: op.parametros\n      }\n    }\n  });\n  res.status(200).send('all great');\n});\nRouter.post('/recomendacion', async (req, res) => {\n  const op = req.body;\n  const users = await ModelUser.find({\n    usuari: {\n      $regex: `${op.usuarios}`\n    }\n  }, {\n    usuari: 1,\n    _id: 0\n  }).limit(4);\n  const arrayUsers = [];\n  users.forEach(element => {\n    arrayUsers.push(element.usuari);\n  });\n  res.status(200).json({\n    nombres: arrayUsers\n  });\n});\nRouter.post('/UltimosPost', async (req, res) => {\n  const op = req.body;\n  const cookie = req.headers.cookie;\n\n  if (!cookie) {\n    res.status(401).render(pages + 'html/servis/401NoAutorizacion.html');\n    return;\n  }\n\n  const objetoVerificacion = verificacion(cookie);\n\n  if (!objetoVerificacion.metodo) {\n    res.status(404).send('no se ah encontrado el usuario');\n    return;\n  }\n\n  const user = await ModelUser.findOne({\n    _id: objetoVerificacion.decodedToken.id\n  });\n\n  if (!user) {\n    res.status(404).send('no se ah encontrado el usuario');\n    return;\n  }\n\n  if (!op.amigosVisitados) {\n    res.status(404).send('deja de meterte con mi codigo');\n    return;\n  }\n\n  let numeroPost = 15;\n  let postMandar = [];\n  let arrayAmigos = op.amigosVisitados;\n  let nuevoAmigosVisitados = [];\n\n  if (user.amigos.length === 0) {\n    res.status(200).json({\n      amigos: []\n    });\n    return;\n  }\n\n  for (let i = 0; i <= user.ultimasBusquedas.length - 1 && numeroPost > 0; i++) {\n    const userAmigo = await ModelUser.findOne({\n      usuari: user.ultimasBusquedas[i]\n    });\n    let existeAmigo = false;\n    arrayAmigos.forEach(el => {\n      if (el.nombre === userAmigo.usuari) {\n        existeAmigo = true;\n      }\n    });\n\n    if (userAmigo) {\n      if (!existeAmigo) {\n        nuevoAmigosVisitados = [...nuevoAmigosVisitados, userAmigo.usuari];\n        arrayAmigos = [...arrayAmigos, {\n          nombre: userAmigo.usuari,\n          contador: 0\n        }];\n      }\n\n      arrayAmigos.forEach((el, index) => {\n        if (el.nombre === userAmigo.usuari) {\n          if (userAmigo.post[el.contador]) {\n            postMandar = [...postMandar, {\n              nombre: userAmigo.usuari,\n              post: userAmigo.post[el.contador],\n              icon: userAmigo.icon\n            }];\n            arrayAmigos[index].contador = arrayAmigos[index].contador + 1;\n          }\n        }\n      });\n    }\n\n    numeroPost--;\n  }\n\n  for (let i = numeroPost; i > 0; i--) {\n    const random = Math.round(Math.random() * (user.amigos.length - 1));\n    const userAmigo = await ModelUser.findOne({\n      _id: user.amigos[random]\n    });\n    let existeAmigo = false;\n    arrayAmigos.forEach(el => {\n      if (el.nombre === userAmigo.usuari) {\n        existeAmigo = true;\n      }\n    });\n\n    if (userAmigo) {\n      if (!existeAmigo) {\n        nuevoAmigosVisitados = [...nuevoAmigosVisitados, userAmigo.usuari];\n        arrayAmigos = [...arrayAmigos, {\n          nombre: userAmigo.usuari,\n          contador: 0\n        }];\n      }\n\n      arrayAmigos.forEach((el, index) => {\n        if (el.nombre === userAmigo.usuari) {\n          if (userAmigo.post[el.contador]) {\n            postMandar = [...postMandar, {\n              nombre: userAmigo.usuari,\n              post: userAmigo.post[el.contador],\n              icon: userAmigo.icon\n            }];\n            arrayAmigos[index].contador = arrayAmigos[index].contador + 1;\n          }\n        }\n      });\n    }\n  }\n\n  res.status(200).json({\n    amigos: postMandar,\n    nuevoAmigosVisitados,\n    arrayAmigos\n  });\n});\nRouter.post('/:id', async (req, res) => {\n  const cookie = req.headers.cookie;\n\n  if (!cookie) {\n    res.render(path.join(pages, 'html/pagina_principal/index.html'));\n    return;\n  }\n\n  const objetoVerificacion = verificacion(cookie);\n\n  if (!objetoVerificacion.metodo) {\n    res.render(path.join(pages, 'html/pagina_principal/index.html'));\n    return;\n  }\n\n  const nombreAmigo = req.params.id.replaceAll('%20', ' ');\n  const user = await ModelUser.findOne({\n    usuari: objetoVerificacion.decodedToken.usuariname\n  });\n  const userAmigo = await ModelUser.findOne({\n    usuari: nombreAmigo\n  });\n\n  if (!userAmigo) {\n    res.status(400).send('que shinga me mandaste?');\n    return;\n  }\n\n  let amigo = false;\n  user.amigos.forEach(el => {\n    if (el === `${userAmigo._id}`) {\n      amigo = true;\n    }\n  });\n\n  if (amigo) {\n    await ModelUser.updateMany({\n      usuari: user.usuari\n    }, {\n      $pullAll: {\n        amigos: [userAmigo._id]\n      }\n    });\n  } else {\n    await ModelUser.updateOne({\n      usuari: user.usuari\n    }, {\n      $push: {\n        amigos: {\n          $each: [userAmigo._id],\n          $position: 0\n        }\n      }\n    });\n  }\n\n  res.json(objetoVerificacion);\n});\nmodule.exports = Router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInBhdGgiLCJyZXF1aXJlIiwiUm91dGVyIiwidjQiLCJ1dWlkdjQiLCJmcyIsImp3dCIsImNvb2tpZU5QTSIsImZmbXBlZ1BhdGgiLCJmZm1wZWciLCJiY3J5cHQiLCJ5b3VLbm93IiwicGFnZXMiLCJqb2luIiwiX19kaXJuYW1lIiwiYmFzZUhhc2giLCJNb2RlbFVzZXIiLCJzZXRGZm1wZWdQYXRoIiwidmVyaWZpY2FjaW9uIiwiY29va2llIiwianNvbmNvb2tpZSIsInBhcnNlIiwidXNlck5hbWUiLCJsZW5ndGgiLCJtZXRvZG8iLCJ0b2tlbiIsImRlY29kZWRUb2tlbiIsInZlcmlmeSIsImlkIiwiY29tcGFyYXJJRCIsInVzZXJJRCIsImNvb2tpZUlEIiwiZ2V0IiwicmVxIiwicmVzIiwiaGVhZGVycyIsInJlbmRlciIsIm9iamV0b1ZlcmlmaWNhY2lvbiIsIm5hbWUiLCJ1c3VhcmluYW1lIiwiaWNvbiIsInN0YXR1cyIsIm5vbWJyZVVybCIsInBhcmFtcyIsInJlcGxhY2VBbGwiLCJ1c2VyIiwiZmluZE9uZSIsInVzdWFyaSIsImFycmF5QmFja2dyb3VuZCIsImJhY2tncm91bmQiLCJzcGxpdCIsImV4dGVuY2lvbiIsImRpZmJhY2tncm91bmQiLCJiYWNrZ3JvdW5kRGlmdW1pZGFkbyIsInVzZXJUb2tlbiIsIl9pZCIsImFtaWdvIiwiYW1pZ29zIiwiZm9yRWFjaCIsImVsIiwiYmFja2dyb3VuZERpZnVtaW5hZG8iLCJwZXJmaWwiLCJwb3N0Iiwib3AiLCJib2R5IiwidXNzIiwiY29udHJhIiwianNvbiIsIm1lbnNhamUiLCJwcmltZXIiLCJwYXNzd29yZCIsImNvbXBhcmUiLCJzaWduIiwic2VuZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJ1bHRpbWFzQnVzcXVlZGFzIiwiZW5kIiwibWVuc2FnZSIsInNhbHQiLCJnZW5TYWx0U3luYyIsInBhc3NIYXNoIiwiaGFzaFN5bmMiLCJ1c2VyTmV3Iiwic2F2ZSIsIm5vbWJyZSIsImFycmF5UG9zdCIsInNsaWNlIiwiY29udCIsImNvbnRlbnQiLCJmaWxlcyIsIk9iamVjdCIsImtleXMiLCJpbWFnZSIsImZpbGUiLCJpbWFnZW4iLCJtZXNhZ2UiLCJkZXNjIiwiRGF0ZSIsImRlc2NyaXB0aW9uIiwibm9tYnJlaW1hZ2VuIiwicG9zdEltZyIsIm12IiwiZXJyIiwidXBkYXRlT25lIiwiJHB1c2giLCIkZWFjaCIsIiRwb3NpdGlvbiIsInJlcGxhY2UiLCJub21icmVTaW5FeHRlbmNpb24iLCJpbmRleCIsImRpZnVtaW5hZG8iLCJzb3VyY2UiLCJ0YWtlU2NyZWVuc2hvdHMiLCJmaWxlbmFtZSIsInRpbWVtYXJrcyIsInVzdWFyaW9zIiwidXNlclBlcmZpbCIsInBhZ2luYSIsIm1heFVsdGltb3NCdXNjYWRvcyIsImFycmF5Q29uc2VydmFkb3IiLCJlbGVtZXQiLCJpbmRpY2UiLCJ1cGRhdGVNYW55IiwidW5saW5rU3luYyIsInBhcmFtZXRyb3MiLCIkcHVsbCIsInVzZXJzIiwiZmluZCIsIiRyZWdleCIsImxpbWl0IiwiYXJyYXlVc2VycyIsImVsZW1lbnQiLCJwdXNoIiwibm9tYnJlcyIsImFtaWdvc1Zpc2l0YWRvcyIsIm51bWVyb1Bvc3QiLCJwb3N0TWFuZGFyIiwiYXJyYXlBbWlnb3MiLCJudWV2b0FtaWdvc1Zpc2l0YWRvcyIsImkiLCJ1c2VyQW1pZ28iLCJleGlzdGVBbWlnbyIsImNvbnRhZG9yIiwicmFuZG9tIiwiTWF0aCIsInJvdW5kIiwibm9tYnJlQW1pZ28iLCIkcHVsbEFsbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsTUFBRCxDQUFwQjs7QUFDQSxNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxTQUFELENBQVAsQ0FBbUJDLE1BQW5CLEVBQWY7O0FBQ0EsTUFBTTtBQUFFQyxFQUFBQSxFQUFFLEVBQUVDO0FBQU4sSUFBaUJILE9BQU8sQ0FBQyxNQUFELENBQTlCOztBQUNBLE1BQU1J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QztBQUFWO0FBQVQsS0FBN0MsQ0FBTjtBQUNEOztBQUNEekUsRUFBQUEsR0FBRyxDQUFDaUMsSUFBSixDQUFTOUIsa0JBQVQ7QUFDRCxDQTlCRDtBQStCQWdILE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnBKLE1BQWpCIiwic291cmNlUm9vdCI6IkQ6XFxjb3BpYVxcc2VydmVyXFxSb3V0ZXJcXCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJylcclxuY29uc3QgUm91dGVyID0gcmVxdWlyZSgnZXhwcmVzcycpLlJvdXRlcigpXHJcbmNvbnN0IHsgdjQ6IHV1aWR2NCB9ID0gcmVxdWlyZSgndXVpZCcpXHJcbmNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKVxyXG5jb25zdCBqd3QgPSByZXF1aXJlKCdqc29ud2VidG9rZW4nKVxyXG5jb25zdCBjb29raWVOUE0gPSByZXF1aXJlKCdjb29raWUnKVxyXG5jb25zdCBmZm1wZWdQYXRoID0gcmVxdWlyZSgnQGZmbXBlZy1pbnN0YWxsZXIvZmZtcGVnJykucGF0aFxyXG5jb25zdCBmZm1wZWcgPSByZXF1aXJlKCdmbHVlbnQtZmZtcGVnJylcclxuY29uc3QgYmNyeXB0ID0gcmVxdWlyZSgnYmNyeXB0JylcclxuY29uc3QgeW91S25vdyA9ICdpTG92ZVBsYXlNaW5lY3JhZnRGb3JFdmVyJ1xyXG5jb25zdCBwYWdlcyA9IHBhdGguam9pbihfX2Rpcm5hbWUsICcvLi4vcHVibGljLycpXHJcbmNvbnN0IGJhc2VIYXNoID0gMTBcclxuY29uc3QgTW9kZWxVc2VyID0gcmVxdWlyZSgnLi4vdXNhcmluYW1lLmpzJylcclxuZmZtcGVnLnNldEZmbXBlZ1BhdGgoZmZtcGVnUGF0aClcclxuXHJcbmZ1bmN0aW9uIHZlcmlmaWNhY2lvbiAoY29va2llKSB7XHJcbiAgY29uc3QganNvbmNvb2tpZSA9IGNvb2tpZU5QTS5wYXJzZShjb29raWUpXHJcbiAgaWYgKCFqc29uY29va2llLnVzZXJOYW1lIHx8IGpzb25jb29raWUudXNlck5hbWUgPT09ICd1bmRlZmluZWQnIHx8IGpzb25jb29raWUudXNlck5hbWUubGVuZ3RoID09PSAwKSB7XHJcbiAgICByZXR1cm4geyBtZXRvZG86IGZhbHNlIH1cclxuICB9XHJcbiAgY29uc3QgdG9rZW4gPSBqc29uY29va2llLnVzZXJOYW1lXHJcbiAgY29uc3QgZGVjb2RlZFRva2VuID0gand0LnZlcmlmeSh0b2tlbiwgeW91S25vdylcclxuICBpZiAoIWRlY29kZWRUb2tlbi5pZCkge1xyXG4gICAgcmV0dXJuIHsgbWV0b2RvOiBmYWxzZSB9XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiB7IG1ldG9kbzogdHJ1ZSwgZGVjb2RlZFRva2VuIH1cclxuICB9XHJcbn1cclxuZnVuY3Rpb24gY29tcGFyYXJJRCAodXNlcklELCBjb29raWVJRCkge1xyXG4gIGlmIChgJHt1c2VySUR9YCAhPT0gYCR7Y29va2llSUR9YCkge1xyXG4gICAgcmV0dXJuIHRydWVcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIGZhbHNlXHJcbiAgfVxyXG59XHJcblJvdXRlci5nZXQoJy8nLCAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBjb29raWUgPSByZXEuaGVhZGVycy5jb29raWVcclxuICBpZiAoIWNvb2tpZSkge1xyXG4gICAgcmVzLnJlbmRlcihwYXRoLmpvaW4ocGFnZXMsICdodG1sL3BhZ2luYV9wcmluY2lwYWwvaW5kZXguaHRtbCcpKVxyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG4gIGNvbnN0IG9iamV0b1ZlcmlmaWNhY2lvbiA9IHZlcmlmaWNhY2lvbihjb29raWUpXHJcbiAgaWYgKCFvYmpldG9WZXJpZmljYWNpb24ubWV0b2RvKSB7XHJcbiAgICByZXMucmVuZGVyKHBhdGguam9pbihwYWdlcywgJ2h0bWwvcGFnaW5hX3ByaW5jaXBhbC9pbmRleC5odG1sJykpXHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgcmVzLnJlbmRlcihwYXRoLmpvaW4ocGFnZXMsICdodG1sL2N1ZW50YXMvc3VqZXJpZG9zLmVqcycpLCB7XHJcbiAgICBuYW1lOiBvYmpldG9WZXJpZmljYWNpb24uZGVjb2RlZFRva2VuLnVzdWFyaW5hbWUsXHJcbiAgICBpY29uOiBvYmpldG9WZXJpZmljYWNpb24uZGVjb2RlZFRva2VuLmljb25cclxuICB9KVxyXG59KVxyXG5Sb3V0ZXIuZ2V0KCcvcmVnaXN0ZXInLCAocmVxLCByZXMpID0+IHJlcy5yZW5kZXIocGF0aC5qb2luKHBhZ2VzLCAnaHRtbC9yZWdpc3Rlci9yZWdpc3Ryby5odG1sJykpKVxyXG5Sb3V0ZXIuZ2V0KCcvOmlkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgY29va2llID0gcmVxLmhlYWRlcnMuY29va2llXHJcbiAgaWYgKCFjb29raWUpIHtcclxuICAgIHJlcy5zdGF0dXMoNDAxKS5yZW5kZXIocGFnZXMgKyAnaHRtbC9zZXJ2aXMvNDAxTm9BdXRvcml6YWNpb24uaHRtbCcpXHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgY29uc3Qgbm9tYnJlVXJsID0gcmVxLnBhcmFtcy5pZC5yZXBsYWNlQWxsKCclMjAnLCAnICcpXHJcbiAgY29uc3QgdXNlciA9IGF3YWl0IE1vZGVsVXNlci5maW5kT25lKHsgdXN1YXJpOiBub21icmVVcmwgfSlcclxuXHJcbiAgaWYgKCF1c2VyKSB7XHJcbiAgICByZXMucmVuZGVyKHBhZ2VzICsgJ2h0bWwvc2VydmlzL2Vycm9yLmh0bWwnKVxyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zdCBvYmpldG9WZXJpZmljYWNpb24gPSB2ZXJpZmljYWNpb24oY29va2llKVxyXG4gICAgaWYgKCFvYmpldG9WZXJpZmljYWNpb24ubWV0b2RvKSB7XHJcbiAgICAgIHJlcy5zdGF0dXMoNDAxKS5yZW5kZXIoJ2h0bWwvc2VydmlzLzQwMU5vQXV0b3JpemFjaW9uLmh0bWwnKVxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIGNvbnN0IGRlY29kZWRUb2tlbiA9IG9iamV0b1ZlcmlmaWNhY2lvbi5kZWNvZGVkVG9rZW5cclxuICAgIGNvbnN0IGFycmF5QmFja2dyb3VuZCA9IHVzZXIuYmFja2dyb3VuZC5zcGxpdCgnLicpXHJcbiAgICBsZXQgZXh0ZW5jaW9uID0gYXJyYXlCYWNrZ3JvdW5kW2FycmF5QmFja2dyb3VuZC5sZW5ndGggLSAxXVxyXG5cclxuICAgIGV4dGVuY2lvbiA9PT0gJ21wNCcgfHwgZXh0ZW5jaW9uID09PSAnYXZpJ1xyXG4gICAgICA/IGV4dGVuY2lvbiA9IGA8dmlkZW8gaWQ9XCJNYWlucy5qcy1sYV9lbnRpZGFkX2RlX2xhX2ltYWdlbl9wYXJhX3BvZGVyX2NvbXBhcmFyX3N1X3RhbWHDsW8tYmFja2dyb3VuZFwiIGNsYXNzPVwiYmFja2dyb3VuZC1jb250ZW50LXJlc3BvbnNpdmUtdmlkZW9cIiBzcmM9XCIke3VzZXIuYmFja2dyb3VuZH1cIiBjb250cm9scz48L3ZpZGVvPmBcclxuICAgICAgOiBleHRlbmNpb24gPSBgPGltZyBpZD1cIk1haW5zLmpzLWxhX2VudGlkYWRfZGVfbGFfaW1hZ2VuX3BhcmFfcG9kZXJfY29tcGFyYXJfc3VfdGFtYcOxby1iYWNrZ3JvdW5kXCIgY2xhc3M9XCJiYWNrZ3JvdW5kLWNvbnRlbnQtcmVzcG9uc2l2ZS1pbWFnZW5cIiBzcmM9XCIke3VzZXIuYmFja2dyb3VuZH1cIiBhbHQ9XCJcIj5gXHJcblxyXG4gICAgY29uc3QgZGlmYmFja2dyb3VuZCA9IGA8aW1nIGNsYXNzPVwiaW1hZ2VEaWZ1bWlkYVwiIHNyYz1cIiR7dXNlci5iYWNrZ3JvdW5kRGlmdW1pZGFkb31cIiBhbHQ9XCJcIj5gXHJcblxyXG4gICAgY29uc3QgdXNlclRva2VuID0gYXdhaXQgTW9kZWxVc2VyLmZpbmRPbmUoeyBfaWQ6IGRlY29kZWRUb2tlbi5pZCB9KVxyXG4gICAgbGV0IGFtaWdvID0gZmFsc2VcclxuICAgIHVzZXJUb2tlbi5hbWlnb3MuZm9yRWFjaChlbCA9PiB7XHJcbiAgICAgIGlmIChlbCA9PT0gYCR7dXNlci5faWR9YCkge1xyXG4gICAgICAgIGFtaWdvID0gdHJ1ZVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgaWYgKGAke3VzZXIuX2lkfWAgPT09IGAke2RlY29kZWRUb2tlbi5pZH1gKSB7XHJcbiAgICAgIHJlcy5yZW5kZXIocGFnZXMgKyAnaHRtbC9jdWVudGFzL2N1ZW50YXMuZWpzJywge1xyXG4gICAgICAgIGV4dGVuY2lvbjogZXh0ZW5jaW9uLFxyXG4gICAgICAgIHVzZXI6IHVzZXJUb2tlbi51c3VhcmksXHJcbiAgICAgICAgbmFtZTogdXNlci51c3VhcmksXHJcbiAgICAgICAgYmFja2dyb3VuZERpZnVtaW5hZG86IGRpZmJhY2tncm91bmQsXHJcbiAgICAgICAgaWNvbjogdXNlci5pY29uLFxyXG4gICAgICAgIHBlcmZpbDogdXNlclRva2VuLmljb25cclxuICAgICAgfSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJlcy5yZW5kZXIocGFnZXMgKyAnaHRtbC9jdWVudGFzL2Fub3RoZXJDdWVudGEuZWpzJywge1xyXG4gICAgICAgIGV4dGVuY2lvbjogZXh0ZW5jaW9uLFxyXG4gICAgICAgIHVzZXI6IHVzZXIudXN1YXJpLFxyXG4gICAgICAgIG5hbWU6IHVzZXJUb2tlbi51c3VhcmksXHJcbiAgICAgICAgYmFja2dyb3VuZERpZnVtaW5hZG86IGRpZmJhY2tncm91bmQsXHJcbiAgICAgICAgaWNvbjogdXNlclRva2VuLmljb24sXHJcbiAgICAgICAgcGVyZmlsOiB1c2VyLmljb24sXHJcbiAgICAgICAgYW1pZ29cclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcbn0pXHJcblJvdXRlci5wb3N0KCcvJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3Qgb3AgPSByZXEuYm9keVxyXG4gIGlmICghb3AudXNzIHx8ICFvcC5jb250cmEpIHtcclxuICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVuc2FqZTogJ3BvcnF1ZSBtb2RpZmljYXMgbWkgY29kaWdvJyB9KVxyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG4gIGNvbnN0IHByaW1lciA9IG5ldyBNb2RlbFVzZXIoe1xyXG4gICAgdXN1YXJpOiBvcC51c3MsXHJcbiAgICBwYXNzd29yZDogb3AuY29udHJhXHJcbiAgfSlcclxuICBjb25zdCB1c2VyID0gYXdhaXQgTW9kZWxVc2VyLmZpbmRPbmUoeyB1c3Vhcmk6IHByaW1lci51c3VhcmkgfSlcclxuICBpZiAodXNlcikge1xyXG4gICAgaWYgKGF3YWl0IGJjcnlwdC5jb21wYXJlKHByaW1lci5wYXNzd29yZCwgdXNlci5wYXNzd29yZCkpIHtcclxuICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7XHJcbiAgICAgICAgaWQ6IHVzZXIuX2lkLFxyXG4gICAgICAgIHVzdWFyaW5hbWU6IHVzZXIudXN1YXJpLFxyXG4gICAgICAgIGljb246IHVzZXIuaWNvblxyXG4gICAgICB9LCB5b3VLbm93KVxyXG4gICAgICByZXMuanNvbih7IG1ldG9kbzogdHJ1ZSwgdG9rZW46IHRva2VuIH0pXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gIH1cclxuICByZXMuc3RhdHVzKDIwMykuanNvbih7IG1ldG9kbzogZmFsc2UsIG1lbnNhamU6ICdzdSBjb250cmFzZcOxYSBvIHVzdWFyaW8gZXN0YSBtYWwnIH0pXHJcbn0pXHJcblJvdXRlci5wb3N0KCcvdWx0aW1hQnVzcXVlZGEnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBjb29raWUgPSByZXEuaGVhZGVycy5jb29raWVcclxuICBpZiAoIWNvb2tpZSkge1xyXG4gICAgcmVzLnN0YXR1cyg0MDEpLnJlbmRlcihwYWdlcyArICcvaHRtbC80MDFOb0F1dG9yaXphY2lvbi5odG1sJylcclxuICAgIHJldHVyblxyXG4gIH1cclxuICBjb25zdCBvYmpldG9WZXJpZmljYWNpb24gPSB2ZXJpZmljYWNpb24oY29va2llKVxyXG4gIGlmICghb2JqZXRvVmVyaWZpY2FjaW9uLm1ldG9kbykge1xyXG4gICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJ25vIHNlIGFoIGVuY29udHJhZG8gZWwgdXN1YXJpbycpXHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBNb2RlbFVzZXIuZmluZE9uZSh7IF9pZDogb2JqZXRvVmVyaWZpY2FjaW9uLmRlY29kZWRUb2tlbi5pZCB9KVxyXG4gIHJlcy5zZW5kKEpTT04uc3RyaW5naWZ5KHVzZXIudWx0aW1hc0J1c3F1ZWRhcykpXHJcbiAgcmVzLmVuZCgpXHJcbn0pXHJcblJvdXRlci5wb3N0KCcvcmVnaXN0ZXInLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBvcCA9IHJlcS5ib2R5XHJcbiAgaWYgKCFvcC51c3MgfHwgIW9wLmNvbnRyYSkge1xyXG4gICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoJ3F1ZSBoYWNlcyBjYW1iaWFuZG8gbWkgY29kaWdvPycpXHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgY29uc3QgdXNlciA9IGF3YWl0IE1vZGVsVXNlci5maW5kT25lKHsgdXN1YXJpOiBvcC51c3MgfSlcclxuICBpZiAodXNlcikge1xyXG4gICAgcmVzLnNlbmQoeyBtZXRvZG86IGZhbHNlLCBtZW5zYWdlOiAnRXN0ZSB1c3VhcmlvIHlhIGV4aXN0ZScgfSlcclxuICB9XHJcbiAgY29uc3Qgc2FsdCA9IGJjcnlwdC5nZW5TYWx0U3luYyhiYXNlSGFzaClcclxuICBjb25zdCBwYXNzSGFzaCA9IGJjcnlwdC5oYXNoU3luYyhvcC5jb250cmEsIHNhbHQpXHJcbiAgY29uc3QgcHJpbWVyID0gbmV3IE1vZGVsVXNlcih7XHJcbiAgICB1c3Vhcmk6IG9wLnVzcyxcclxuICAgIHBhc3N3b3JkOiBwYXNzSGFzaFxyXG4gIH0pXHJcbiAgY29uc3QgdXNlck5ldyA9IGF3YWl0IHByaW1lci5zYXZlKClcclxuICBjb25zdCB0b2tlbiA9IGF3YWl0IGp3dC5zaWduKHsgaWQ6IHVzZXJOZXcuX2lkLCB1c3VhcmluYW1lOiB1c2VyTmV3LnVzdWFyaSwgaWNvbjogdXNlck5ldy5pY29uIH0sIHlvdUtub3cpXHJcbiAgcmVzLnNlbmQoe1xyXG4gICAgbWV0b2RvOiB0cnVlLFxyXG4gICAgbWVuc2FnZTogJ3NlIGhhIGd1YXJkYWRvIHN1IHVzdWFyaW8nLFxyXG4gICAgbm9tYnJlOiB1c2VyTmV3LnVzdWFyaSxcclxuICAgIHRva2VuOiB0b2tlblxyXG4gIH0pXHJcbn0pXHJcblJvdXRlci5wb3N0KCcvY3VlbnRhcy86aWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBvcCA9IHJlcS5ib2R5XHJcbiAgY29uc3QgdXNlciA9IGF3YWl0IE1vZGVsVXNlci5maW5kT25lKHsgdXN1YXJpOiByZXEucGFyYW1zLmlkIH0pXHJcbiAgaWYgKCF1c2VyIHx8IHJlcS5wYXJhbXMuaWQgPT09ICcnKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQocGFnZXMgKyAnL2h0bWwvZXJyb3IuaHRtbCcpXHJcbiAgfVxyXG4gIGNvbnN0IGFycmF5UG9zdCA9IHVzZXIucG9zdC5zbGljZShvcC5jb250LCBvcC5jb250ICsgMylcclxuICBpZiAoYXJyYXlQb3N0ID09IG51bGwpIHtcclxuICAgIHJlcy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgcG9zdDogbnVsbCB9KSlcclxuICAgIHJldHVyblxyXG4gIH1cclxuICBjb25zdCBwcmltZXIgPSB7XHJcbiAgICBjb250ZW50OiBhcnJheVBvc3RcclxuICB9XHJcbiAgcmVzLnNlbmQoSlNPTi5zdHJpbmdpZnkocHJpbWVyKSlcclxuICByZXMuZW5kKClcclxufSlcclxuUm91dGVyLnBvc3QoJy9pbWFnZW5lcy86aWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBjb29raWUgPSByZXEuaGVhZGVycy5jb29raWVcclxuICBpZiAoIWNvb2tpZSkge1xyXG4gICAgcmVzLnN0YXR1cyg0MDEpLnJlbmRlcihwYWdlcyArICcvaHRtbC80MDFOb0F1dG9yaXphY2lvbi5odG1sJylcclxuICAgIHJldHVyblxyXG4gIH1cclxuICBjb25zdCBvYmpldG9WZXJpZmljYWNpb24gPSB2ZXJpZmljYWNpb24oY29va2llKVxyXG4gIGlmICghb2JqZXRvVmVyaWZpY2FjaW9uLm1ldG9kbykge1xyXG4gICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJ25vIHNlIGFoIGVuY29udHJhZG8gZWwgdXN1YXJpbycpXHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgaWYgKCFyZXEuZmlsZXMgfHwgT2JqZWN0LmtleXMocmVxLmZpbGVzKS5sZW5ndGggPT09IDAgfHwgIXJlcS5maWxlcy5pbWFnZSkge1xyXG4gICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoJ05vIGZpbGVzIHdlcmUgdXBsb2FkZWQuJyArIHJlcS5maWxlKVxyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG4gIGNvbnN0IGltYWdlbiA9IHJlcS5maWxlcy5pbWFnZVxyXG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBNb2RlbFVzZXIuZmluZE9uZSh7IHVzdWFyaTogcmVxLnBhcmFtcy5pZCB9KVxyXG4gIGlmICghdXNlcikge1xyXG4gICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJ25vIHNlIGFoIGVuY29udHJhZG8gZWwgdXN1YXJpbycpXHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgaWYgKGNvbXBhcmFySUQodXNlci5faWQsIG9iamV0b1ZlcmlmaWNhY2lvbi5kZWNvZGVkVG9rZW4uaWQpKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc2FnZTogJ3VzdGVkIG5vIHRpZW5lIHBlcm1pdGlkbyBjYW1iaWFyIG5pIGFncmVnYXIgbmFkYSBhIGVzdGEgY3VlbnRhJyB9KVxyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG4gIGNvbnN0IGRlc2MgPSBEYXRlKCkgKyAn4paIICcgKyByZXEuYm9keS5kZXNjcmlwdGlvblxyXG4gIGNvbnN0IG5vbWJyZWltYWdlbiA9IHV1aWR2NCgpICsgaW1hZ2VuLm5hbWVcclxuICBjb25zdCBwb3N0SW1nID0gJ3RlbXAvJyArIG5vbWJyZWltYWdlblxyXG4gIGltYWdlbi5uYW1lID0gbm9tYnJlaW1hZ2VuXHJcbiAgaW1hZ2VuLm12KHBhdGguam9pbihwYWdlcywgcG9zdEltZyksIGVyciA9PiB7XHJcbiAgICBpZiAoZXJyKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMilcclxuICAgIH1cclxuICB9KVxyXG4gIGF3YWl0IE1vZGVsVXNlci51cGRhdGVPbmUoeyB1c3Vhcmk6IHVzZXIudXN1YXJpIH0sIHsgJHB1c2g6IHsgcG9zdDogeyAkZWFjaDogW3sgcG9zdEltZywgZGVzYyB9XSwgJHBvc2l0aW9uOiAwIH0gfSB9KVxyXG4gIHJlcy5zdGF0dXMoMjAwKS5zZW5kKCdhbGwgZ3JlYXQnKVxyXG59KVxyXG5Sb3V0ZXIucG9zdCgnL3BlcmZpbEljb24vOmlkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgaWYgKCFyZXEuZmlsZXMgfHwgT2JqZWN0LmtleXMocmVxLmZpbGVzKS5sZW5ndGggPT09IDAgfHwgIXJlcS5maWxlcy5pbWFnZSkge1xyXG4gICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZW5zYWdlOiAnTm8gZmlsZXMgd2VyZSB1cGxvYWRlZC4nIH0pXHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgY29uc3QgY29va2llID0gcmVxLmhlYWRlcnMuY29va2llXHJcbiAgaWYgKCFjb29raWUpIHtcclxuICAgIHJlcy5zdGF0dXMoNDAxKS5yZW5kZXIocGFnZXMgKyAnaHRtbC9zZXJ2aXMvNDAxTm9BdXRvcml6YWNpb24uaHRtbCcpXHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgY29uc3Qgb2JqZXRvVmVyaWZpY2FjaW9uID0gdmVyaWZpY2FjaW9uKGNvb2tpZSlcclxuICBpZiAoIW9iamV0b1ZlcmlmaWNhY2lvbi5tZXRvZG8pIHtcclxuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCdubyBzZSBhaCBlbmNvbnRyYWRvIGVsIHVzdWFyaW8nKVxyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBNb2RlbFVzZXIuZmluZE9uZSh7IHVzdWFyaTogcmVxLnBhcmFtcy5pZCB9KVxyXG4gIGlmIChjb21wYXJhcklEKHVzZXIuX2lkLCBvYmpldG9WZXJpZmljYWNpb24uZGVjb2RlZFRva2VuLmlkKSkge1xyXG4gICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNhZ2U6ICd1c3RlZCBubyB0aWVuZSBwZXJtaXRpZG8gY2FtYmlhciBuaSBhZ3JlZ2FyIG5hZGEgYSBlc3RhIGN1ZW50YScgfSlcclxuICAgIHJldHVyblxyXG4gIH1cclxuICBjb25zdCBpbWFnZW4gPSByZXEuZmlsZXMuaW1hZ2VcclxuICBsZXQgbm9tYnJlaW1hZ2VuID0gdXVpZHY0KCkgKyBpbWFnZW4ubmFtZVxyXG4gIG5vbWJyZWltYWdlbiA9IG5vbWJyZWltYWdlbi5yZXBsYWNlKCdcIicsICcnKVxyXG4gIGNvbnN0IHBvc3RJbWcgPSAnaWNvbm9zLycgKyBub21icmVpbWFnZW5cclxuICBpbWFnZW4ubmFtZSA9IG5vbWJyZWltYWdlblxyXG4gIGltYWdlbi5tdihwYXRoLmpvaW4ocGFnZXMsIHBvc3RJbWcpLCBlcnIgPT4ge1xyXG4gICAgaWYgKGVycikge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDIpXHJcbiAgICB9XHJcbiAgfSlcclxuICBhd2FpdCBNb2RlbFVzZXIudXBkYXRlT25lKHsgdXN1YXJpOiB1c2VyLnVzdWFyaSB9LCB7IGljb246ICcvJyArIHBvc3RJbWcgfSlcclxuICByZXMuc3RhdHVzKDIwMCkuc2VuZCgnYWxsIGdyZWF0JylcclxufSlcclxuUm91dGVyLnBvc3QoJy9iYWNrZ3JvdW5kLzppZCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IGNvb2tpZSA9IHJlcS5oZWFkZXJzLmNvb2tpZVxyXG4gIGlmICghY29va2llKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMSkucmVuZGVyKHBhZ2VzICsgJ2h0bWwvc2VydmlzLzQwMU5vQXV0b3JpemFjaW9uLmh0bWwnKVxyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG4gIGNvbnN0IG9iamV0b1ZlcmlmaWNhY2lvbiA9IHZlcmlmaWNhY2lvbihjb29raWUpXHJcbiAgaWYgKCFvYmpldG9WZXJpZmljYWNpb24ubWV0b2RvKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnbm8gc2UgYWggZW5jb250cmFkbyBlbCB1c3VhcmlvJylcclxuICAgIHJldHVyblxyXG4gIH1cclxuICBpZiAoIXJlcS5maWxlcyB8fCBPYmplY3Qua2V5cyhyZXEuZmlsZXMpLmxlbmd0aCA9PT0gMCB8fCAhcmVxLmZpbGVzLmltYWdlKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lbnNhZ2U6ICdObyBmaWxlcyB3ZXJlIHVwbG9hZGVkLicgfSlcclxuICAgIHJldHVyblxyXG4gIH1cclxuICBjb25zdCB1c2VyID0gYXdhaXQgTW9kZWxVc2VyLmZpbmRPbmUoeyB1c3Vhcmk6IHJlcS5wYXJhbXMuaWQgfSlcclxuICBpZiAoIXVzZXIpIHtcclxuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCdubyBzZSBhaCBlbmNvbnRyYWRvIGVsIHVzdWFyaW8nKVxyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG4gIGlmIChjb21wYXJhcklEKHVzZXIuX2lkLCBvYmpldG9WZXJpZmljYWNpb24uZGVjb2RlZFRva2VuLmlkKSkge1xyXG4gICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNhZ2U6ICd1c3RlZCBubyB0aWVuZSBwZXJtaXRpZG8gY2FtYmlhciBuaSBhZ3JlZ2FyIG5hZGEgYSBlc3RhIGN1ZW50YScgfSlcclxuICAgIHJldHVyblxyXG4gIH1cclxuICBjb25zdCBpbWFnZW4gPSByZXEuZmlsZXMuaW1hZ2VcclxuICBsZXQgbm9tYnJlaW1hZ2VuID0gdXVpZHY0KCkgKyBpbWFnZW4ubmFtZVxyXG4gIG5vbWJyZWltYWdlbiA9IG5vbWJyZWltYWdlbi5yZXBsYWNlKCdcIicsICcnKVxyXG4gIGNvbnN0IHBvc3RJbWcgPSAnYmFja2dyb3VuZHMvJyArIG5vbWJyZWltYWdlblxyXG4gIGNvbnN0IGFycmF5QmFja2dyb3VuZCA9IG5vbWJyZWltYWdlbi5zcGxpdCgnLicpXHJcbiAgbGV0IG5vbWJyZVNpbkV4dGVuY2lvbiA9ICcnXHJcbiAgaWYgKGFycmF5QmFja2dyb3VuZC5sZW5ndGgubGVuZ3RoID4gMikge1xyXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGFycmF5QmFja2dyb3VuZC5sZW5ndGggLSAyOyBpbmRleCsrKSB7XHJcbiAgICAgIG5vbWJyZVNpbkV4dGVuY2lvbiArPSBhcnJheUJhY2tncm91bmQubGVuZ3RoW2luZGV4XVxyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICBub21icmVTaW5FeHRlbmNpb24gPSBhcnJheUJhY2tncm91bmRbMF1cclxuICB9XHJcbiAgY29uc3QgZXh0ZW5jaW9uID0gYXJyYXlCYWNrZ3JvdW5kW2FycmF5QmFja2dyb3VuZC5sZW5ndGggLSAxXVxyXG4gIGltYWdlbi5uYW1lID0gbm9tYnJlaW1hZ2VuXHJcbiAgaW1hZ2VuLm12KHBhdGguam9pbihwYWdlcywgcG9zdEltZyksIGVyciA9PiB7XHJcbiAgICBpZiAoZXJyKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMilcclxuICAgIH1cclxuICB9KVxyXG4gIGNvbnN0IGRpZnVtaW5hZG8gPSBgYmFja2dyb3VuZERpZnVtaW5hZG8vJHtub21icmVTaW5FeHRlbmNpb259LmpwZ2BcclxuICBpZiAoZXh0ZW5jaW9uID09PSAnbXA0JyB8fCBleHRlbmNpb24gPT09ICdhdmknKSB7XHJcbiAgICBmZm1wZWcoeyBzb3VyY2U6IHBhdGguam9pbihwYWdlcywgcG9zdEltZykgfSlcclxuICAgICAgLnRha2VTY3JlZW5zaG90cyh7IGZpbGVuYW1lOiBgJHtub21icmVTaW5FeHRlbmNpb259LmpwZ2AsIHRpbWVtYXJrczogWzBdIH0sIHBhZ2VzICsgJy9iYWNrZ3JvdW5kRGlmdW1pbmFkbycpXHJcbiAgICBhd2FpdCBNb2RlbFVzZXIudXBkYXRlT25lKHsgdXN1YXJpOiB1c2VyLnVzdWFyaSB9LCB7IGJhY2tncm91bmQ6ICcvJyArIHBvc3RJbWcgfSlcclxuICAgIGF3YWl0IE1vZGVsVXNlci51cGRhdGVPbmUoeyB1c3Vhcmk6IHVzZXIudXN1YXJpIH0sIHsgYmFja2dyb3VuZERpZnVtaWRhZG86ICcvJyArIGRpZnVtaW5hZG8gfSlcclxuICB9IGVsc2Uge1xyXG4gICAgYXdhaXQgTW9kZWxVc2VyLnVwZGF0ZU9uZSh7IHVzdWFyaTogdXNlci51c3VhcmkgfSwgeyBiYWNrZ3JvdW5kOiAnLycgKyBwb3N0SW1nIH0pXHJcbiAgICBhd2FpdCBNb2RlbFVzZXIudXBkYXRlT25lKHsgdXN1YXJpOiB1c2VyLnVzdWFyaSB9LCB7IGJhY2tncm91bmREaWZ1bWlkYWRvOiAnLycgKyBwb3N0SW1nIH0pXHJcbiAgfVxyXG4gIHJlcy5zdGF0dXMoMjAwKS5zZW5kKCdhbGwgZ3JlYXQnKVxyXG59KVxyXG5Sb3V0ZXIucG9zdCgnL2J1c2NhcicsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IG9wID0gcmVxLmJvZHlcclxuICBjb25zdCBjb29raWUgPSByZXEuaGVhZGVycy5jb29raWVcclxuICBpZiAoIWNvb2tpZSkge1xyXG4gICAgcmVzLnN0YXR1cyg0MDEpLnJlbmRlcihwYWdlcyArICdodG1sL3NlcnZpcy80MDFOb0F1dG9yaXphY2lvbi5odG1sJylcclxuICAgIHJldHVyblxyXG4gIH1cclxuICBjb25zdCBvYmpldG9WZXJpZmljYWNpb24gPSB2ZXJpZmljYWNpb24oY29va2llKVxyXG4gIGlmICghb2JqZXRvVmVyaWZpY2FjaW9uLm1ldG9kbykge1xyXG4gICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJ25vIHNlIGFoIGVuY29udHJhZG8gZWwgdXN1YXJpbycpXHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgaWYgKCFvcC51c3Vhcmlvcykge1xyXG4gICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJ25vIHNlIGFoIGVuY29udHJhZG8gZWwgdXN1YXJpbycpXHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIGNvbnN0IHVzZXJQZXJmaWwgPSBhd2FpdCBNb2RlbFVzZXIuZmluZE9uZSh7IHVzdWFyaTogb3AudXN1YXJpb3MgfSlcclxuICBpZiAoIXVzZXJQZXJmaWwpIHtcclxuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCdubyBzZSBhaCBlbmNvbnRyYWRvIGVsIHVzdWFyaW8nKVxyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBNb2RlbFVzZXIuZmluZE9uZSh7IF9pZDogb2JqZXRvVmVyaWZpY2FjaW9uLmRlY29kZWRUb2tlbi5pZCB9KVxyXG5cclxuICBpZiAodXNlci51c3VhcmkgPT09IG9wLnVzdWFyaW9zKSB7XHJcbiAgICByZXMuanNvbih7IHBhZ2luYTogJy8nICsgdXNlci51c3VhcmkgfSlcclxuICAgIHJldHVyblxyXG4gIH1cclxuICBjb25zdCBtYXhVbHRpbW9zQnVzY2Fkb3MgPSA1XHJcbiAgbGV0IGFycmF5Q29uc2VydmFkb3IgPSBbXVxyXG4gIHVzZXIudWx0aW1hc0J1c3F1ZWRhcy5mb3JFYWNoKChlbGVtZXQsIGluZGljZSkgPT4ge1xyXG4gICAgaWYgKGVsZW1ldCAhPT0gb3AudXN1YXJpb3MpIHtcclxuICAgICAgaWYgKGluZGljZSA8IG1heFVsdGltb3NCdXNjYWRvcykge1xyXG4gICAgICAgIGFycmF5Q29uc2VydmFkb3IgPSBbLi4uYXJyYXlDb25zZXJ2YWRvciwgZWxlbWV0XVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSlcclxuXHJcbiAgYXdhaXQgTW9kZWxVc2VyLnVwZGF0ZU1hbnkoeyBfaWQ6IG9iamV0b1ZlcmlmaWNhY2lvbi5kZWNvZGVkVG9rZW4uaWQgfSwge1xyXG4gICAgdWx0aW1hc0J1c3F1ZWRhczogW29wLnVzdWFyaW9zLCAuLi5hcnJheUNvbnNlcnZhZG9yXVxyXG4gIH0pXHJcblxyXG4gIHJlcy5qc29uKHsgcGFnaW5hOiAnLycgKyB1c2VyUGVyZmlsLnVzdWFyaSB9KVxyXG59KVxyXG5Sb3V0ZXIucG9zdCgnL21pU2l0aW8nLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBjb29raWUgPSByZXEuaGVhZGVycy5jb29raWVcclxuICBpZiAoIWNvb2tpZSkge1xyXG4gICAgcmVzLnN0YXR1cyg0MDEpLnJlbmRlcihwYWdlcyArICdodG1sL3NlcnZpcy80MDFOb0F1dG9yaXphY2lvbi5odG1sJylcclxuICAgIHJldHVyblxyXG4gIH1cclxuICBjb25zdCBvYmpldG9WZXJpZmljYWNpb24gPSB2ZXJpZmljYWNpb24oY29va2llKVxyXG4gIGlmICghb2JqZXRvVmVyaWZpY2FjaW9uLm1ldG9kbykge1xyXG4gICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJ25vIHNlIGFoIGVuY29udHJhZG8gZWwgdXN1YXJpbycpXHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgY29uc3QgdXNlciA9IGF3YWl0IE1vZGVsVXNlci5maW5kT25lKHsgX2lkOiBvYmpldG9WZXJpZmljYWNpb24uZGVjb2RlZFRva2VuLmlkIH0pXHJcbiAgaWYgKCF1c2VyKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnbm8gc2UgYWggZW5jb250cmFkbyBlbCB1c3VhcmlvJylcclxuICAgIHJldHVyblxyXG4gIH1cclxuICByZXMuanNvbih7IHBhZ2luYTogJy8nICsgdXNlci51c3VhcmkgfSlcclxufSlcclxuUm91dGVyLnBvc3QoJy9kZWxldGVpbWFnZW4vOmlkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3Qgb3AgPSByZXEuYm9keVxyXG4gIGNvbnN0IGNvb2tpZSA9IHJlcS5oZWFkZXJzLmNvb2tpZVxyXG4gIGlmICghY29va2llKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMSkucmVuZGVyKHBhZ2VzICsgJ2h0bWwvc2VydmlzLzQwMU5vQXV0b3JpemFjaW9uLmh0bWwnKVxyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG4gIGNvbnN0IG9iamV0b1ZlcmlmaWNhY2lvbiA9IHZlcmlmaWNhY2lvbihjb29raWUpXHJcbiAgaWYgKCFvYmpldG9WZXJpZmljYWNpb24ubWV0b2RvKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCgnbm8gc2UgYWggZW5jb250cmFkbyBlbCB1c3VhcmlvJylcclxuICAgIHJldHVyblxyXG4gIH1cclxuICBjb25zdCB1c2VyID0gYXdhaXQgTW9kZWxVc2VyLmZpbmRPbmUoeyB1c3Vhcmk6IHJlcS5wYXJhbXMuaWQgfSlcclxuICBpZiAoY29tcGFyYXJJRCh1c2VyLl9pZCwgb2JqZXRvVmVyaWZpY2FjaW9uLmRlY29kZWRUb2tlbi5pZCkpIHtcclxuICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzYWdlOiAndXN0ZWQgbm8gdGllbmUgcGVybWl0aWRvIGNhbWJpYXIgbmkgYWdyZWdhciBuYWRhIGEgZXN0YSBjdWVudGEnIH0pXHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIGZzLnVubGlua1N5bmMocGF0aC5qb2luKHBhZ2VzLCBvcC5wYXJhbWV0cm9zKSlcclxuICBhd2FpdCBNb2RlbFVzZXIudXBkYXRlTWFueSh7IHVzdWFyaTogdXNlci51c3VhcmkgfSwgeyAkcHVsbDogeyBwb3N0OiB7IHBvc3RJbWc6IG9wLnBhcmFtZXRyb3MgfSB9IH0pXHJcbiAgcmVzLnN0YXR1cygyMDApLnNlbmQoJ2FsbCBncmVhdCcpXHJcbn0pXHJcblJvdXRlci5wb3N0KCcvcmVjb21lbmRhY2lvbicsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IG9wID0gcmVxLmJvZHlcclxuICBjb25zdCB1c2VycyA9IGF3YWl0IE1vZGVsVXNlci5maW5kKHsgdXN1YXJpOiB7ICRyZWdleDogYCR7b3AudXN1YXJpb3N9YCB9IH0sIHsgdXN1YXJpOiAxLCBfaWQ6IDAgfSkubGltaXQoNClcclxuICBjb25zdCBhcnJheVVzZXJzID0gW11cclxuICB1c2Vycy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgYXJyYXlVc2Vycy5wdXNoKGVsZW1lbnQudXN1YXJpKVxyXG4gIH0pXHJcbiAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBub21icmVzOiBhcnJheVVzZXJzIH0pXHJcbn0pXHJcblJvdXRlci5wb3N0KCcvVWx0aW1vc1Bvc3QnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBvcCA9IHJlcS5ib2R5XHJcbiAgY29uc3QgY29va2llID0gcmVxLmhlYWRlcnMuY29va2llXHJcbiAgaWYgKCFjb29raWUpIHtcclxuICAgIHJlcy5zdGF0dXMoNDAxKS5yZW5kZXIocGFnZXMgKyAnaHRtbC9zZXJ2aXMvNDAxTm9BdXRvcml6YWNpb24uaHRtbCcpXHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgY29uc3Qgb2JqZXRvVmVyaWZpY2FjaW9uID0gdmVyaWZpY2FjaW9uKGNvb2tpZSlcclxuICBpZiAoIW9iamV0b1ZlcmlmaWNhY2lvbi5tZXRvZG8pIHtcclxuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCdubyBzZSBhaCBlbmNvbnRyYWRvIGVsIHVzdWFyaW8nKVxyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBNb2RlbFVzZXIuZmluZE9uZSh7IF9pZDogb2JqZXRvVmVyaWZpY2FjaW9uLmRlY29kZWRUb2tlbi5pZCB9KVxyXG4gIGlmICghdXNlcikge1xyXG4gICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJ25vIHNlIGFoIGVuY29udHJhZG8gZWwgdXN1YXJpbycpXHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgaWYgKCFvcC5hbWlnb3NWaXNpdGFkb3MpIHtcclxuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCdkZWphIGRlIG1ldGVydGUgY29uIG1pIGNvZGlnbycpXHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIGxldCBudW1lcm9Qb3N0ID0gMTVcclxuICBsZXQgcG9zdE1hbmRhciA9IFtdXHJcbiAgbGV0IGFycmF5QW1pZ29zID0gb3AuYW1pZ29zVmlzaXRhZG9zXHJcbiAgbGV0IG51ZXZvQW1pZ29zVmlzaXRhZG9zID0gW11cclxuICBpZiAodXNlci5hbWlnb3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IGFtaWdvczogW10gfSlcclxuICAgIHJldHVyblxyXG4gIH1cclxuICBmb3IgKGxldCBpID0gMDsgaSA8PSB1c2VyLnVsdGltYXNCdXNxdWVkYXMubGVuZ3RoIC0gMSAmJiBudW1lcm9Qb3N0ID4gMDsgaSsrKSB7XHJcbiAgICBjb25zdCB1c2VyQW1pZ28gPSBhd2FpdCBNb2RlbFVzZXIuZmluZE9uZSh7IHVzdWFyaTogdXNlci51bHRpbWFzQnVzcXVlZGFzW2ldIH0pXHJcbiAgICBsZXQgZXhpc3RlQW1pZ28gPSBmYWxzZVxyXG4gICAgYXJyYXlBbWlnb3MuZm9yRWFjaChlbCA9PiB7XHJcbiAgICAgIGlmIChlbC5ub21icmUgPT09IHVzZXJBbWlnby51c3VhcmkpIHtcclxuICAgICAgICBleGlzdGVBbWlnbyA9IHRydWVcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBpZiAodXNlckFtaWdvKSB7XHJcbiAgICAgIGlmICghZXhpc3RlQW1pZ28pIHtcclxuICAgICAgICBudWV2b0FtaWdvc1Zpc2l0YWRvcyA9IFsuLi5udWV2b0FtaWdvc1Zpc2l0YWRvcywgdXNlckFtaWdvLnVzdWFyaV1cclxuICAgICAgICBhcnJheUFtaWdvcyA9IFsuLi5hcnJheUFtaWdvcywgeyBub21icmU6IHVzZXJBbWlnby51c3VhcmksIGNvbnRhZG9yOiAwIH1dXHJcbiAgICAgIH1cclxuICAgICAgYXJyYXlBbWlnb3MuZm9yRWFjaCgoZWwsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgaWYgKGVsLm5vbWJyZSA9PT0gdXNlckFtaWdvLnVzdWFyaSkge1xyXG4gICAgICAgICAgaWYgKHVzZXJBbWlnby5wb3N0W2VsLmNvbnRhZG9yXSkge1xyXG4gICAgICAgICAgICBwb3N0TWFuZGFyID0gWy4uLnBvc3RNYW5kYXIsIHtcclxuICAgICAgICAgICAgICBub21icmU6IHVzZXJBbWlnby51c3VhcmksXHJcbiAgICAgICAgICAgICAgcG9zdDogdXNlckFtaWdvLnBvc3RbZWwuY29udGFkb3JdLFxyXG4gICAgICAgICAgICAgIGljb246IHVzZXJBbWlnby5pY29uXHJcbiAgICAgICAgICAgIH1dXHJcbiAgICAgICAgICAgIGFycmF5QW1pZ29zW2luZGV4XS5jb250YWRvciA9IGFycmF5QW1pZ29zW2luZGV4XS5jb250YWRvciArIDFcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBudW1lcm9Qb3N0LS1cclxuICB9XHJcbiAgZm9yIChsZXQgaSA9IG51bWVyb1Bvc3Q7IGkgPiAwOyBpLS0pIHtcclxuICAgIGNvbnN0IHJhbmRvbSA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqICh1c2VyLmFtaWdvcy5sZW5ndGggLSAxKSlcclxuICAgIGNvbnN0IHVzZXJBbWlnbyA9IGF3YWl0IE1vZGVsVXNlci5maW5kT25lKHsgX2lkOiB1c2VyLmFtaWdvc1tyYW5kb21dIH0pXHJcbiAgICBsZXQgZXhpc3RlQW1pZ28gPSBmYWxzZVxyXG4gICAgYXJyYXlBbWlnb3MuZm9yRWFjaChlbCA9PiB7XHJcbiAgICAgIGlmIChlbC5ub21icmUgPT09IHVzZXJBbWlnby51c3VhcmkpIHtcclxuICAgICAgICBleGlzdGVBbWlnbyA9IHRydWVcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIGlmICh1c2VyQW1pZ28pIHtcclxuICAgICAgaWYgKCFleGlzdGVBbWlnbykge1xyXG4gICAgICAgIG51ZXZvQW1pZ29zVmlzaXRhZG9zID0gWy4uLm51ZXZvQW1pZ29zVmlzaXRhZG9zLCB1c2VyQW1pZ28udXN1YXJpXVxyXG4gICAgICAgIGFycmF5QW1pZ29zID0gWy4uLmFycmF5QW1pZ29zLCB7IG5vbWJyZTogdXNlckFtaWdvLnVzdWFyaSwgY29udGFkb3I6IDAgfV1cclxuICAgICAgfVxyXG4gICAgICBhcnJheUFtaWdvcy5mb3JFYWNoKChlbCwgaW5kZXgpID0+IHtcclxuICAgICAgICBpZiAoZWwubm9tYnJlID09PSB1c2VyQW1pZ28udXN1YXJpKSB7XHJcbiAgICAgICAgICBpZiAodXNlckFtaWdvLnBvc3RbZWwuY29udGFkb3JdKSB7XHJcbiAgICAgICAgICAgIHBvc3RNYW5kYXIgPSBbLi4ucG9zdE1hbmRhciwge1xyXG4gICAgICAgICAgICAgIG5vbWJyZTogdXNlckFtaWdvLnVzdWFyaSxcclxuICAgICAgICAgICAgICBwb3N0OiB1c2VyQW1pZ28ucG9zdFtlbC5jb250YWRvcl0sXHJcbiAgICAgICAgICAgICAgaWNvbjogdXNlckFtaWdvLmljb25cclxuICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgYXJyYXlBbWlnb3NbaW5kZXhdLmNvbnRhZG9yID0gYXJyYXlBbWlnb3NbaW5kZXhdLmNvbnRhZG9yICsgMVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcbiAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBhbWlnb3M6IHBvc3RNYW5kYXIsIG51ZXZvQW1pZ29zVmlzaXRhZG9zLCBhcnJheUFtaWdvcyB9KVxyXG59KVxyXG5Sb3V0ZXIucG9zdCgnLzppZCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IGNvb2tpZSA9IHJlcS5oZWFkZXJzLmNvb2tpZVxyXG4gIGlmICghY29va2llKSB7XHJcbiAgICByZXMucmVuZGVyKHBhdGguam9pbihwYWdlcywgJ2h0bWwvcGFnaW5hX3ByaW5jaXBhbC9pbmRleC5odG1sJykpXHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgY29uc3Qgb2JqZXRvVmVyaWZpY2FjaW9uID0gdmVyaWZpY2FjaW9uKGNvb2tpZSlcclxuICBpZiAoIW9iamV0b1ZlcmlmaWNhY2lvbi5tZXRvZG8pIHtcclxuICAgIHJlcy5yZW5kZXIocGF0aC5qb2luKHBhZ2VzLCAnaHRtbC9wYWdpbmFfcHJpbmNpcGFsL2luZGV4Lmh0bWwnKSlcclxuICAgIHJldHVyblxyXG4gIH1cclxuICBjb25zdCBub21icmVBbWlnbyA9IHJlcS5wYXJhbXMuaWQucmVwbGFjZUFsbCgnJTIwJywgJyAnKVxyXG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBNb2RlbFVzZXIuZmluZE9uZSh7IHVzdWFyaTogb2JqZXRvVmVyaWZpY2FjaW9uLmRlY29kZWRUb2tlbi51c3VhcmluYW1lIH0pXHJcbiAgY29uc3QgdXNlckFtaWdvID0gYXdhaXQgTW9kZWxVc2VyLmZpbmRPbmUoeyB1c3Vhcmk6IG5vbWJyZUFtaWdvIH0pXHJcbiAgaWYgKCF1c2VyQW1pZ28pIHtcclxuICAgIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdxdWUgc2hpbmdhIG1lIG1hbmRhc3RlPycpXHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgbGV0IGFtaWdvID0gZmFsc2VcclxuICB1c2VyLmFtaWdvcy5mb3JFYWNoKGVsID0+IHtcclxuICAgIGlmIChlbCA9PT0gYCR7dXNlckFtaWdvLl9pZH1gKSB7XHJcbiAgICAgIGFtaWdvID0gdHJ1ZVxyXG4gICAgfVxyXG4gIH0pXHJcbiAgaWYgKGFtaWdvKSB7XHJcbiAgICBhd2FpdCBNb2RlbFVzZXIudXBkYXRlTWFueSh7IHVzdWFyaTogdXNlci51c3VhcmkgfSwgeyAkcHVsbEFsbDogeyBhbWlnb3M6IFt1c2VyQW1pZ28uX2lkXSB9IH0pXHJcbiAgfSBlbHNlIHtcclxuICAgIGF3YWl0IE1vZGVsVXNlci51cGRhdGVPbmUoeyB1c3Vhcmk6IHVzZXIudXN1YXJpIH0sIHsgJHB1c2g6IHsgYW1pZ29zOiB7ICRlYWNoOiBbdXNlckFtaWdvLl9pZF0sICRwb3NpdGlvbjogMCB9IH0gfSlcclxuICB9XHJcbiAgcmVzLmpzb24ob2JqZXRvVmVyaWZpY2FjaW9uKVxyXG59KVxyXG5tb2R1bGUuZXhwb3J0cyA9IFJvdXRlclxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "path",
        "require",
        "Router",
        "v4",
        "uuidv4",
        "fs",
        "jwt",
        "cookieNPM",
        "ffmpegPath",
        "ffmpeg",
        "bcrypt",
        "youKnow",
        "pages",
        "join",
        "__dirname",
        "baseHash",
        "ModelUser",
        "setFfmpegPath",
        "verificacion",
        "cookie",
        "jsoncookie",
        "parse",
        "userName",
        "length",
        "metodo",
        "token",
        "decodedToken",
        "verify",
        "id",
        "compararID",
        "userID",
        "cookieID",
        "get",
        "req",
        "res",
        "headers",
        "render",
        "objetoVerificacion",
        "name",
        "usuariname",
        "icon",
        "status",
        "nombreUrl",
        "params",
        "replaceAll",
        "user",
        "findOne",
        "usuari",
        "arrayBackground",
        "background",
        "split",
        "extencion",
        "difbackground",
        "backgroundDifumidado",
        "userToken",
        "_id",
        "amigo",
        "amigos",
        "forEach",
        "el",
        "backgroundDifuminado",
        "perfil",
        "post",
        "op",
        "body",
        "uss",
        "contra",
        "json",
        "mensaje",
        "primer",
        "password",
        "compare",
        "sign",
        "send",
        "JSON",
        "stringify",
        "ultimasBusquedas",
        "end",
        "mensage",
        "salt",
        "genSaltSync",
        "passHash",
        "hashSync",
        "userNew",
        "save",
        "nombre",
        "arrayPost",
        "slice",
        "cont",
        "content",
        "files",
        "Object",
        "keys",
        "image",
        "file",
        "imagen",
        "mesage",
        "desc",
        "Date",
        "description",
        "nombreimagen",
        "postImg",
        "mv",
        "err",
        "updateOne",
        "$push",
        "$each",
        "$position",
        "replace",
        "nombreSinExtencion",
        "index",
        "difuminado",
        "source",
        "takeScreenshots",
        "filename",
        "timemarks",
        "usuarios",
        "userPerfil",
        "pagina",
        "maxUltimosBuscados",
        "arrayConservador",
        "elemet",
        "indice",
        "updateMany",
        "unlinkSync",
        "parametros",
        "$pull",
        "users",
        "find",
        "$regex",
        "limit",
        "arrayUsers",
        "element",
        "push",
        "nombres",
        "amigosVisitados",
        "numeroPost",
        "postMandar",
        "arrayAmigos",
        "nuevoAmigosVisitados",
        "i",
        "userAmigo",
        "existeAmigo",
        "contador",
        "random",
        "Math",
        "round",
        "nombreAmigo",
        "$pullAll",
        "module",
        "exports"
      ],
      "mappings": "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",
      "sourceRoot": "D:\\copia\\server\\Router\\",
      "sourcesContent": [
        "const path = require('path')\r\nconst Router = require('express').Router()\r\nconst { v4: uuidv4 } = require('uuid')\r\nconst fs = require('fs')\r\nconst jwt = require('jsonwebtoken')\r\nconst cookieNPM = require('cookie')\r\nconst ffmpegPath = require('@ffmpeg-installer/ffmpeg').path\r\nconst ffmpeg = require('fluent-ffmpeg')\r\nconst bcrypt = require('bcrypt')\r\nconst youKnow = 'iLovePlayMinecraftForEver'\r\nconst pages = path.join(__dirname, '/../public/')\r\nconst baseHash = 10\r\nconst ModelUser = require('../usariname.js')\r\nffmpeg.setFfmpegPath(ffmpegPath)\r\n\r\nfunction verificacion (cookie) {\r\n  const jsoncookie = cookieNPM.parse(cookie)\r\n  if (!jsoncookie.userName || jsoncookie.userName === 'undefined' || jsoncookie.userName.length === 0) {\r\n    return { metodo: false }\r\n  }\r\n  const token = jsoncookie.userName\r\n  const decodedToken = jwt.verify(token, youKnow)\r\n  if (!decodedToken.id) {\r\n    return { metodo: false }\r\n  } else {\r\n    return { metodo: true, decodedToken }\r\n  }\r\n}\r\nfunction compararID (userID, cookieID) {\r\n  if (`${userID}` !== `${cookieID}`) {\r\n    return true\r\n  } else {\r\n    return false\r\n  }\r\n}\r\nRouter.get('/', (req, res) => {\r\n  const cookie = req.headers.cookie\r\n  if (!cookie) {\r\n    res.render(path.join(pages, 'html/pagina_principal/index.html'))\r\n    return\r\n  }\r\n  const objetoVerificacion = verificacion(cookie)\r\n  if (!objetoVerificacion.metodo) {\r\n    res.render(path.join(pages, 'html/pagina_principal/index.html'))\r\n    return\r\n  }\r\n  res.render(path.join(pages, 'html/cuentas/sujeridos.ejs'), {\r\n    name: objetoVerificacion.decodedToken.usuariname,\r\n    icon: objetoVerificacion.decodedToken.icon\r\n  })\r\n})\r\nRouter.get('/register', (req, res) => res.render(path.join(pages, 'html/register/registro.html')))\r\nRouter.get('/:id', async (req, res) => {\r\n  const cookie = req.headers.cookie\r\n  if (!cookie) {\r\n    res.status(401).render(pages + 'html/servis/401NoAutorizacion.html')\r\n    return\r\n  }\r\n  const nombreUrl = req.params.id.replaceAll('%20', ' ')\r\n  const user = await ModelUser.findOne({ usuari: nombreUrl })\r\n\r\n  if (!user) {\r\n    res.render(pages + 'html/servis/error.html')\r\n  } else {\r\n    const objetoVerificacion = verificacion(cookie)\r\n    if (!objetoVerificacion.metodo) {\r\n      res.status(401).render('html/servis/401NoAutorizacion.html')\r\n      return\r\n    }\r\n    const decodedToken = objetoVerificacion.decodedToken\r\n    const arrayBackground = user.background.split('.')\r\n    let extencion = arrayBackground[arrayBackground.length - 1]\r\n\r\n    extencion === 'mp4' || extencion === 'avi'\r\n      ? extencion = `<video id=\"Mains.js-la_entidad_de_la_imagen_para_poder_comparar_su_tamaño-background\" class=\"background-content-responsive-video\" src=\"${user.background}\" controls></video>`\r\n      : extencion = `<img id=\"Mains.js-la_entidad_de_la_imagen_para_poder_comparar_su_tamaño-background\" class=\"background-content-responsive-imagen\" src=\"${user.background}\" alt=\"\">`\r\n\r\n    const difbackground = `<img class=\"imageDifumida\" src=\"${user.backgroundDifumidado}\" alt=\"\">`\r\n\r\n    const userToken = await ModelUser.findOne({ _id: decodedToken.id })\r\n    let amigo = false\r\n    userToken.amigos.forEach(el => {\r\n      if (el === `${user._id}`) {\r\n        amigo = true\r\n      }\r\n    })\r\n    if (`${user._id}` === `${decodedToken.id}`) {\r\n      res.render(pages + 'html/cuentas/cuentas.ejs', {\r\n        extencion: extencion,\r\n        user: userToken.usuari,\r\n        name: user.usuari,\r\n        backgroundDifuminado: difbackground,\r\n        icon: user.icon,\r\n        perfil: userToken.icon\r\n      })\r\n    } else {\r\n      res.render(pages + 'html/cuentas/anotherCuenta.ejs', {\r\n        extencion: extencion,\r\n        user: user.usuari,\r\n        name: userToken.usuari,\r\n        backgroundDifuminado: difbackground,\r\n        icon: userToken.icon,\r\n        perfil: user.icon,\r\n        amigo\r\n      })\r\n    }\r\n  }\r\n})\r\nRouter.post('/', async (req, res) => {\r\n  const op = req.body\r\n  if (!op.uss || !op.contra) {\r\n    res.status(400).json({ mensaje: 'porque modificas mi codigo' })\r\n    return\r\n  }\r\n  const primer = new ModelUser({\r\n    usuari: op.uss,\r\n    password: op.contra\r\n  })\r\n  const user = await ModelUser.findOne({ usuari: primer.usuari })\r\n  if (user) {\r\n    if (await bcrypt.compare(primer.password, user.password)) {\r\n      const token = jwt.sign({\r\n        id: user._id,\r\n        usuariname: user.usuari,\r\n        icon: user.icon\r\n      }, youKnow)\r\n      res.json({ metodo: true, token: token })\r\n      return\r\n    }\r\n  }\r\n  res.status(203).json({ metodo: false, mensaje: 'su contraseña o usuario esta mal' })\r\n})\r\nRouter.post('/ultimaBusqueda', async (req, res) => {\r\n  const cookie = req.headers.cookie\r\n  if (!cookie) {\r\n    res.status(401).render(pages + '/html/401NoAutorizacion.html')\r\n    return\r\n  }\r\n  const objetoVerificacion = verificacion(cookie)\r\n  if (!objetoVerificacion.metodo) {\r\n    res.status(404).send('no se ah encontrado el usuario')\r\n    return\r\n  }\r\n\r\n  const user = await ModelUser.findOne({ _id: objetoVerificacion.decodedToken.id })\r\n  res.send(JSON.stringify(user.ultimasBusquedas))\r\n  res.end()\r\n})\r\nRouter.post('/register', async (req, res) => {\r\n  const op = req.body\r\n  if (!op.uss || !op.contra) {\r\n    res.status(400).send('que haces cambiando mi codigo?')\r\n    return\r\n  }\r\n  const user = await ModelUser.findOne({ usuari: op.uss })\r\n  if (user) {\r\n    res.send({ metodo: false, mensage: 'Este usuario ya existe' })\r\n  }\r\n  const salt = bcrypt.genSaltSync(baseHash)\r\n  const passHash = bcrypt.hashSync(op.contra, salt)\r\n  const primer = new ModelUser({\r\n    usuari: op.uss,\r\n    password: passHash\r\n  })\r\n  const userNew = await primer.save()\r\n  const token = await jwt.sign({ id: userNew._id, usuariname: userNew.usuari, icon: userNew.icon }, youKnow)\r\n  res.send({\r\n    metodo: true,\r\n    mensage: 'se ha guardado su usuario',\r\n    nombre: userNew.usuari,\r\n    token: token\r\n  })\r\n})\r\nRouter.post('/cuentas/:id', async (req, res) => {\r\n  const op = req.body\r\n  const user = await ModelUser.findOne({ usuari: req.params.id })\r\n  if (!user || req.params.id === '') {\r\n    return res.status(404).send(pages + '/html/error.html')\r\n  }\r\n  const arrayPost = user.post.slice(op.cont, op.cont + 3)\r\n  if (arrayPost == null) {\r\n    res.send(JSON.stringify({ post: null }))\r\n    return\r\n  }\r\n  const primer = {\r\n    content: arrayPost\r\n  }\r\n  res.send(JSON.stringify(primer))\r\n  res.end()\r\n})\r\nRouter.post('/imagenes/:id', async (req, res) => {\r\n  const cookie = req.headers.cookie\r\n  if (!cookie) {\r\n    res.status(401).render(pages + '/html/401NoAutorizacion.html')\r\n    return\r\n  }\r\n  const objetoVerificacion = verificacion(cookie)\r\n  if (!objetoVerificacion.metodo) {\r\n    res.status(404).send('no se ah encontrado el usuario')\r\n    return\r\n  }\r\n  if (!req.files || Object.keys(req.files).length === 0 || !req.files.image) {\r\n    res.status(400).send('No files were uploaded.' + req.file)\r\n    return\r\n  }\r\n  const imagen = req.files.image\r\n  const user = await ModelUser.findOne({ usuari: req.params.id })\r\n  if (!user) {\r\n    res.status(404).send('no se ah encontrado el usuario')\r\n    return\r\n  }\r\n  if (compararID(user._id, objetoVerificacion.decodedToken.id)) {\r\n    res.status(401).json({ mesage: 'usted no tiene permitido cambiar ni agregar nada a esta cuenta' })\r\n    return\r\n  }\r\n  const desc = Date() + '█ ' + req.body.description\r\n  const nombreimagen = uuidv4() + imagen.name\r\n  const postImg = 'temp/' + nombreimagen\r\n  imagen.name = nombreimagen\r\n  imagen.mv(path.join(pages, postImg), err => {\r\n    if (err) {\r\n      return res.status(402)\r\n    }\r\n  })\r\n  await ModelUser.updateOne({ usuari: user.usuari }, { $push: { post: { $each: [{ postImg, desc }], $position: 0 } } })\r\n  res.status(200).send('all great')\r\n})\r\nRouter.post('/perfilIcon/:id', async (req, res) => {\r\n  if (!req.files || Object.keys(req.files).length === 0 || !req.files.image) {\r\n    res.status(400).json({ mensage: 'No files were uploaded.' })\r\n    return\r\n  }\r\n  const cookie = req.headers.cookie\r\n  if (!cookie) {\r\n    res.status(401).render(pages + 'html/servis/401NoAutorizacion.html')\r\n    return\r\n  }\r\n  const objetoVerificacion = verificacion(cookie)\r\n  if (!objetoVerificacion.metodo) {\r\n    res.status(404).send('no se ah encontrado el usuario')\r\n    return\r\n  }\r\n  const user = await ModelUser.findOne({ usuari: req.params.id })\r\n  if (compararID(user._id, objetoVerificacion.decodedToken.id)) {\r\n    res.status(401).json({ mesage: 'usted no tiene permitido cambiar ni agregar nada a esta cuenta' })\r\n    return\r\n  }\r\n  const imagen = req.files.image\r\n  let nombreimagen = uuidv4() + imagen.name\r\n  nombreimagen = nombreimagen.replace('\"', '')\r\n  const postImg = 'iconos/' + nombreimagen\r\n  imagen.name = nombreimagen\r\n  imagen.mv(path.join(pages, postImg), err => {\r\n    if (err) {\r\n      return res.status(402)\r\n    }\r\n  })\r\n  await ModelUser.updateOne({ usuari: user.usuari }, { icon: '/' + postImg })\r\n  res.status(200).send('all great')\r\n})\r\nRouter.post('/background/:id', async (req, res) => {\r\n  const cookie = req.headers.cookie\r\n  if (!cookie) {\r\n    res.status(401).render(pages + 'html/servis/401NoAutorizacion.html')\r\n    return\r\n  }\r\n  const objetoVerificacion = verificacion(cookie)\r\n  if (!objetoVerificacion.metodo) {\r\n    res.status(404).send('no se ah encontrado el usuario')\r\n    return\r\n  }\r\n  if (!req.files || Object.keys(req.files).length === 0 || !req.files.image) {\r\n    res.status(400).json({ mensage: 'No files were uploaded.' })\r\n    return\r\n  }\r\n  const user = await ModelUser.findOne({ usuari: req.params.id })\r\n  if (!user) {\r\n    res.status(404).send('no se ah encontrado el usuario')\r\n    return\r\n  }\r\n  if (compararID(user._id, objetoVerificacion.decodedToken.id)) {\r\n    res.status(401).json({ mesage: 'usted no tiene permitido cambiar ni agregar nada a esta cuenta' })\r\n    return\r\n  }\r\n  const imagen = req.files.image\r\n  let nombreimagen = uuidv4() + imagen.name\r\n  nombreimagen = nombreimagen.replace('\"', '')\r\n  const postImg = 'backgrounds/' + nombreimagen\r\n  const arrayBackground = nombreimagen.split('.')\r\n  let nombreSinExtencion = ''\r\n  if (arrayBackground.length.length > 2) {\r\n    for (let index = 0; index < arrayBackground.length - 2; index++) {\r\n      nombreSinExtencion += arrayBackground.length[index]\r\n    }\r\n  } else {\r\n    nombreSinExtencion = arrayBackground[0]\r\n  }\r\n  const extencion = arrayBackground[arrayBackground.length - 1]\r\n  imagen.name = nombreimagen\r\n  imagen.mv(path.join(pages, postImg), err => {\r\n    if (err) {\r\n      return res.status(402)\r\n    }\r\n  })\r\n  const difuminado = `backgroundDifuminado/${nombreSinExtencion}.jpg`\r\n  if (extencion === 'mp4' || extencion === 'avi') {\r\n    ffmpeg({ source: path.join(pages, postImg) })\r\n      .takeScreenshots({ filename: `${nombreSinExtencion}.jpg`, timemarks: [0] }, pages + '/backgroundDifuminado')\r\n    await ModelUser.updateOne({ usuari: user.usuari }, { background: '/' + postImg })\r\n    await ModelUser.updateOne({ usuari: user.usuari }, { backgroundDifumidado: '/' + difuminado })\r\n  } else {\r\n    await ModelUser.updateOne({ usuari: user.usuari }, { background: '/' + postImg })\r\n    await ModelUser.updateOne({ usuari: user.usuari }, { backgroundDifumidado: '/' + postImg })\r\n  }\r\n  res.status(200).send('all great')\r\n})\r\nRouter.post('/buscar', async (req, res) => {\r\n  const op = req.body\r\n  const cookie = req.headers.cookie\r\n  if (!cookie) {\r\n    res.status(401).render(pages + 'html/servis/401NoAutorizacion.html')\r\n    return\r\n  }\r\n  const objetoVerificacion = verificacion(cookie)\r\n  if (!objetoVerificacion.metodo) {\r\n    res.status(404).send('no se ah encontrado el usuario')\r\n    return\r\n  }\r\n  if (!op.usuarios) {\r\n    res.status(404).send('no se ah encontrado el usuario')\r\n    return\r\n  }\r\n\r\n  const userPerfil = await ModelUser.findOne({ usuari: op.usuarios })\r\n  if (!userPerfil) {\r\n    res.status(404).send('no se ah encontrado el usuario')\r\n    return\r\n  }\r\n  const user = await ModelUser.findOne({ _id: objetoVerificacion.decodedToken.id })\r\n\r\n  if (user.usuari === op.usuarios) {\r\n    res.json({ pagina: '/' + user.usuari })\r\n    return\r\n  }\r\n  const maxUltimosBuscados = 5\r\n  let arrayConservador = []\r\n  user.ultimasBusquedas.forEach((elemet, indice) => {\r\n    if (elemet !== op.usuarios) {\r\n      if (indice < maxUltimosBuscados) {\r\n        arrayConservador = [...arrayConservador, elemet]\r\n      }\r\n    }\r\n  })\r\n\r\n  await ModelUser.updateMany({ _id: objetoVerificacion.decodedToken.id }, {\r\n    ultimasBusquedas: [op.usuarios, ...arrayConservador]\r\n  })\r\n\r\n  res.json({ pagina: '/' + userPerfil.usuari })\r\n})\r\nRouter.post('/miSitio', async (req, res) => {\r\n  const cookie = req.headers.cookie\r\n  if (!cookie) {\r\n    res.status(401).render(pages + 'html/servis/401NoAutorizacion.html')\r\n    return\r\n  }\r\n  const objetoVerificacion = verificacion(cookie)\r\n  if (!objetoVerificacion.metodo) {\r\n    res.status(404).send('no se ah encontrado el usuario')\r\n    return\r\n  }\r\n  const user = await ModelUser.findOne({ _id: objetoVerificacion.decodedToken.id })\r\n  if (!user) {\r\n    res.status(404).send('no se ah encontrado el usuario')\r\n    return\r\n  }\r\n  res.json({ pagina: '/' + user.usuari })\r\n})\r\nRouter.post('/deleteimagen/:id', async (req, res) => {\r\n  const op = req.body\r\n  const cookie = req.headers.cookie\r\n  if (!cookie) {\r\n    res.status(401).render(pages + 'html/servis/401NoAutorizacion.html')\r\n    return\r\n  }\r\n  const objetoVerificacion = verificacion(cookie)\r\n  if (!objetoVerificacion.metodo) {\r\n    res.status(401).send('no se ah encontrado el usuario')\r\n    return\r\n  }\r\n  const user = await ModelUser.findOne({ usuari: req.params.id })\r\n  if (compararID(user._id, objetoVerificacion.decodedToken.id)) {\r\n    res.status(401).json({ mesage: 'usted no tiene permitido cambiar ni agregar nada a esta cuenta' })\r\n    return\r\n  }\r\n\r\n  fs.unlinkSync(path.join(pages, op.parametros))\r\n  await ModelUser.updateMany({ usuari: user.usuari }, { $pull: { post: { postImg: op.parametros } } })\r\n  res.status(200).send('all great')\r\n})\r\nRouter.post('/recomendacion', async (req, res) => {\r\n  const op = req.body\r\n  const users = await ModelUser.find({ usuari: { $regex: `${op.usuarios}` } }, { usuari: 1, _id: 0 }).limit(4)\r\n  const arrayUsers = []\r\n  users.forEach(element => {\r\n    arrayUsers.push(element.usuari)\r\n  })\r\n  res.status(200).json({ nombres: arrayUsers })\r\n})\r\nRouter.post('/UltimosPost', async (req, res) => {\r\n  const op = req.body\r\n  const cookie = req.headers.cookie\r\n  if (!cookie) {\r\n    res.status(401).render(pages + 'html/servis/401NoAutorizacion.html')\r\n    return\r\n  }\r\n  const objetoVerificacion = verificacion(cookie)\r\n  if (!objetoVerificacion.metodo) {\r\n    res.status(404).send('no se ah encontrado el usuario')\r\n    return\r\n  }\r\n  const user = await ModelUser.findOne({ _id: objetoVerificacion.decodedToken.id })\r\n  if (!user) {\r\n    res.status(404).send('no se ah encontrado el usuario')\r\n    return\r\n  }\r\n  if (!op.amigosVisitados) {\r\n    res.status(404).send('deja de meterte con mi codigo')\r\n    return\r\n  }\r\n\r\n  let numeroPost = 15\r\n  let postMandar = []\r\n  let arrayAmigos = op.amigosVisitados\r\n  let nuevoAmigosVisitados = []\r\n  if (user.amigos.length === 0) {\r\n    res.status(200).json({ amigos: [] })\r\n    return\r\n  }\r\n  for (let i = 0; i <= user.ultimasBusquedas.length - 1 && numeroPost > 0; i++) {\r\n    const userAmigo = await ModelUser.findOne({ usuari: user.ultimasBusquedas[i] })\r\n    let existeAmigo = false\r\n    arrayAmigos.forEach(el => {\r\n      if (el.nombre === userAmigo.usuari) {\r\n        existeAmigo = true\r\n      }\r\n    })\r\n\r\n    if (userAmigo) {\r\n      if (!existeAmigo) {\r\n        nuevoAmigosVisitados = [...nuevoAmigosVisitados, userAmigo.usuari]\r\n        arrayAmigos = [...arrayAmigos, { nombre: userAmigo.usuari, contador: 0 }]\r\n      }\r\n      arrayAmigos.forEach((el, index) => {\r\n        if (el.nombre === userAmigo.usuari) {\r\n          if (userAmigo.post[el.contador]) {\r\n            postMandar = [...postMandar, {\r\n              nombre: userAmigo.usuari,\r\n              post: userAmigo.post[el.contador],\r\n              icon: userAmigo.icon\r\n            }]\r\n            arrayAmigos[index].contador = arrayAmigos[index].contador + 1\r\n          }\r\n        }\r\n      })\r\n    }\r\n    numeroPost--\r\n  }\r\n  for (let i = numeroPost; i > 0; i--) {\r\n    const random = Math.round(Math.random() * (user.amigos.length - 1))\r\n    const userAmigo = await ModelUser.findOne({ _id: user.amigos[random] })\r\n    let existeAmigo = false\r\n    arrayAmigos.forEach(el => {\r\n      if (el.nombre === userAmigo.usuari) {\r\n        existeAmigo = true\r\n      }\r\n    })\r\n    if (userAmigo) {\r\n      if (!existeAmigo) {\r\n        nuevoAmigosVisitados = [...nuevoAmigosVisitados, userAmigo.usuari]\r\n        arrayAmigos = [...arrayAmigos, { nombre: userAmigo.usuari, contador: 0 }]\r\n      }\r\n      arrayAmigos.forEach((el, index) => {\r\n        if (el.nombre === userAmigo.usuari) {\r\n          if (userAmigo.post[el.contador]) {\r\n            postMandar = [...postMandar, {\r\n              nombre: userAmigo.usuari,\r\n              post: userAmigo.post[el.contador],\r\n              icon: userAmigo.icon\r\n            }]\r\n            arrayAmigos[index].contador = arrayAmigos[index].contador + 1\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n  res.status(200).json({ amigos: postMandar, nuevoAmigosVisitados, arrayAmigos })\r\n})\r\nRouter.post('/:id', async (req, res) => {\r\n  const cookie = req.headers.cookie\r\n  if (!cookie) {\r\n    res.render(path.join(pages, 'html/pagina_principal/index.html'))\r\n    return\r\n  }\r\n  const objetoVerificacion = verificacion(cookie)\r\n  if (!objetoVerificacion.metodo) {\r\n    res.render(path.join(pages, 'html/pagina_principal/index.html'))\r\n    return\r\n  }\r\n  const nombreAmigo = req.params.id.replaceAll('%20', ' ')\r\n  const user = await ModelUser.findOne({ usuari: objetoVerificacion.decodedToken.usuariname })\r\n  const userAmigo = await ModelUser.findOne({ usuari: nombreAmigo })\r\n  if (!userAmigo) {\r\n    res.status(400).send('que shinga me mandaste?')\r\n    return\r\n  }\r\n  let amigo = false\r\n  user.amigos.forEach(el => {\r\n    if (el === `${userAmigo._id}`) {\r\n      amigo = true\r\n    }\r\n  })\r\n  if (amigo) {\r\n    await ModelUser.updateMany({ usuari: user.usuari }, { $pullAll: { amigos: [userAmigo._id] } })\r\n  } else {\r\n    await ModelUser.updateOne({ usuari: user.usuari }, { $push: { amigos: { $each: [userAmigo._id], $position: 0 } } })\r\n  }\r\n  res.json(objetoVerificacion)\r\n})\r\nmodule.exports = Router\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1630420833142
  },
  "{\"assumptions\":{},\"sourceRoot\":\"D:\\\\copia\\\\server\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\copia\",\"filename\":\"D:\\\\copia\\\\server\\\\usariname.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\copia\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.0": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "D:\\copia\\server\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\copia",
      "filename": "D:\\copia\\server\\usariname.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "D:\\copia",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\copia\\server\\usariname.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\copia\\server\\usariname.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\copia\\server\\",
        "sourceFileName": "usariname.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst {\n  Schema,\n  model\n} = require('mongoose');\n\nconst usuari = new Schema({\n  usuari: {\n    type: String,\n    required: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  date: {\n    type: Date,\n    default: new Date()\n  },\n  background: {\n    type: String,\n    default: 'images/background.jpg'\n  },\n  backgroundDifumidado: {\n    type: String,\n    default: 'images/background.jpg'\n  },\n  icon: {\n    type: String,\n    default: 'images/camille-300x300.png'\n  },\n  amigos: {\n    type: [],\n    default: []\n  },\n  ultimasBusquedas: {\n    type: [],\n    default: []\n  },\n  post: []\n});\nmodule.exports = model('usuarios', usuari);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzYXJpbmFtZS5qcyJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb2RlbCIsInJlcXVpcmUiLCJ1c3VhcmkiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJwYXNzd29yZCIsImRhdGUiLCJEYXRlIiwiZGVmYXVsdCIsImJhY2tncm91bmQiLCJiYWNrZ3JvdW5kRGlmdW1pZGFkbyIsImljb24iLCJhbWlnb3MiLCJ1bHRpbWFzQnVzcXVlZGFzIiwicG9zdCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTTtBQUFFQSxFQUFBQSxNQUFGO0FBQVVDLEVBQUFBO0FBQVYsSUFBb0JDLE9BQU8sQ0FBQyxVQUFELENBQWpDOztBQUNBLE1BQU1DLE1BQU0sR0FBRyxJQUFJSCxNQUFKLENBQVc7QUFDeEJHLEVBQUFBLE1BQU0sRUFBRTtBQUFFQyxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQURnQjtBQUV4QkMsRUFBQUEsUUFBUSxFQUFFO0FBQUVILElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBRmM7QUFHeEJFLEVBQUFBLElBQUksRUFBRTtBQUFFSixJQUFBQSxJQUFJLEVBQUVLLElBQVI7QUFBY0MsSUFBQUEsT0FBTyxFQUFFLElBQUlELElBQUo7QUFBdkIsR0FIa0I7QUFJeEJFLEVBQUFBLFVBQVUsRUFBRTtBQUFFUCxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JLLElBQUFBLE9BQU8sRUFBRTtBQUF6QixHQUpZO0FBS3hCRSxFQUFBQSxvQkFBb0IsRUFBRTtBQUFFUixJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JLLElBQUFBLE9BQU8sRUFBRTtBQUF6QixHQUxFO0FBTXhCRyxFQUFBQSxJQUFJLEVBQUU7QUFBRVQsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCSyxJQUFBQSxPQUFPLEVBQUU7QUFBekIsR0FOa0I7QUFPeEJJLEVBQUFBLE1BQU0sRUFBRTtBQUFFVixJQUFBQSxJQUFJLEVBQUUsRUFBUjtBQUFZTSxJQUFBQSxPQUFPLEVBQUU7QUFBckIsR0FQZ0I7QUFReEJLLEVBQUFBLGdCQUFnQixFQUFFO0FBQUVYLElBQUFBLElBQUksRUFBRSxFQUFSO0FBQVlNLElBQUFBLE9BQU8sRUFBRTtBQUFyQixHQVJNO0FBU3hCTSxFQUFBQSxJQUFJLEVBQUU7QUFUa0IsQ0FBWCxDQUFmO0FBV0FDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmpCLEtBQUssQ0FBQyxVQUFELEVBQWFFLE1BQWIsQ0FBdEIiLCJzb3VyY2VSb290IjoiRDpcXGNvcGlhXFxzZXJ2ZXJcXCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgU2NoZW1hLCBtb2RlbCB9ID0gcmVxdWlyZSgnbW9uZ29vc2UnKVxyXG5jb25zdCB1c3VhcmkgPSBuZXcgU2NoZW1hKHtcclxuICB1c3Vhcmk6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIHBhc3N3b3JkOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBkYXRlOiB7IHR5cGU6IERhdGUsIGRlZmF1bHQ6IG5ldyBEYXRlKCkgfSxcclxuICBiYWNrZ3JvdW5kOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJ2ltYWdlcy9iYWNrZ3JvdW5kLmpwZycgfSxcclxuICBiYWNrZ3JvdW5kRGlmdW1pZGFkbzogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICdpbWFnZXMvYmFja2dyb3VuZC5qcGcnIH0sXHJcbiAgaWNvbjogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICdpbWFnZXMvY2FtaWxsZS0zMDB4MzAwLnBuZycgfSxcclxuICBhbWlnb3M6IHsgdHlwZTogW10sIGRlZmF1bHQ6IFtdIH0sXHJcbiAgdWx0aW1hc0J1c3F1ZWRhczogeyB0eXBlOiBbXSwgZGVmYXVsdDogW10gfSxcclxuICBwb3N0OiBbXVxyXG59KVxyXG5tb2R1bGUuZXhwb3J0cyA9IG1vZGVsKCd1c3VhcmlvcycsIHVzdWFyaSlcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "usariname.js"
      ],
      "names": [
        "Schema",
        "model",
        "require",
        "usuari",
        "type",
        "String",
        "required",
        "password",
        "date",
        "Date",
        "default",
        "background",
        "backgroundDifumidado",
        "icon",
        "amigos",
        "ultimasBusquedas",
        "post",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAM;AAAEA,EAAAA,MAAF;AAAUC,EAAAA;AAAV,IAAoBC,OAAO,CAAC,UAAD,CAAjC;;AACA,MAAMC,MAAM,GAAG,IAAIH,MAAJ,CAAW;AACxBG,EAAAA,MAAM,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADgB;AAExBC,EAAAA,QAAQ,EAAE;AAAEH,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAFc;AAGxBE,EAAAA,IAAI,EAAE;AAAEJ,IAAAA,IAAI,EAAEK,IAAR;AAAcC,IAAAA,OAAO,EAAE,IAAID,IAAJ;AAAvB,GAHkB;AAIxBE,EAAAA,UAAU,EAAE;AAAEP,IAAAA,IAAI,EAAEC,MAAR;AAAgBK,IAAAA,OAAO,EAAE;AAAzB,GAJY;AAKxBE,EAAAA,oBAAoB,EAAE;AAAER,IAAAA,IAAI,EAAEC,MAAR;AAAgBK,IAAAA,OAAO,EAAE;AAAzB,GALE;AAMxBG,EAAAA,IAAI,EAAE;AAAET,IAAAA,IAAI,EAAEC,MAAR;AAAgBK,IAAAA,OAAO,EAAE;AAAzB,GANkB;AAOxBI,EAAAA,MAAM,EAAE;AAAEV,IAAAA,IAAI,EAAE,EAAR;AAAYM,IAAAA,OAAO,EAAE;AAArB,GAPgB;AAQxBK,EAAAA,gBAAgB,EAAE;AAAEX,IAAAA,IAAI,EAAE,EAAR;AAAYM,IAAAA,OAAO,EAAE;AAArB,GARM;AASxBM,EAAAA,IAAI,EAAE;AATkB,CAAX,CAAf;AAWAC,MAAM,CAACC,OAAP,GAAiBjB,KAAK,CAAC,UAAD,EAAaE,MAAb,CAAtB",
      "sourceRoot": "D:\\copia\\server\\",
      "sourcesContent": [
        "const { Schema, model } = require('mongoose')\r\nconst usuari = new Schema({\r\n  usuari: { type: String, required: true },\r\n  password: { type: String, required: true },\r\n  date: { type: Date, default: new Date() },\r\n  background: { type: String, default: 'images/background.jpg' },\r\n  backgroundDifumidado: { type: String, default: 'images/background.jpg' },\r\n  icon: { type: String, default: 'images/camille-300x300.png' },\r\n  amigos: { type: [], default: [] },\r\n  ultimasBusquedas: { type: [], default: [] },\r\n  post: []\r\n})\r\nmodule.exports = model('usuarios', usuari)\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1629980441925
  }
}